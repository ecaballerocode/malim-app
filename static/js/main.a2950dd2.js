/*! For license information please see main.a2950dd2.js.LICENSE.txt */
(()=>{var e={811:(e,t,n)=>{var r=n(347),i=n(303).each;function s(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}s.prototype={constuctor:s,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=s},537:(e,t,n)=>{var r=n(811),i=n(303),s=i.each,a=i.isFunction,o=i.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var i=this.queries,l=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,l)),a(t)&&(t={match:t}),o(t)||(t=[t]),s(t,(function(t){a(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},347:e=>{function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},303:e=>{e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},535:(e,t,n)=>{var r=n(537);e.exports=new r},219:(e,t,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?a:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var o=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!s[v]&&(!r||!r[v])&&(!m||!m[v])&&(!o||!o[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case s:case o:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function _(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=o,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||x(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===s},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===o},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===o||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x},763:(e,t,n)=>{"use strict";e.exports=n(983)},270:(e,t,n)=>{var r=n(475),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,s){var a=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof a&&(a+="px"),t+=!0===a?i:!1===a?"not "+i:"("+i+": "+a+")",s<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},159:(e,t,n)=>{e.exports=function e(t,n,r){function i(a,o){if(!n[a]){if(!t[a]){if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var s=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,a,o,l,c,u=[],d=0,h=e.length,f=h,p="string"!==r.getTypeOf(e);d<e.length;)f=h-d,i=p?(t=e[d++],n=d<h?e[d++]:0,d<h?e[d++]:0):(t=e.charCodeAt(d++),n=d<h?e.charCodeAt(d++):0,d<h?e.charCodeAt(d++):0),a=t>>2,o=(3&t)<<4|n>>4,l=1<f?(15&n)<<2|i>>6:64,c=2<f?63&i:64,u.push(s.charAt(a)+s.charAt(o)+s.charAt(l)+s.charAt(c));return u.join("")},n.decode=function(e){var t,n,r,a,o,l,c=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&f--,e.charAt(e.length-2)===s.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=i.uint8array?new Uint8Array(0|f):new Array(0|f);c<e.length;)t=s.indexOf(e.charAt(c++))<<2|(a=s.indexOf(e.charAt(c++)))>>4,n=(15&a)<<4|(o=s.indexOf(e.charAt(c++)))>>2,r=(3&o)<<6|(l=s.indexOf(e.charAt(c++))),h[u++]=t,64!==o&&(h[u++]=n),64!==l&&(h[u++]=r);return h}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function o(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}o.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var s=i,a=r+n;e^=-1;for(var o=r;o<a;o++)e=e>>>8^s[255&(e^t[o])];return~e}(0|t,e,e.length,0):function(e,t,n,r){var s=i,a=r+n;e^=-1;for(var o=r;o<a;o++)e=e>>>8^s[255&(e^t.charCodeAt(o))];return~e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),s=e("./utils"),a=e("./stream/GenericWorker"),o=r?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",s.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,a,u){var d,h,f=e.file,p=e.compression,m=u!==o.utf8encode,g=s.transformTo("string",u(f.name)),v=s.transformTo("string",o.utf8encode(f.name)),y=f.comment,b=s.transformTo("string",u(y)),w=s.transformTo("string",o.utf8encode(y)),x=v.length!==f.name.length,_=w.length!==y.length,k="",S="",E="",C=f.dir,N=f.date,T={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(T.crc32=e.crc32,T.compressedSize=e.compressedSize,T.uncompressedSize=e.uncompressedSize);var I=0;t&&(I|=8),m||!x&&!_||(I|=2048);var j=0,O=0;C&&(j|=16),"UNIX"===a?(O=798,j|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(f.unixPermissions,C)):(O=20,j|=function(e){return 63&(e||0)}(f.dosPermissions)),d=N.getUTCHours(),d<<=6,d|=N.getUTCMinutes(),d<<=5,d|=N.getUTCSeconds()/2,h=N.getUTCFullYear()-1980,h<<=4,h|=N.getUTCMonth()+1,h<<=5,h|=N.getUTCDate(),x&&(S=r(1,1)+r(l(g),4)+v,k+="up"+r(S.length,2)+S),_&&(E=r(1,1)+r(l(b),4)+w,k+="uc"+r(E.length,2)+E);var A="";return A+="\n\0",A+=r(I,2),A+=p.magic,A+=r(d,2),A+=r(h,2),A+=r(T.crc32,4),A+=r(T.compressedSize,4),A+=r(T.uncompressedSize,4),A+=r(g.length,2),A+=r(k.length,2),{fileRecord:c.LOCAL_FILE_HEADER+A+g+k,dirRecord:c.CENTRAL_FILE_HEADER+r(O,2)+A+r(b.length,2)+"\0\0\0\0"+r(j,4)+r(i,4)+g+k+b}}var s=e("../utils"),a=e("../stream/GenericWorker"),o=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(u,a),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,a){var o=s.transformTo("string",a(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(o.length,2)+o}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var s=new i(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),o=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(i,o).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(s)})),s.entriesCount=a}catch(e){s.error(e)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),s=e("./utf8"),a=e("./zipEntries"),o=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new o);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var s=0;s<r.length;s++)n.push(c(r[s]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),s=i.files,a=0;a<s.length;a++){var o=s[a],l=o.fileNameStr,c=r.resolve(o.fileNameStr);n.file(c,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders}),o.dir||(n.file(c).unsafeOriginalName=l)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function s(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=s.getTypeOf(t),o=s.extend(n||{},l);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(e=m(e)),o.createFolders&&(r=p(e))&&g.call(this,r,!0);var d="string"===i&&!1===o.binary&&!1===o.base64;n&&void 0!==n.binary||(o.binary=!d),(t instanceof c&&0===t.uncompressedSize||o.dir||!t||0===t.length)&&(o.base64=!1,o.binary=!0,t="",o.compression="STORE",i="string");var v=null;v=t instanceof c||t instanceof a?t:h.isNode&&h.isStream(t)?new f(e,t):s.prepareContent(e,t,o.binary,o.optimizedBinaryString,o.base64);var y=new u(e,v,o);this.files[e]=y}var i=e("./utf8"),s=e("./utils"),a=e("./stream/GenericWorker"),o=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),h=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(v(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var s=this.files[this.root+e];return s&&!s.dir?s:null},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");s.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new o(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===n&&this.data[s+2]===r&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&n===s[1]&&r===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),s=e("./ArrayReader"),a=e("./StringReader"),o=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new o(e):i.uint8array?new l(r.transformTo("uint8array",e)):new s(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function s(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(s,r),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function s(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,r),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function s(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function s(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),s=e("./GenericWorker"),a=e("../base64"),o=e("../support"),l=e("../external"),c=null;if(o.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t){return new l.Promise((function(n,i){var s=[],o=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,n){s.push(e),t&&t(n)})).on("error",(function(e){s=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,i=null,s=0;for(n=0;n<t.length;n++)s+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(s),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(o,s),c);n(e)}catch(e){i(e)}s=[]})).resume()}))}function d(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new i(a)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),s=e("./nodejsUtils"),a=e("./stream/GenericWorker"),o=new Array(256),l=0;l<256;l++)o[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}o[254]=o[254]=1,n.utf8encode=function(e){return i.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,n,r,s,a,o=e.length,l=0;for(s=0;s<o;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),s=a=0;a<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,s,a=e.length,l=new Array(2*a);for(t=n=0;t<a;)if((i=e[t++])<128)l[n++]=i;else if(4<(s=o[i]))l[n++]=65533,t+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&t<a;)i=i<<6|63&e[t++],s--;1<s?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(c,a),c.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var s=t;(t=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),t.set(s,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}(t),l=t;a!==t.length&&(i.uint8array?(l=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(l=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(u,a),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),s=e("./nodejsUtils"),a=e("./external");function o(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],i=0,s=e.length;if(s<=n)return String.fromCharCode.apply(null,e);for(;i<s;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,s)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,s)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=c.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var h={};h.string={string:o,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,s.allocBuffer(e.length))}},h.array={string:u,array:o,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},h.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:o,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:o,nodebuffer:function(e){return s.newBufferFrom(e)}},h.nodebuffer={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:o},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return h[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&s.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,s,o,c){return a.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(c?t=i.decode(t):s&&!0!==o&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),s=e("./signature"),a=e("./zipEntry"),o=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),s=e("./compressedObject"),a=e("./crc32"),o=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var s=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),a=e("./utf8"),o=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!s&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof l?this._data:new s(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)r.prototype[c[d]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var s=0,a=new i(u),o=e.document.createTextNode("");a.observe(o,{characterData:!0}),n=function(){o.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var s={},a=["REJECTED"],o=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return s.reject(e,r)}r===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,r)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,s.reject(e,t))}function i(t){n||(n=!0,s.resolve(e,t))}var a=p((function(){t(i,r)}));"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==l?d(n,this.state===o?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){s.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},s.resolve=function(e,t){var n=p(h,t);if("error"===n.status)return s.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=o,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},s.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:s.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return s.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),o=0,l=-1,c=new this(i);++l<n;)u(e[l],l);return c;function u(e,i){t.resolve(e).then((function(e){a[i]=e,++o!==n||r||(r=!0,s.resolve(c,a))}),(function(e){r||(r=!0,s.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a,o=-1,l=new this(i);++o<n;)a=e[o],t.resolve(a).then((function(e){r||(r=!0,s.resolve(l,e))}),(function(e){r||(r=!0,s.reject(l,e))}));return l}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),s=e("./utils/strings"),a=e("./zlib/messages"),o=e("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,d=0,h=8;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({level:u,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(e,t){var n,a,o=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=s.string2buf(e):"[object ArrayBuffer]"===l.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(u),o.next_out=0,o.avail_out=u),1!==(n=r.deflate(o,a))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((0<o.avail_in||0===o.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==a||(this.onEnd(c),!(o.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=f,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),s=e("./utils/strings"),a=e("./zlib/constants"),o=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(o[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}d.prototype.push=function(e,t){var n,o,l,c,d,h,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=s.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(h="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(f.output,f.next_out),c=f.next_out-l,d=s.buf2string(f.output,l),f.next_out=c,f.avail_out=p-c,c&&i.arraySet(f.output,f.output,l,c,0),this.onData(d)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(f.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=h,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){var t,n,r,i,s,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)s=e[t],a.set(s,i),i+=s.length;return a}},s={arraySet:function(e,t,n,r,i){for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var a=new r.Buf8(256),o=0;o<256;o++)a[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,s,a,o=e.length,l=0;for(s=0;s<o;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),s=a=0;a<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,s,o=t||e.length,c=new Array(2*o);for(n=r=0;n<o;)if((i=e[n++])<128)c[r++]=i;else if(4<(s=a[i]))c[r++]=65533,n+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&n<o;)i=i<<6|63&e[n++],s--;1<s?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return l(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e,s=e>>>16&65535,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;s=s+(i=i+t[r++]|0)|0,--a;);i%=65521,s%=65521}return i|s<<16}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var s=r,a=i+n;e^=-1;for(var o=i;o<a;o++)e=e>>>8^s[255&(e^t[o])];return~e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),s=e("./trees"),a=e("./adler32"),o=e("./crc32"),l=e("./messages"),c=0,u=4,d=0,h=-2,f=-1,p=4,m=2,g=8,v=9,y=286,b=30,w=19,x=2*y+1,_=15,k=3,S=258,E=S+k+1,C=42,N=113,T=1,I=2,j=3,O=4;function A(e,t){return e.msg=l[t],t}function P(e){return(e<<1)-(4<e?9:0)}function R(e){for(var t=e.length;0<=--t;)e[t]=0}function D(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function L(e,t){s._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,D(e.strm)}function M(e,t){e.pending_buf[e.pending++]=t}function z(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function F(e,t){var n,r,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+S,f=c[s+a-1],p=c[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(n=t)+a]===p&&c[n+a-1]===f&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<h);if(r=S-(h-s),s=h-S,a<r){if(e.match_start=t,o<=(a=r))break;f=c[s+a-1],p=c[s+a]}}}while((t=d[t&u])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function U(e){var t,n,r,s,l,c,u,d,h,f,p=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-E)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);s+=p}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,d=e.strstart+e.lookahead,f=void 0,(h=s)<(f=c.avail_in)&&(f=h),n=0===f?0:(c.avail_in-=f,i.arraySet(u,c.input,c.next_in,f,d),1===c.state.wrap?c.adler=a(c.adler,u,f,d):2===c.state.wrap&&(c.adler=o(c.adler,u,f,d)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=k)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+k-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function V(e,t){for(var n,r;;){if(e.lookahead<E){if(U(e),e.lookahead<E&&t===c)return T;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-E&&(e.match_length=F(e,n)),e.match_length>=k)if(r=s._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(L(e,!1),0===e.strm.avail_out))return T}return e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(L(e,!0),0===e.strm.avail_out?j:O):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?T:I}function B(e,t){for(var n,r,i;;){if(e.lookahead<E){if(U(e),e.lookahead<E&&t===c)return T;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-E&&(e.match_length=F(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-k,r=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,r&&(L(e,!1),0===e.strm.avail_out))return T}else if(e.match_available){if((r=s._tr_tally(e,0,e.window[e.strstart-1]))&&L(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return T}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(L(e,!0),0===e.strm.avail_out?j:O):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?T:I}function $(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*x),this.dyn_dtree=new i.Buf16(2*(2*b+1)),this.bl_tree=new i.Buf16(2*(2*w+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(_+1),this.heap=new i.Buf16(2*y+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*y+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:N,e.adler=2===t.wrap?0:1,t.last_flush=c,s._tr_init(t),d):A(e,h)}function W(e){var t=q(e);return t===d&&function(e){e.window_size=2*e.w_size,R(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0}(e.state),t}function G(e,t,n,r,s,a){if(!e)return h;var o=1;if(t===f&&(t=6),r<0?(o=0,r=-r):15<r&&(o=2,r-=16),s<1||v<s||n!==g||r<8||15<r||t<0||9<t||a<0||p<a)return A(e,h);8===r&&(r=9);var l=new H;return(e.state=l).strm=e,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,W(e)}r=[new $(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(U(e),0===e.lookahead&&t===c)return T;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,L(e,!1),0===e.strm.avail_out))return T;if(e.strstart-e.block_start>=e.w_size-E&&(L(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(L(e,!0),0===e.strm.avail_out?j:O):(e.strstart>e.block_start&&(L(e,!1),e.strm.avail_out),T)})),new $(4,4,8,4,V),new $(4,5,16,8,V),new $(4,6,32,32,V),new $(4,4,16,16,B),new $(8,16,32,32,B),new $(8,16,128,128,B),new $(8,32,128,256,B),new $(32,128,258,1024,B),new $(32,258,258,4096,B)],n.deflateInit=function(e,t){return G(e,t,g,15,8,0)},n.deflateInit2=G,n.deflateReset=W,n.deflateResetKeep=q,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,d):h},n.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||5<t||t<0)return e?A(e,h):h;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==u)return A(e,0===e.avail_out?-5:h);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===C)if(2===i.wrap)e.adler=0,M(i,31),M(i,139),M(i,8),i.gzhead?(M(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),M(i,255&i.gzhead.time),M(i,i.gzhead.time>>8&255),M(i,i.gzhead.time>>16&255),M(i,i.gzhead.time>>24&255),M(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),M(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(M(i,255&i.gzhead.extra.length),M(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=o(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(M(i,0),M(i,0),M(i,0),M(i,0),M(i,0),M(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),M(i,3),i.status=N);else{var f=g+(i.w_bits-8<<4)<<8;f|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=N,z(i,f),0!==i.strstart&&(z(i,e.adler>>>16),z(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),D(e),a=i.pending,i.pending!==i.pending_buf_size));)M(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),D(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,M(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),D(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,M(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&D(e),i.pending+2<=i.pending_buf_size&&(M(i,255&e.adler),M(i,e.adler>>8&255),e.adler=0,i.status=N)):i.status=N),0!==i.pending){if(D(e),0===e.avail_out)return i.last_flush=-1,d}else if(0===e.avail_in&&P(t)<=P(n)&&t!==u)return A(e,-5);if(666===i.status&&0!==e.avail_in)return A(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==c&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(U(e),0===e.lookahead)){if(t===c)return T;break}if(e.match_length=0,n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(L(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(L(e,!0),0===e.strm.avail_out?j:O):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?T:I}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,o=e.window;;){if(e.lookahead<=S){if(U(e),e.lookahead<=S&&t===c)return T;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(r=o[i=e.strstart-1])===o[++i]&&r===o[++i]&&r===o[++i]){a=e.strstart+S;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);e.match_length=S-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(n=s._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(L(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(L(e,!0),0===e.strm.avail_out?j:O):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?T:I}(i,t):r[i.level].func(i,t);if(p!==j&&p!==O||(i.status=666),p===T||p===j)return 0===e.avail_out&&(i.last_flush=-1),d;if(p===I&&(1===t?s._tr_align(i):5!==t&&(s._tr_stored_block(i,0,0,!1),3===t&&(R(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),D(e),0===e.avail_out))return i.last_flush=-1,d}return t!==u?d:i.wrap<=0?1:(2===i.wrap?(M(i,255&e.adler),M(i,e.adler>>8&255),M(i,e.adler>>16&255),M(i,e.adler>>24&255),M(i,255&e.total_in),M(i,e.total_in>>8&255),M(i,e.total_in>>16&255),M(i,e.total_in>>24&255)):(z(i,e.adler>>>16),z(i,65535&e.adler)),D(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==N&&666!==t?A(e,h):(e.state=null,t===N?A(e,-3):d):h},n.deflateSetDictionary=function(e,t){var n,r,s,o,l,c,u,f,p=t.length;if(!e||!e.state)return h;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==C||n.lookahead)return h;for(1===o&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===o&&(R(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,p-n.w_size,n.w_size,0),t=f,p=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,U(n);n.lookahead>=k;){for(r=n.strstart,s=n.lookahead-(k-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+k-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--s;);n.strstart=r,n.lookahead=k-1,U(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=k-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=o,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,s,a,o,l,c,u,d,h,f,p,m,g,v,y,b,w,x,_,k,S,E,C;n=e.state,r=e.next_in,E=e.input,i=r+(e.avail_in-5),s=e.next_out,C=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,h=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(f+=E[r++]<<p,p+=8,f+=E[r++]<<p,p+=8),b=m[f&v];t:for(;;){if(f>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))C[s++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(p<w&&(f+=E[r++]<<p,p+=8),x+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=E[r++]<<p,p+=8,f+=E[r++]<<p,p+=8),b=g[f&y];n:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&b,p<(w&=15)&&(f+=E[r++]<<p,(p+=8)<w&&(f+=E[r++]<<p,p+=8)),l<(_+=f&(1<<w)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=w,p-=w,(w=s-a)<_){if(u<(w=_-w)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=h,(k=0)===d){if(k+=c-w,w<x){for(x-=w;C[s++]=h[k++],--w;);k=s-_,S=C}}else if(d<w){if(k+=c+d-w,(w-=d)<x){for(x-=w;C[s++]=h[k++],--w;);if(k=0,d<x){for(x-=w=d;C[s++]=h[k++],--w;);k=s-_,S=C}}}else if(k+=d-w,w<x){for(x-=w;C[s++]=h[k++],--w;);k=s-_,S=C}for(;2<x;)C[s++]=S[k++],C[s++]=S[k++],C[s++]=S[k++],x-=3;x&&(C[s++]=S[k++],1<x&&(C[s++]=S[k++]))}else{for(k=s-_;C[s++]=C[k++],C[s++]=C[k++],C[s++]=C[k++],2<(x-=3););x&&(C[s++]=C[k++],1<x&&(C[s++]=C[k++]))}break}}break}}while(r<i&&s<o);r-=x=p>>3,f&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=s<o?o-s+257:257-(s-o),n.hold=f,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),s=e("./crc32"),a=e("./inffast"),o=e("./inftrees"),l=1,c=2,u=0,d=-2,h=1,f=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(f),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,u):d}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,v(e)):d}function b(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,y(e))):d}function w(e,t){var n,r;return e?(r=new g,(e.state=r).window=null,(n=b(e,t))!==u&&(e.state=null),n):d}var x,_,k=!0;function S(e){if(k){var t;for(x=new r.Buf32(512),_=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(l,e.lens,0,288,x,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(c,e.lens,0,32,_,0,e.work,{bits:5}),k=!1}e.lencode=x,e.lenbits=9,e.distcode=_,e.distbits=5}function E(e,t,n,i){var s,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(s=a.wsize-a.wnext)&&(s=i),r.arraySet(a.window,t,n-i,s,a.wnext),(i-=s)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0}n.inflateReset=y,n.inflateReset2=b,n.inflateResetKeep=v,n.inflateInit=function(e){return w(e,15)},n.inflateInit2=w,n.inflate=function(e,t){var n,f,p,g,v,y,b,w,x,_,k,C,N,T,I,j,O,A,P,R,D,L,M,z,F=0,U=new r.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(n=e.state).mode&&(n.mode=13),v=e.next_out,p=e.output,b=e.avail_out,g=e.next_in,f=e.input,y=e.avail_in,w=n.hold,x=n.bits,_=y,k=b,L=u;e:for(;;)switch(n.mode){case h:if(0===n.wrap){n.mode=13;break}for(;x<16;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(2&n.wrap&&35615===w){U[n.check=0]=255&w,U[1]=w>>>8&255,n.check=s(n.check,U,2,0),x=w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&w)){e.msg="unknown compression method",n.mode=30;break}if(x-=4,D=8+(15&(w>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&w?10:12,x=w=0;break;case 2:for(;x<16;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(n.flags=w,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=w>>8&1),512&n.flags&&(U[0]=255&w,U[1]=w>>>8&255,n.check=s(n.check,U,2,0)),x=w=0,n.mode=3;case 3:for(;x<32;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}n.head&&(n.head.time=w),512&n.flags&&(U[0]=255&w,U[1]=w>>>8&255,U[2]=w>>>16&255,U[3]=w>>>24&255,n.check=s(n.check,U,4,0)),x=w=0,n.mode=4;case 4:for(;x<16;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}n.head&&(n.head.xflags=255&w,n.head.os=w>>8),512&n.flags&&(U[0]=255&w,U[1]=w>>>8&255,n.check=s(n.check,U,2,0)),x=w=0,n.mode=5;case 5:if(1024&n.flags){for(;x<16;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}n.length=w,n.head&&(n.head.extra_len=w),512&n.flags&&(U[0]=255&w,U[1]=w>>>8&255,n.check=s(n.check,U,2,0)),x=w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(C=n.length)&&(C=y),C&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,g,C,D)),512&n.flags&&(n.check=s(n.check,f,C,g)),y-=C,g+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(C=0;D=f[g+C++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&C<y;);if(512&n.flags&&(n.check=s(n.check,f,C,g)),y-=C,g+=C,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(C=0;D=f[g+C++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&C<y;);if(512&n.flags&&(n.check=s(n.check,f,C,g)),y-=C,g+=C,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;x<16;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(w!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}x=w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;x<32;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}e.adler=n.check=m(w),x=w=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=v,e.avail_out=b,e.next_in=g,e.avail_in=y,n.hold=w,n.bits=x,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){w>>>=7&x,x-=7&x,n.mode=27;break}for(;x<3;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}switch(n.last=1&w,x-=1,3&(w>>>=1)){case 0:n.mode=14;break;case 1:if(S(n),n.mode=20,6!==t)break;w>>>=2,x-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}w>>>=2,x-=2;break;case 14:for(w>>>=7&x,x-=7&x;x<32;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if((65535&w)!=(w>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&w,x=w=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(y<C&&(C=y),b<C&&(C=b),0===C)break e;r.arraySet(p,f,g,C,v),y-=C,g+=C,b-=C,v+=C,n.length-=C;break}n.mode=12;break;case 17:for(;x<14;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(n.nlen=257+(31&w),w>>>=5,x-=5,n.ndist=1+(31&w),w>>>=5,x-=5,n.ncode=4+(15&w),w>>>=4,x-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;x<3;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}n.lens[V[n.have++]]=7&w,w>>>=3,x-=3}for(;n.have<19;)n.lens[V[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},L=o(0,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,L){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;j=(F=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,O=65535&F,!((I=F>>>24)<=x);){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(O<16)w>>>=I,x-=I,n.lens[n.have++]=O;else{if(16===O){for(z=I+2;x<z;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(w>>>=I,x-=I,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],C=3+(3&w),w>>>=2,x-=2}else if(17===O){for(z=I+3;x<z;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}x-=I,D=0,C=3+(7&(w>>>=I)),w>>>=3,x-=3}else{for(z=I+7;x<z;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}x-=I,D=0,C=11+(127&(w>>>=I)),w>>>=7,x-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,M={bits:n.lenbits},L=o(l,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,L){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},L=o(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,L){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=b){e.next_out=v,e.avail_out=b,e.next_in=g,e.avail_in=y,n.hold=w,n.bits=x,a(e,k),v=e.next_out,p=e.output,b=e.avail_out,g=e.next_in,f=e.input,y=e.avail_in,w=n.hold,x=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;j=(F=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,O=65535&F,!((I=F>>>24)<=x);){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(j&&0==(240&j)){for(A=I,P=j,R=O;j=(F=n.lencode[R+((w&(1<<A+P)-1)>>A)])>>>16&255,O=65535&F,!(A+(I=F>>>24)<=x);){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}w>>>=A,x-=A,n.back+=A}if(w>>>=I,x-=I,n.back+=I,n.length=O,0===j){n.mode=26;break}if(32&j){n.back=-1,n.mode=12;break}if(64&j){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&j,n.mode=22;case 22:if(n.extra){for(z=n.extra;x<z;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,x-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;j=(F=n.distcode[w&(1<<n.distbits)-1])>>>16&255,O=65535&F,!((I=F>>>24)<=x);){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(0==(240&j)){for(A=I,P=j,R=O;j=(F=n.distcode[R+((w&(1<<A+P)-1)>>A)])>>>16&255,O=65535&F,!(A+(I=F>>>24)<=x);){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}w>>>=A,x-=A,n.back+=A}if(w>>>=I,x-=I,n.back+=I,64&j){e.msg="invalid distance code",n.mode=30;break}n.offset=O,n.extra=15&j,n.mode=24;case 24:if(n.extra){for(z=n.extra;x<z;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,x-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break e;if(C=k-b,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}N=C>n.wnext?(C-=n.wnext,n.wsize-C):n.wnext-C,C>n.length&&(C=n.length),T=n.window}else T=p,N=v-n.offset,C=n.length;for(b<C&&(C=b),b-=C,n.length-=C;p[v++]=T[N++],--C;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break e;p[v++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;x<32;){if(0===y)break e;y--,w|=f[g++]<<x,x+=8}if(k-=b,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?s(n.check,p,k,v-k):i(n.check,p,k,v-k)),k=b,(n.flags?w:m(w))!==n.check){e.msg="incorrect data check",n.mode=30;break}x=w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;x<32;){if(0===y)break e;y--,w+=f[g++]<<x,x+=8}if(w!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}x=w=0}n.mode=29;case 29:L=1;break e;case 30:L=-3;break e;case 31:return-4;default:return d}return e.next_out=v,e.avail_out=b,e.next_in=g,e.avail_in=y,n.hold=w,n.bits=x,(n.wsize||k!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&E(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(_-=e.avail_in,k-=e.avail_out,e.total_in+=_,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?s(n.check,p,k,e.next_out-k):i(n.check,p,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==_&&0===k||4===t)&&L===u&&(L=-5),L)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?d:((n.head=t).done=!1,u):d},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&i(1,t,r,0)!==n.check?-3:E(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,d,h){var f,p,m,g,v,y,b,w,x,_=h.bits,k=0,S=0,E=0,C=0,N=0,T=0,I=0,j=0,O=0,A=0,P=null,R=0,D=new r.Buf16(16),L=new r.Buf16(16),M=null,z=0;for(k=0;k<=15;k++)D[k]=0;for(S=0;S<l;S++)D[t[n+S]]++;for(N=_,C=15;1<=C&&0===D[C];C--);if(C<N&&(N=C),0===C)return c[u++]=20971520,c[u++]=20971520,h.bits=1,0;for(E=1;E<C&&0===D[E];E++);for(N<E&&(N=E),k=j=1;k<=15;k++)if(j<<=1,(j-=D[k])<0)return-1;if(0<j&&(0===e||1!==C))return-1;for(L[1]=0,k=1;k<15;k++)L[k+1]=L[k]+D[k];for(S=0;S<l;S++)0!==t[n+S]&&(d[L[t[n+S]]++]=S);if(y=0===e?(P=M=d,19):1===e?(P=i,R-=257,M=s,z-=257,256):(P=a,M=o,-1),k=E,v=u,I=S=A=0,m=-1,g=(O=1<<(T=N))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(b=k-I,x=d[S]<y?(w=0,d[S]):d[S]>y?(w=M[z+d[S]],P[R+d[S]]):(w=96,0),f=1<<k-I,E=p=1<<T;c[v+(A>>I)+(p-=f)]=b<<24|w<<16|x,0!==p;);for(f=1<<k-1;A&f;)f>>=1;if(0!==f?(A&=f-1,A+=f):A=0,S++,0==--D[k]){if(k===C)break;k=t[n+d[S]]}if(N<k&&(A&g)!==m){for(0===I&&(I=N),v+=E,j=1<<(T=k-I);T+I<C&&!((j-=D[T+I])<=0);)T++,j<<=1;if(O+=1<<T,1===e&&852<O||2===e&&592<O)return 1;c[m=A&g]=N<<24|T<<16|v-u}}return 0!==A&&(c[v+A]=k-I<<24|64<<16),h.bits=N,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,s=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var o=0,l=29,c=256,u=c+1+l,d=30,h=19,f=2*u+1,p=15,m=16,g=7,v=256,y=16,b=17,w=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(2*(u+2));a(E);var C=new Array(2*d);a(C);var N=new Array(512);a(N);var T=new Array(256);a(T);var I=new Array(l);a(I);var j,O,A,P=new Array(d);function R(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function L(e){return e<256?N[e]:N[256+(e>>>7)]}function M(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function z(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,M(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function F(e,t,n){z(e,n[2*t],n[2*t+1])}function U(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function V(e,t,n){var r,i,s=new Array(p+1),a=0;for(r=1;r<=p;r++)s[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=U(s[o]++,o))}}function B(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function $(e){8<e.bi_valid?M(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,n,r){var i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]}function q(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function W(e,t,n){var r,i,s,a,o=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===r?F(e,i,t):(F(e,(s=T[i])+c+1,t),0!==(a=x[s])&&z(e,i-=I[s],a),F(e,s=L(--r),n),0!==(a=_[s])&&z(e,r-=P[s],a)),o<e.last_lit;);F(e,v,t)}function G(e,t){var n,r,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=f,n=0;n<l;n++)0!==s[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):s[2*n+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)q(e,s,n);for(i=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],q(e,s,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,s[2*i]=s[2*n]+s[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,s[2*n+1]=s[2*r+1]=i,e.heap[1]=i++,q(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,s,a,o,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,v=0;for(s=0;s<=p;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<f;n++)g<(s=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(s=g,v++),l[2*r+1]=s,c<r||(e.bl_count[s]++,a=0,m<=r&&(a=h[r-m]),o=l[2*r],e.opt_len+=o*(s+a),d&&(e.static_len+=o*(u[2*r+1]+a)));if(0!==v){do{for(s=g-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[g]--,v-=2}while(0<v);for(s=g;0!==s;s--)for(r=e.bl_count[s];0!==r;)c<(i=e.heap[--n])||(l[2*i+1]!==s&&(e.opt_len+=(s-l[2*i+1])*l[2*i],l[2*i+1]=s),r--)}}(e,t),V(s,c,e.bl_count)}function K(e,t,n){var r,i,s=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++o<l&&i===a||(o<c?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*y]++):o<=10?e.bl_tree[2*b]++:e.bl_tree[2*w]++,s=i,c=(o=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4))}function Q(e,t,n){var r,i,s=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++o<l&&i===a)){if(o<c)for(;F(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==s&&(F(e,i,e.bl_tree),o--),F(e,y,e.bl_tree),z(e,o-3,2)):o<=10?(F(e,b,e.bl_tree),z(e,o-3,3)):(F(e,w,e.bl_tree),z(e,o-11,7));s=i,c=(o=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4)}}a(P);var Y=!1;function X(e,t,n,i){z(e,(o<<1)+(i?1:0),3),function(e,t,n,i){$(e),i&&(M(e,n),M(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){Y||(function(){var e,t,n,r,i,s=new Array(p+1);for(r=n=0;r<l-1;r++)for(I[r]=n,e=0;e<1<<x[r];e++)T[n++]=r;for(T[n-1]=r,r=i=0;r<16;r++)for(P[r]=i,e=0;e<1<<_[r];e++)N[i++]=r;for(i>>=7;r<d;r++)for(P[r]=i<<7,e=0;e<1<<_[r]-7;e++)N[256+i++]=r;for(t=0;t<=p;t++)s[t]=0;for(e=0;e<=143;)E[2*e+1]=8,e++,s[8]++;for(;e<=255;)E[2*e+1]=9,e++,s[9]++;for(;e<=279;)E[2*e+1]=7,e++,s[7]++;for(;e<=287;)E[2*e+1]=8,e++,s[8]++;for(V(E,u+1,s),e=0;e<d;e++)C[2*e+1]=5,C[2*e]=U(e,5);j=new R(E,x,c+1,u,p),O=new R(C,_,0,d,p),A=new R(new Array(0),k,0,h,g)}(),Y=!0),e.l_desc=new D(e.dyn_ltree,j),e.d_desc=new D(e.dyn_dtree,O),e.bl_desc=new D(e.bl_tree,A),e.bi_buf=0,e.bi_valid=0,B(e)},n._tr_stored_block=X,n._tr_flush_block=function(e,t,n,r){var a,o,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return s;return i}(e)),G(e,e.l_desc),G(e,e.d_desc),l=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),G(e,e.bl_desc),t=h-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=a&&(a=o)):a=o=n+5,n+4<=a&&-1!==t?X(e,t,n,r):4===e.strategy||o===a?(z(e,2+(r?1:0),3),W(e,E,C)):(z(e,4+(r?1:0),3),function(e,t,n,r){var i;for(z(e,t-257,5),z(e,n-1,5),z(e,r-4,4),i=0;i<r;i++)z(e,e.bl_tree[2*S[i]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),W(e,e.dyn_ltree,e.dyn_dtree)),B(e),r&&$(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(T[n]+c+1)]++,e.dyn_dtree[2*L(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){z(e,2,3),F(e,v,E),function(e){16===e.bi_valid?(M(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,i,s,a=1,o={},l=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(s="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){i.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(h,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return o[a]=i,n(a),a++},u.clearImmediate=d}function d(e){delete o[e]}function h(e){if(l)setTimeout(h,0,e);else{var n=o[e];if(n){l=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{d(e),l=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&h(+t.data.slice(s.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},446:(e,t,n)=>{var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype.toString,h=Math.max,f=Math.min,p=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=s.test(e);return n||a.test(e)?o(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,s,a,o,l,c=0,u=!1,d=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,s=i;return r=i=void 0,c=t,a=e.apply(s,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=s}function w(){var e=p();if(b(e))return x(e);o=setTimeout(w,function(e){var n=t-(e-l);return d?f(n,s-(e-c)):n}(e))}function x(e){return o=void 0,v&&r?y(e):(r=i=void 0,a)}function _(){var e=p(),n=b(e);if(r=arguments,i=this,l=e,n){if(void 0===o)return function(e){return c=e,o=setTimeout(w,t),u?y(e):a}(l);if(d)return o=setTimeout(w,t),y(l)}return void 0===o&&(o=setTimeout(w,t)),a}return t=g(t)||0,m(n)&&(u=!!n.leading,s=(d="maxWait"in n)?h(g(n.maxWait)||0,t):s,v="trailing"in n?!!n.trailing:v),_.cancel=function(){void 0!==o&&clearTimeout(o),c=0,r=l=i=o=void 0},_.flush=function(){return void 0===o?a:x(p())},_}},766:function(e,t){var n,r,i;r=[],n=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,s={},a=0,o={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(s=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,s)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&x(this._config.beforeFirstChunk)&&void 0!==(s=this._config.beforeFirstChunk(e))&&(e=s),this.isFirstChunk=!1,this._halted=!1,r=this._partialLine+e;var s=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=s.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),s&&s.data&&(this._rowCount+=s.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,i)n.postMessage({results:s,workerId:o.WORKER_ID,finished:r});else if(x(this._config.chunk)&&!t){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=s=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!r||!x(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){x(this._config.error)?this._config.error(e):i&&this._config.error&&n.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),l.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+i));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function u(e){(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),l.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,i=(this._config.chunkSize&&(i=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,i)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function h(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=w((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=w((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=w((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function f(e){var t,n,r,i,s=Math.pow(2,53),a=-s,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,d=0,h=0,f=!1,g=!1,v=[],y={data:[],errors:[],meta:{}};function w(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){if(y&&r&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(y.data=y.data.filter((function(e){return!w(e)}))),k()){if(y)if(Array.isArray(y.data[0])){for(var t=0;k()&&t<y.data.length;t++)y.data[t].forEach(n);y.data.splice(0,1)}else y.data.forEach(n);function n(t,n){x(e.transformHeader)&&(t=e.transformHeader(t,n)),v.push(t)}}function i(t,n){for(var r=e.header?{}:[],i=0;i<t.length;i++){var o=i,u=t[i];u=((t,n)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(l.test(e)&&(e=parseFloat(e),a<e&&e<s))return 1})(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n)(o=e.header?i>=v.length?"__parsed_extra":v[i]:o,u=e.transform?e.transform(u,o):u),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(u)):r[o]=u}return e.header&&(i>v.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+i,h+n):i<v.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+i,h+n)),r}var u;y&&(e.header||e.dynamicTyping||e.transform)&&(u=1,!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(i),u=y.data.length):y.data=i(y.data,0),e.header&&y.meta&&(y.meta.fields=v),h+=u)}function k(){return e.header&&0===v.length}function S(e,t,n,r){e={type:e,code:t,message:n},void 0!==r&&(e.row=r),y.errors.push(e)}x(e.step)&&(i=e.step,e.step=function(t){y=t,k()?_():(_(),0!==y.data.length&&(d+=t.data.length,e.preview&&d>e.preview?n.abort():(y.data=y.data[0],i(y,u))))}),this.parse=function(i,s,a){var l=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(i,l)),r=!1,e.delimiter?x(e.delimiter)&&(e.delimiter=e.delimiter(i),y.meta.delimiter=e.delimiter):((l=((t,n,r,i,s)=>{var a,l,c,u;s=s||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var d=0;d<s.length;d++){for(var h,f=s[d],p=0,g=0,v=0,y=(c=void 0,new m({comments:i,delimiter:f,newline:n,preview:10}).parse(t)),b=0;b<y.data.length;b++)r&&w(y.data[b])?v++:(g+=h=y.data[b].length,void 0===c?c=h:0<h&&(p+=Math.abs(h-c),c=h));0<y.data.length&&(g/=y.data.length-v),(void 0===l||p<=l)&&(void 0===u||u<g)&&1.99<g&&(l=p,a=f,u=g)}return{successful:!!(e.delimiter=a),bestDelimiter:a}})(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),y.meta.delimiter=e.delimiter),l=b(e),e.preview&&e.header&&l.preview++,t=i,n=new m(l),y=n.parse(t,s,a),_(),f?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),t=x(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(f=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return g},this.abort=function(){g=!0,n.abort(),y.meta.aborted=!0,x(e.complete)&&e.complete(y),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(p(t)+"([^]*?)"+p(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var r=0,i=0;i<n.length;i++)"\n"===n[i][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t=(e=e||{}).delimiter,n=e.newline,r=e.comments,i=e.step,s=e.preview,a=e.fastMode,l=null,c=!1,u=null==e.quoteChar?'"':e.quoteChar,d=u;if(void 0!==e.escapeChar&&(d=e.escapeChar),("string"!=typeof t||-1<o.BAD_DELIMITERS.indexOf(t))&&(t=","),r===t)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<o.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var h=0,f=!1;this.parse=function(o,m,g){if("string"!=typeof o)throw new Error("Input must be a string");var v=o.length,y=t.length,b=n.length,w=r.length,_=x(i),k=[],S=[],E=[],C=h=0;if(!o)return z();if(a||!1!==a&&-1===o.indexOf(u)){for(var N=o.split(n),T=0;T<N.length;T++){if(E=N[T],h+=E.length,T!==N.length-1)h+=n.length;else if(g)return z();if(!r||E.substring(0,w)!==r){if(_){if(k=[],R(E.split(t)),F(),f)return z()}else R(E.split(t));if(s&&s<=T)return k=k.slice(0,s),z(!0)}}return z()}for(var I=o.indexOf(t,h),j=o.indexOf(n,h),O=new RegExp(p(d)+p(u),"g"),A=o.indexOf(u,h);;)if(o[h]===u)for(A=h,h++;;){if(-1===(A=o.indexOf(u,A+1)))return g||S.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:k.length,index:h}),L();if(A===v-1)return L(o.substring(h,A).replace(O,u));if(u===d&&o[A+1]===d)A++;else if(u===d||0===A||o[A-1]!==d){-1!==I&&I<A+1&&(I=o.indexOf(t,A+1));var P=D(-1===(j=-1!==j&&j<A+1?o.indexOf(n,A+1):j)?I:Math.min(I,j));if(o.substr(A+1+P,y)===t){E.push(o.substring(h,A).replace(O,u)),o[h=A+1+P+y]!==u&&(A=o.indexOf(u,h)),I=o.indexOf(t,h),j=o.indexOf(n,h);break}if(P=D(j),o.substring(A+1+P,A+1+P+b)===n){if(E.push(o.substring(h,A).replace(O,u)),M(A+1+P+b),I=o.indexOf(t,h),A=o.indexOf(u,h),_&&(F(),f))return z();if(s&&k.length>=s)return z(!0);break}S.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:k.length,index:h}),A++}}else if(r&&0===E.length&&o.substring(h,h+w)===r){if(-1===j)return z();h=j+b,j=o.indexOf(n,h),I=o.indexOf(t,h)}else if(-1!==I&&(I<j||-1===j))E.push(o.substring(h,I)),h=I+y,I=o.indexOf(t,h);else{if(-1===j)break;if(E.push(o.substring(h,j)),M(j+b),_&&(F(),f))return z();if(s&&k.length>=s)return z(!0)}return L();function R(e){k.push(e),C=h}function D(e){var t=0;return-1!==e&&(e=o.substring(A+1,e))&&""===e.trim()?e.length:t}function L(e){return g||(void 0===e&&(e=o.substring(h)),E.push(e),h=v,R(E),_&&F()),z()}function M(e){h=e,R(E),E=[],j=o.indexOf(n,h)}function z(r){if(e.header&&!m&&k.length&&!c){var i=k[0],s={},a=new Set(i);let t=!1;for(let n=0;n<i.length;n++){let r=i[n];if(s[r=x(e.transformHeader)?e.transformHeader(r,n):r]){let e,o=s[r];for(;e=r+"_"+o,o++,a.has(e););a.add(e),i[n]=e,s[r]++,t=!0,(l=null===l?{}:l)[e]=r}else s[r]=1,i[n]=r;a.add(r)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:k,errors:S,meta:{delimiter:t,linebreak:n,aborted:f,truncated:!!r,cursor:C+(m||0),renamedHeaders:l}}}function F(){i(z()),k=[],S=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return h}}function g(e){var t=e.data,n=s[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(x(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},i),!r);a++);delete t.results}else x(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=s[e];x(n.userComplete)&&n.userComplete(t),n.terminate(),delete s[e]}function y(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=b(e[t]);return n}function w(e,t){return function(){e.apply(t,arguments)}}function x(e){return"function"==typeof e}return o.parse=function(t,r){var i=(r=r||{}).dynamicTyping||!1;if(x(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!x(r.transform)&&r.transform,!r.worker||!o.WORKERS_SUPPORTED)return i=null,o.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),i=new(r.download?c:d)(r)):!0===t.readable&&x(t.read)&&x(t.on)?i=new h(r):(n.File&&t instanceof File||t instanceof Object)&&(i=new u(r)),i.stream(t);(i=(()=>{var t;return!!o.WORKERS_SUPPORTED&&(t=(()=>{var t=n.URL||n.webkitURL||null,r=e.toString();return o.BLOB_URL||(o.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))})(),(t=new n.Worker(t)).onmessage=g,t.id=a++,s[t.id]=t)})()).userStep=r.step,i.userChunk=r.chunk,i.userComplete=r.complete,i.userError=r.error,r.step=x(r.step),r.chunk=x(r.chunk),r.complete=x(r.complete),r.error=x(r.error),delete r.worker,i.postMessage({input:t,config:r,workerId:i.id})},o.unparse=function(e,t){var n=!1,r=!0,i=",",s="\r\n",a='"',l=a+a,c=!1,u=null,d=!1,h=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(s=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),t.escapeFormulae instanceof RegExp?d=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(d=/^[=+\-@\t\r].*$/)}})(),new RegExp(p(a),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,c);if("object"==typeof e[0])return f(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function f(e,t,n){var a="",o=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(o&&r){for(var c=0;c<e.length;c++)0<c&&(a+=i),a+=m(e[c],c);0<t.length&&(a+=s)}for(var u=0;u<t.length;u++){var d=(o?e:t[u]).length,h=!1,f=o?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!o&&(h="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&o){for(var p=[],g=0;g<d;g++){var v=l?e[g]:g;p.push(t[u][v])}h=""===p.join("").trim()}if(!h){for(var y=0;y<d;y++){0<y&&!f&&(a+=i);var b=o&&l?e[y]:y;a+=m(t[u][b],y)}u<t.length-1&&(!n||0<d&&!f)&&(a+=s)}}return a}function m(e,t){var r,s;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(s=!1,d&&"string"==typeof e&&d.test(e)&&(e="'"+e,s=!0),r=e.toString().replace(h,l),(s=s||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(r,o.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?a+r+a:r)}},o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!r&&!!n.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=m,o.ParserHandle=f,o.NetworkStreamer=c,o.FileStreamer=u,o.StringStreamer=d,o.ReadableStreamStreamer=h,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var r=e.config||{},i=[];return this.each((function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)i.push({file:this.files[s],inputElem:this,instanceConfig:t.extend({},r)})})),s(),this;function s(){if(0===i.length)x(e.complete)&&e.complete();else{var n,r,s,l,c=i[0];if(x(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return n="AbortError",r=c.file,s=c.inputElem,l=u.reason,void(x(e.error)&&e.error({name:n},r,s,l));if("skip"===u.action)return void a();"object"==typeof u.config&&(c.instanceConfig=t.extend(c.instanceConfig,u.config))}else if("skip"===u)return void a()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){x(d)&&d(e,c.file,c.inputElem),a()},o.parse(c.file,c.instanceConfig)}}function a(){i.splice(0,1),s()}}),i&&(n.onmessage=function(e){e=e.data,void 0===o.WORKER_ID&&e&&(o.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:o.WORKER_ID,results:o.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=o.parse(e.input,e.config))&&n.postMessage({workerId:o.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(h.prototype=Object.create(l.prototype)).constructor=h,o},void 0===(i="function"===typeof n?n.apply(t,r):n)||(e.exports=i)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,M=Object.assign;function z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function V(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Ce(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ne(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ie(){}var je=!1;function Oe(e,t,n){if(je)return e(t,n);je=!0;try{return Te(e,t,n)}finally{je=!1,(null!==ke||null!==Se)&&(Ie(),Ne())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Pe=!1}function De(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,ze=!1,Fe=null,Ue={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,De.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,kt,St,Et,Ct=!1,Nt=[],Tt=null,It=null,jt=null,Ot=new Map,At=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Et(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){zt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==Tt&&zt(Tt)&&(Tt=null),null!==It&&zt(It)&&(It=null),null!==jt&&zt(jt)&&(jt=null),Ot.forEach(Ft),At.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Nt.length){Vt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==It&&Vt(It,e),null!==jt&&Vt(jt,e),Ot.forEach(t),At.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var $t=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Wt(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Lt(It,e,t,n,r,i),!0;case"mouseover":return jt=Lt(jt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ot.set(s,Lt(Ot.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Qt(e,t,n,r))&&Hr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=yi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Sn}var Cn=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Cn),Tn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),jn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(On),Pn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,Mn=u&&(!Rn||Dn&&8<Dn&&11>=Dn),zn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function qn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Kn(e){zr(e,0)}function Qn(e){if(G(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];qn(t,Gn,e,xe(e)),Oe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function sr(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Sr={};function Er(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Er("animationend"),Nr=Er("animationiteration"),Tr=Er("animationstart"),Ir=Er("transitionend"),jr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){jr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Rr=Or[Pr];Ar(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(Nr,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,ze||(ze=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Oe((function(){var r=s,i=xe(n),a=[];e:{var o=jr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Cr:case Nr:case Tr:l=vn;break;case Ir:l=jn;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wi(l),f=null==c?o:wi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Kr(a,o,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Hn(o))if(Xn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}zr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Ae(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ae(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=Ae(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var _i=[],ki=-1;function Si(e){return{current:e}}function Ei(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Ci(e,t){ki++,_i[ki]=e.current,e.current=t}var Ni={},Ti=Si(Ni),Ii=Si(!1),ji=Ni;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(Ii),Ei(Ti)}function Ri(e,t,n){if(Ti.current!==Ni)throw Error(s(168));Ci(Ti,t),Ci(Ii,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,ji=Ti.current,Ci(Ti,e),Ci(Ii,Ii.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ii),Ei(Ti),Ci(Ti,e)):Ei(Ii),Ci(Ii,n)}var zi=null,Fi=!1,Ui=!1;function Vi(e){null===zi?zi=[e]:zi.push(e)}function Bi(){if(!Ui&&null!==zi){Ui=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Fi=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var $i=[],Hi=0,qi=null,Wi=0,Gi=[],Ki=0,Qi=null,Yi=1,Xi="";function Ji(e,t){$i[Hi++]=Wi,$i[Hi++]=qi,qi=e,Wi=t}function Zi(e,t,n){Gi[Ki++]=Yi,Gi[Ki++]=Xi,Gi[Ki++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=$i[--Hi],$i[Hi]=null,Wi=$i[--Hi],$i[Hi]=null;for(;e===Qi;)Qi=Gi[--Ki],Gi[Ki]=null,Xi=Gi[--Ki],Gi[Ki]=null,Yi=Gi[--Ki],Gi[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case _:return(t=zc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),is&&Ji(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Ji(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((s=Dc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Rc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=zc(a,r.mode,l)).return=r,r=s}return o(r);case A:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(D(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Mc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),_s=Si(null),ks=null,Ss=null,Es=null;function Cs(){Es=Ss=ks=null}function Ns(e){var t=_s.current;Ei(_s),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){ks=e,Es=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function js(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===ks)throw Error(s(308));Ss=e,ks.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Os=null;function As(e){null===Os?Os=[e]:Os.push(e)}function Ps(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,As(t)):(n.next=i.next,i.next=n),t.interleaved=n,Rs(e,r)}function Rs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Rs(e,n)}return null===(i=r.interleaved)?(t.next=t,As(r)):(t.next=i.next,i.next=t),r.interleaved=t,Rs(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function $s(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},qs=Si(Hs),Ws=Si(Hs),Gs=Si(Hs);function Ks(e){if(e===Hs)throw Error(s(174));return e}function Qs(e,t){switch(Ci(Gs,t),Ci(Ws,e),Ci(qs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(qs),Ci(qs,t)}function Ys(){Ei(qs),Ei(Ws),Ei(Gs)}function Xs(e){Ks(Gs.current);var t=Ks(qs.current),n=le(t,e.type);t!==n&&(Ci(Ws,e),Ci(qs,n))}function Js(e){Ws.current===e&&(Ei(qs),Ei(Ws))}var Zs=Si(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ja:Za,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Xa,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function ka(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Da(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,ja(9,Ea.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(s(349));0!==(30&sa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Na(t)&&Ta(e)}function Ca(e,t,n){return n((function(){Na(t)&&Ta(e)}))}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ta(e){var t=Rs(e,1);null!==t&&nc(t,e,1,-1)}function Ia(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return ya().memoizedState}function Aa(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=ja(t,n,s,r))}aa.flags|=e,i.memoizedState=ja(1|t,n,s,r)}function Ra(e,t){return Aa(8390656,8,e,t)}function Da(e,t){return Pa(2048,8,e,t)}function La(e,t){return Pa(4,2,e,t)}function Ma(e,t){return Pa(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,za.bind(null,t,e),n)}function Ua(){}function Va(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function qa(){return ya().memoizedState}function Wa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e))Qa(t,n);else if(null!==(n=Ps(e,t,n,r))){nc(n,e,r,ec()),Ya(n,t,r)}}function Ga(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Qa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,As(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ps(e,t,i,r))&&(nc(n,e,r,i=ec()),Ya(n,t,r))}}function Ka(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Qa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xa={readContext:js,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Ja={readContext:js,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:js,useEffect:Ra,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Aa(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ia,useDebugValue:Ua,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Ha.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Il)throw Error(s(349));0!==(30&sa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ra(Ca.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Il.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:js,useCallback:Va,useContext:js,useEffect:Da,useImperativeHandle:Fa,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:wa,useRef:Oa,useState:function(){return wa(ba)},useDebugValue:Ua,useDeferredValue:function(e){return $a(ya(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:_a,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1},eo={readContext:js,useCallback:Va,useContext:js,useEffect:Da,useImperativeHandle:Fa,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:Ba,useReducer:xa,useRef:Oa,useState:function(){return xa(ba)},useDebugValue:Ua,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:$a(t,oa.memoizedState,e)},useTransition:function(){return[xa(ba)[0],ya().memoizedState]},useMutableSource:_a,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=zs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=zs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=zs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fs(e,i,r))&&(nc(t,e,r,n),Us(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ni,s=t.contextType;return"object"===typeof s&&null!==s?s=js(s):(i=Ai(t)?ji:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ni),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=js(s):(s=Ai(t)?ji:Ti.current,i.context=Oi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=zs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),uo(0,t)},n}function po(e,t,n){(n=zs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zs(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xo(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function _o(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ac(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Pl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Pl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Pl,Al),Al|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Pl,Al),Al|=r;return wo(e,t,i,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Ai(n)?ji:Ti.current;return s=Oi(t,s),Is(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function No(e,t,n,r,i){if(Ai(n)){var s=!0;Li(t)}else s=!1;if(Is(t,i),null===t.stateNode)$o(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=js(c):c=Oi(t,c=Ai(n)?ji:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Ds=!1;var h=t.memoizedState;a.state=h,Bs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ii.current||Ds?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ds||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=js(l):l=Oi(t,l=Ai(n)?ji:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Ds=!1,h=t.memoizedState,a.state=h,Bs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ii.current||Ds?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Ds||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,i)}function To(e,t,n,r,i,s){Eo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Ho(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Qs(e,t.containerInfo)}function jo(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wo(e,t,n,r),t.child}var Oo,Ao,Po,Ro,Do={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=Dc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Do,e):zo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Do,a);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Il)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Rs(e,i),nc(r,e,i,-1))}return mc(),Fo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Ki++]=Yi,Gi[Ki++]=Xi,Gi[Ki++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=zo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Pc(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Pc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Vo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $o(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Ai(t.type)&&Pi(),Wo(t),null;case 3:return r=t.stateNode,Ys(),Ei(Ii),Ei(Ti),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Ao(e,t),Wo(t),null;case 5:Js(t);var i=Ks(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Ks(qs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ks(Gs.current),Ks(qs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ei(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Rl&&(Rl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Ys(),Ao(e,t),null===e&&Br(t.stateNode.containerInfo),Wo(t),null;case 10:return Ns(t.type._context),Wo(t),null;case 19:if(Ei(Zs),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qo(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,qo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Bl&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Wo(t),null}else 2*Xe()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,Ci(Zs,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ko(e,t){switch(ts(t),t.tag){case 1:return Ai(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Ei(Ii),Ei(Ti),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ei(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Zs),null;case 4:return Ys(),null;case 10:return Ns(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ao=function(){},Po=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ks(qs.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ro=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,Yo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,hl(e,t,n),Yo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(u=Yo)||d,ml(t,e),Yo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jo=e,d=e.child;null!==d;){for(h=Jo=d;null!==Jo;){switch(p=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Jo=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Jo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Qo;var c=Yo;if(Qo=a,(Yo=l)&&!c)for(Jo=i;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Jo=l):_l(i);for(;null!==s;)Jo=s,bl(s,t,n),s=s.sibling;Jo=i,Qo=o,Yo=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Jo=s):wl(e)}}function wl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&$s(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$s(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function xl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function _l(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var kl,Sl=Math.ceil,El=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Nl=w.ReactCurrentBatchConfig,Tl=0,Il=null,jl=null,Ol=0,Al=0,Pl=Si(0),Rl=0,Dl=null,Ll=0,Ml=0,zl=0,Fl=null,Ul=null,Vl=0,Bl=1/0,$l=null,Hl=!1,ql=null,Wl=null,Gl=!1,Kl=null,Ql=0,Yl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ol?Ol&-Ol:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(s(185));vt(e,n,r),0!==(2&Tl)&&e===Il||(e===Il&&(0===(2&Tl)&&(Ml|=n),4===Rl&&oc(e,Ol)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Bl=Xe()+500,Fi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Il?Ol:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),ai((function(){0===(6&Tl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tl;Tl|=2;var a=pc();for(Il===e&&Ol===t||($l=null,Bl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Cs(),El.current=a,Tl=i,null!==jl?t=0:(Il=null,Ol=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Dl,hc(e,0),oc(e,r),rc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Dl,hc(e,0),oc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Ul,$l);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Vl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Ul,$l),t);break}xc(e,Ul,$l);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Ul,$l),r);break}xc(e,Ul,$l);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~zl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(s(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Dl,hc(e,0),oc(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,$l),rc(e,Xe()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Bl=Xe()+500,Fi&&Bi())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&_c();var t=Tl;Tl|=1;var n=Nl.transition,r=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=r,Nl.transition=n,0===(6&(Tl=t))&&Bi()}}function dc(){Al=Pl.current,Ei(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Ys(),Ei(Ii),Ei(Ti),na();break;case 5:Js(r);break;case 4:Ys();break;case 13:case 19:Ei(Zs);break;case 10:Ns(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,jl=e=Pc(e.current,null),Ol=Al=t,Rl=0,Dl=null,zl=Ml=Ll=0,Ul=Fl=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Os=null}return e}function fc(e,t){for(;;){var n=jl;try{if(Cs(),ra.current=Xa,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,Cl.current=null,null===n||null===n.return){Rl=1,Dl=t,jl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Rl&&(Rl=2),null===Fl?Fl=[a]:Fl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,fo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=Xa,null===e?Xa:e}function mc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Il||0===(268435455&Ll)&&0===(268435455&Ml)||oc(Il,Ol)}function gc(e,t){var n=Tl;Tl|=2;var r=pc();for(Il===e&&Ol===t||($l=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Cs(),Tl=n,El.current=r,null!==jl)throw Error(s(261));return Il=null,Ol=0,Rl}function vc(){for(;null!==jl;)bc(jl)}function yc(){for(;null!==jl&&!Qe();)bc(jl)}function bc(e){var t=kl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?wc(e):jl=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Al)))return void(jl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Rl=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Rl&&(Rl=5)}function xc(e,t,n){var r=bt,i=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Kl);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Il&&(jl=Il=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ic(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var o=bt;bt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){Sc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Tl=l,bt=o,Nl.transition=a}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Ql=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,Bi()}(e,t,n,r)}finally{Nl.transition=i,bt=r}return null}function _c(){if(null!==Kl){var e=wt(Ql),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Ql=0,0!==(6&Tl))throw Error(s(331));var i=Tl;for(Tl|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var d=Jo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Jo=h;else for(;null!==Jo;){var f=(d=Jo).sibling,p=d.return;if(sl(d),d===u){Jo=null;break}if(null!==f){f.return=p,Jo=f;break}Jo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Jo=y;break e}Jo=a.return}}var b=e.current;for(Jo=b;null!==Jo;){var w=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Jo=w;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Sc(l,l.return,_)}if(l===o){Jo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Jo=x;break e}Jo=l.return}}if(Tl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Nl.transition=t}}return!1}function kc(e,t,n){e=Fs(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Fs(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Ol&n)===n&&(4===Rl||3===Rl&&(130023424&Ol)===Ol&&500>Xe()-Vl?hc(e,0):zl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Rs(e,t))&&(vt(e,t,n),rc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Ic(e,t){return Ge(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new jc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Ac(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Dc(n.children,i,a,t);case S:o=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=a,e;case I:return(e=Oc(13,n,t,i)).elementType=I,e.lanes=a,e;case j:return(e=Oc(19,n,t,i)).elementType=j,e.lanes=a,e;case P:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case N:o=9;break e;case T:o=11;break e;case O:o=14;break e;case A:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,a,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Vc(e){if(!e)return Ni;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Di(e,n,t)}return t}function Bc(e,t,n,r,i,s,a,o,l){return(e=Uc(n,r,!0,e,0,s,0,o,l)).context=Vc(null),n=e.current,(s=zs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function $c(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(i,t,a))&&(nc(e,i,a,s),Us(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),fs();break;case 5:Xs(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Ci(Zs,1&Zs.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ci(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$o(e,t),e=t.pendingProps;var i=Oi(t,Ti.current);Is(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=To(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($o(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=to(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=No(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Io(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=jo(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=jo(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ho(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Eo(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Mo(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(_s,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ii.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=zs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ts(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=js(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),_o(e,t,r,i=to(r.type,i),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),$o(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,Is(t,n),so(t,r,i),oo(t,r,i,n),To(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}$c(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){$c(t,l,n,r)})),l}(n,t,e,i,r);return Hc(a)}Qc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$c(e,t,null,null)},Qc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){$c(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Tl)&&(Bl=Xe()+500,Bi()))}break;case 13:uc((function(){var t=Rs(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Rs(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ce,Ne,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},214:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=o(n(43)),s=o(n(139)),a=n(200);function o(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=b();return function(){var n,i=w(e);if(t){var s=w(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}t.PrevArrow=function(e){g(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,s.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,u(u({},n),r)):i.default.createElement("button",l({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent),t.NextArrow=function(e){g(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,a.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,s.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,u(u({},n),r)):i.default.createElement("button",l({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent)},112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(43))&&r.__esModule?r:{default:r};var s={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=s},496:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=o(n(43)),s=o(n(139)),a=n(200);function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){var t=p();return function(){var n,i=m(e);if(t){var s=m(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}t.Dots=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(d,e);var t,n,r,o=f(d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),o.apply(this,arguments)}return t=d,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,o=t.onMouseLeave,u=t.infinite,d=t.slidesToScroll,h=t.slidesToShow,f=t.slideCount,p=t.currentSlide,m=(e={slideCount:f,slidesToScroll:d,slidesToShow:h,infinite:u}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,g={onMouseEnter:n,onMouseOver:r,onMouseLeave:o},v=[],y=0;y<m;y++){var b=(y+1)*d-1,w=u?b:(0,a.clamp)(b,0,f-1),x=w-(d-1),_=u?x:(0,a.clamp)(x,0,f-1),k=(0,s.default)({"slick-active":u?p>=_&&p<=w:p===_}),S={message:"dots",index:y,slidesToScroll:d,currentSlide:p},E=this.clickHandler.bind(this,S);v=v.concat(i.default.createElement("li",{key:y,className:k},i.default.cloneElement(this.props.customPaging(y),{onClick:E})))}return i.default.cloneElement(this.props.appendDots(v),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},g))}}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.PureComponent)},382:(e,t,n)=>{"use strict";t.A=void 0;var r,i=(r=n(433))&&r.__esModule?r:{default:r};t.A=i.default},910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0}},826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(43)),i=h(n(910)),s=h(n(446)),a=h(n(139)),o=n(200),l=n(737),c=n(496),u=n(214),d=h(n(820));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=_();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function S(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:String(t)}t.InnerSlider=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(_,e);var t,n,h,g=w(_);function _(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),S(x(t=g.call(this,e)),"listRefHandler",(function(e){return t.list=e})),S(x(t),"trackRefHandler",(function(e){return t.track=e})),S(x(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,o.getHeight)(e)+"px"}})),S(x(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,o.getOnDemandLazySlides)(v(v({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=v({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new d.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),S(x(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),S(x(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,o.getOnDemandLazySlides)(v(v({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=v(v({listRef:t.list,trackRef:t.track},t.props),t.state),s=t.didPropsChange(e);s&&t.updateState(i,s,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),S(x(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,s.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),S(x(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=v(v({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),S(x(t),"updateState",(function(e,n,i){var s=(0,o.initializedState)(e);e=v(v(v({},e),s),{},{slideIndex:s.currentSlide});var a=(0,o.getTrackLeft)(e);e=v(v({},e),{},{left:a});var l=(0,o.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(s.trackStyle=l),t.setState(s,i)})),S(x(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],s=(0,o.getPreClones)(v(v(v({},t.props),t.state),{},{slideCount:t.props.children.length})),a=(0,o.getPostClones)(v(v(v({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var l=0;l<s;l++)n+=i[i.length-1-l],e+=i[i.length-1-l];for(var c=0;c<a;c++)e+=i[c];for(var u=0;u<t.state.currentSlide;u++)n+=i[u];var d={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");d.left="calc(".concat(d.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:d}}var f=r.default.Children.count(t.props.children),p=v(v(v({},t.props),t.state),{},{slideCount:f}),m=(0,o.getPreClones)(p)+(0,o.getPostClones)(p)+f,g=100/t.props.slidesToShow*m,y=100/m,b=-y*((0,o.getPreClones)(p)+t.state.currentSlide)*g/100;return t.props.centerMode&&(b+=(100-y*g/100)/2),{slideWidth:y+"%",trackStyle:{width:g+"%",left:b+"%"}}})),S(x(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var s=e.onclick;e.onclick=function(t){s(t),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),S(x(t),"progressiveLazyLoad",(function(){for(var e=[],n=v(v({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,o.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,o.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),S(x(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,s=r.beforeChange,a=r.onLazyLoad,l=r.speed,c=r.afterChange,u=t.state.currentSlide,d=(0,o.slideHandler)(v(v(v({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=d.state,f=d.nextState;if(h){s&&s(u,h.currentSlide);var p=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));a&&p.length>0&&a(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(u),delete t.animationEndCallback),t.setState(h,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),f&&(t.animationEndCallback=setTimeout((function(){var e=f.animating,n=m(f,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(h.currentSlide),delete t.animationEndCallback}))}),l))}))}})),S(x(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=v(v({},t.props),t.state),i=(0,o.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var s=t.list.querySelectorAll(".slick-current");s[0]&&s[0].focus()}})),S(x(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),S(x(t),"keyHandler",(function(e){var n=(0,o.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),S(x(t),"selectHandler",(function(e){t.changeSlide(e)})),S(x(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),S(x(t),"enableBodyScroll",(function(){window.ontouchmove=null})),S(x(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,o.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),S(x(t),"swipeMove",(function(e){var n=(0,o.swipeMove)(e,v(v(v({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),S(x(t),"swipeEnd",(function(e){var n=(0,o.swipeEnd)(e,v(v(v({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),S(x(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),S(x(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),S(x(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),S(x(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),S(x(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,o.canGoNext)(v(v({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),S(x(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),S(x(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),S(x(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(x(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(x(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(x(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(x(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),S(x(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),S(x(t),"render",(function(){var e,n,i,s=(0,a.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),d=v(v({},t.props),t.state),h=(0,o.extractObject)(d,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),f=t.props.pauseOnHover;if(h=v(v({},h),{},{onMouseEnter:f?t.onTrackOver:null,onMouseLeave:f?t.onTrackLeave:null,onMouseOver:f?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var m=(0,o.extractObject)(d,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),g=t.props.pauseOnDotsHover;m=v(v({},m),{},{clickHandler:t.changeSlide,onMouseEnter:g?t.onDotsLeave:null,onMouseOver:g?t.onDotsOver:null,onMouseLeave:g?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,m)}var y=(0,o.extractObject)(d,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);y.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(u.PrevArrow,y),i=r.default.createElement(u.NextArrow,y));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var w=null;!1===t.props.vertical?!0===t.props.centerMode&&(w={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(w={padding:t.props.centerPadding+" 0px"});var x=v(v({},b),w),_=t.props.touchMove,k={className:"slick-list",style:x,onClick:t.clickHandler,onMouseDown:_?t.swipeStart:null,onMouseMove:t.state.dragging&&_?t.swipeMove:null,onMouseUp:_?t.swipeEnd:null,onMouseLeave:t.state.dragging&&_?t.swipeEnd:null,onTouchStart:_?t.swipeStart:null,onTouchMove:t.state.dragging&&_?t.swipeMove:null,onTouchEnd:_?t.touchEnd:null,onTouchCancel:t.state.dragging&&_?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},S={className:s,dir:"ltr",style:t.props.style};return t.props.unslick&&(k={className:"slick-list"},S={className:s}),r.default.createElement("div",S,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},k),r.default.createElement(l.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=v(v({},i.default),{},{currentSlide:t.props.initialSlide,targetSlide:t.props.initialSlide?t.props.initialSlide:0,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=v(v({},t.state),n),t}return t=_,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var s=i[n];if(!e.hasOwnProperty(s)){t=!0;break}if("object"!==f(e[s])&&"function"!==typeof e[s]&&!isNaN(e[s])&&e[s]!==this.props[s]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&y(t.prototype,n),h&&y(t,h),Object.defineProperty(t,"prototype",{writable:!1}),_}(r.default.Component)},433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(43)),i=n(826),s=l(n(270)),a=l(n(112)),o=n(200);function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=v();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:String(t)}var x=(0,o.canUseDOM)()&&n(535);t.default=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(d,e);var t,n,l,c=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),b(g(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),b(g(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),b(g(t),"slickNext",(function(){return t.innerSlider.slickNext()})),b(g(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),b(g(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),b(g(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=d,(n=[{key:"media",value:function(e,t){x.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,s.default)({minWidth:0,maxWidth:n}):(0,s.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,o.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,s.default)({minWidth:t.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){x.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},a.default),this.props),t[0].settings):h(h({},a.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var s=r.default.Children.toArray(this.props.children);s=s.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var l=[],c=null,d=0;d<s.length;d+=e.rows*e.slidesPerRow){for(var f=[],p=d;p<d+e.rows*e.slidesPerRow;p+=e.slidesPerRow){for(var m=[],g=p;g<p+e.slidesPerRow&&(e.variableWidth&&s[g].props.style&&(c=s[g].props.style.width),!(g>=s.length));g+=1)m.push(r.default.cloneElement(s[g],{key:100*d+10*p+g,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(r.default.createElement("div",{key:10*d+p},m))}e.variableWidth?l.push(r.default.createElement("div",{key:d,style:{width:c}},f)):l.push(r.default.createElement("div",{key:d},f))}if("unslick"===e){var v="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:v},s)}return l.length<=e.slidesToShow&&!e.infinite&&(e.unslick=!0),r.default.createElement(i.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(e)),l)}}])&&f(t.prototype,n),l&&f(t,l),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.default.Component)},737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var r=a(n(43)),i=a(n(139)),s=n(200);function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=f();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:String(t)}var b=function(e){var t,n,r,i,s;return r=(s=e.rtl?e.slideCount-1-e.index:e.index)<0||s>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-i-1&&s<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":s===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},w=function(e,t){return e.key||t},x=function(e){var t,n=[],a=[],o=[],l=r.default.Children.count(e.children),c=(0,s.lazyStartIndex)(e),u=(0,s.lazyEndIndex)(e);return r.default.Children.forEach(e.children,(function(d,h){var f,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};f=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?d:r.default.createElement("div",null);var m=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(g(g({},e),{},{index:h})),v=f.props.className||"",y=b(g(g({},e),{},{index:h}));if(n.push(r.default.cloneElement(f,{key:"original"+w(f,h),"data-index":h,className:(0,i.default)(y,v),tabIndex:"-1","aria-hidden":!y["slick-active"],style:g(g({outline:"none"},f.props.style||{}),m),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var x=l-h;x<=(0,s.getPreClones)(e)&&((t=-x)>=c&&(f=d),y=b(g(g({},e),{},{index:t})),a.push(r.default.cloneElement(f,{key:"precloned"+w(f,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(y,v),"aria-hidden":!y["slick-active"],style:g(g({},f.props.style||{}),m),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),(t=l+h)<u&&(f=d),y=b(g(g({},e),{},{index:t})),o.push(r.default.cloneElement(f,{key:"postcloned"+w(f,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(y,v),"aria-hidden":!y["slick-active"],style:g(g({},f.props.style||{}),m),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))}})),e.rtl?a.concat(n,o).reverse():a.concat(n,o)};t.Track=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(a,e);var t,n,i,s=d(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(h(e=s.call.apply(s,[this].concat(n))),"node",null),v(h(e),"handleRef",(function(t){e.node=t})),e}return t=a,(n=[{key:"render",value:function(){var e=x(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return r.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.default.PureComponent)},200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=u,t.extractObject=void 0,t.filterSettings=function(e){return R.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})},t.validSettings=t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=void 0;var r=s(n(43)),i=s(n(112));function s(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return Math.max(t,Math.min(e,n))}var d=t.safePreventDefault=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()},h=t.getOnDemandLazySlides=function(e){for(var t=[],n=f(e),r=p(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t},f=(t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=p(e),i=n;i<r;i++)t.push(i);return t},t.lazyStartIndex=function(e){return e.currentSlide-m(e)}),p=t.lazyEndIndex=function(e){return e.currentSlide+g(e)},m=t.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},g=t.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},v=t.getWidth=function(e){return e&&e.offsetWidth||0},y=t.getHeight=function(e){return e&&e.offsetHeight||0},b=t.getSwipeDirection=function(e){var t,n,r,i,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===s?i>=35&&i<=135?"up":"down":"vertical"},w=t.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},x=(t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n},t.initializedState=function(e){var t,n=r.default.Children.count(e.children),i=e.listRef,s=Math.ceil(v(i)),a=e.trackRef&&e.trackRef.node,o=Math.ceil(v(a));if(e.vertical)t=s;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=s/100),t=Math.ceil((s-c)/e.slidesToShow)}var u=i&&y(i.querySelector('[data-index="0"]')),d=u*e.slidesToShow,f=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(f=n-1-e.initialSlide);var p=e.lazyLoadedList||[],m=h(l(l({},e),{},{currentSlide:f,lazyLoadedList:p})),g={slideCount:n,slideWidth:t,listWidth:s,trackWidth:o,currentSlide:f,slideHeight:u,listHeight:d,lazyLoadedList:p=p.concat(m)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g},t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,s=e.index,a=e.slideCount,o=e.lazyLoad,c=e.currentSlide,d=e.centerMode,f=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,g=e.lazyLoadedList;if(t&&n)return{};var v,y,b,x=s,_={},k={},S=i?s:u(s,0,a-1);if(r){if(!i&&(s<0||s>=a))return{};s<0?x=s+a:s>=a&&(x=s-a),o&&g.indexOf(x)<0&&(g=g.concat(x)),_={animating:!0,currentSlide:x,lazyLoadedList:g,targetSlide:x},k={animating:!1,targetSlide:x}}else v=x,x<0?(v=x+a,i?a%f!==0&&(v=a-a%f):v=0):!w(e)&&x>c?x=v=c:d&&x>=a?(x=i?a:a-1,v=i?0:a-1):x>=a&&(v=x-a,i?a%f!==0&&(v=0):v=a-p),!i&&x+p>=a&&(v=a-p),y=N(l(l({},e),{},{slideIndex:x})),b=N(l(l({},e),{},{slideIndex:v})),i||(y===b&&(x=v),y=b),o&&(g=g.concat(h(l(l({},e),{},{currentSlide:x})))),m?(_={animating:!0,currentSlide:v,trackStyle:C(l(l({},e),{},{left:y})),lazyLoadedList:g,targetSlide:S},k={animating:!1,currentSlide:v,trackStyle:E(l(l({},e),{},{left:b})),swipeLeft:null,targetSlide:S}):_={currentSlide:v,trackStyle:E(l(l({},e),{},{left:b})),lazyLoadedList:g,targetSlide:S};return{state:_,nextState:k}},t.changeSlide=function(e,t){var n,r,i,s,a=e.slidesToScroll,o=e.slidesToShow,c=e.slideCount,u=e.currentSlide,d=e.targetSlide,h=e.lazyLoad,f=e.infinite;if(n=c%a!==0?0:(c-u)%a,"previous"===t.message)s=u-(i=0===n?a:o-n),h&&!f&&(s=-1===(r=u-i)?c-1:r),f||(s=d-a);else if("next"===t.message)s=u+(i=0===n?a:n),h&&!f&&(s=(u+a)%c+n),f||(s=d+a);else if("dots"===t.message)s=t.index*t.slidesToScroll;else if("children"===t.message){if(s=t.index,f){var p=O(l(l({},e),{},{targetSlide:s}));s>t.currentSlide&&"left"===p?s-=c:s<t.currentSlide&&"right"===p&&(s+=c)}}else"index"===t.message&&(s=Number(t.index));return s},t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""},t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&d(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}},t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,s=t.swipeToSlide,a=t.verticalSwiping,o=t.rtl,c=t.currentSlide,u=t.edgeFriction,h=t.edgeDragged,f=t.onEdge,p=t.swiped,m=t.swiping,g=t.slideCount,v=t.slidesToScroll,y=t.infinite,x=t.touchObject,_=t.swipeEvent,k=t.listHeight,S=t.listWidth;if(!n){if(r)return d(e);i&&s&&a&&d(e);var C,T={},I=N(t);x.curX=e.touches?e.touches[0].pageX:e.clientX,x.curY=e.touches?e.touches[0].pageY:e.clientY,x.swipeLength=Math.round(Math.sqrt(Math.pow(x.curX-x.startX,2)));var j=Math.round(Math.sqrt(Math.pow(x.curY-x.startY,2)));if(!a&&!m&&j>10)return{scrolling:!0};a&&(x.swipeLength=j);var O=(o?-1:1)*(x.curX>x.startX?1:-1);a&&(O=x.curY>x.startY?1:-1);var A=Math.ceil(g/v),P=b(t.touchObject,a),R=x.swipeLength;return y||(0===c&&("right"===P||"down"===P)||c+1>=A&&("left"===P||"up"===P)||!w(t)&&("left"===P||"up"===P))&&(R=x.swipeLength*u,!1===h&&f&&(f(P),T.edgeDragged=!0)),!p&&_&&(_(P),T.swiped=!0),C=i?I+R*(k/S)*O:o?I-R*O:I+R*O,a&&(C=I+R*O),T=l(l({},T),{},{touchObject:x,swipeLeft:C,trackStyle:E(l(l({},t),{},{left:C}))}),Math.abs(x.curX-x.startX)<.8*Math.abs(x.curY-x.startY)?T:(x.swipeLength>10&&(T.swiping=!0,d(e)),T)}},t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,s=t.listWidth,a=t.touchThreshold,o=t.verticalSwiping,c=t.listHeight,u=t.swipeToSlide,h=t.scrolling,f=t.onSwipe,p=t.targetSlide,m=t.currentSlide,g=t.infinite;if(!n)return r&&d(e),{};var v=o?c/a:s/a,y=b(i,o),w={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return w;if(!i.swipeLength)return w;if(i.swipeLength>v){var x,S;d(e),f&&f(y);var E=g?m:p;switch(y){case"left":case"up":S=E+k(t),x=u?_(t,S):S,w.currentDirection=0;break;case"right":case"down":S=E-k(t),x=u?_(t,S):S,w.currentDirection=1;break;default:x=E}w.triggerSlideHandler=x}else{var T=N(t);w.trackStyle=C(l(l({},t),{},{left:T}))}return w},t.getNavigableIndexes=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i}),_=t.checkNavigable=function(e,t){var n=x(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t},k=t.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+y(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var s=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-s)||1}return e.slidesToScroll},S=t.checkSpecKeys=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)},E=t.getTrackCSS=function(e){var t,n;S(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=j(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",o=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=l(l({},i),{},{WebkitTransform:s,transform:a,msTransform:o})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i},C=t.getTrackAnimateCSS=function(e){S(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=E(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},N=t.getTrackLeft=function(e){if(e.unslick)return 0;S(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,s=e.infinite,a=e.centerMode,o=e.slideCount,l=e.slidesToShow,c=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,h=e.variableWidth,f=e.slideHeight,p=e.fade,m=e.vertical;if(p||1===e.slideCount)return 0;var g=0;if(s?(g=-T(e),o%c!==0&&r+c>o&&(g=-(r>o?l-(r-o):o%c)),a&&(g+=parseInt(l/2))):(o%c!==0&&r+c>o&&(g=l-o%c),a&&(g=parseInt(l/2))),t=m?r*f*-1+g*f:r*u*-1+g*u,!0===h){var v,y=i&&i.node;if(v=r+T(e),t=(n=y&&y.childNodes[v])?-1*n.offsetLeft:0,!0===a){v=s?r+T(e):r,n=y&&y.children[v],t=0;for(var b=0;b<v;b++)t-=y&&y.children[b]&&y.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t},T=t.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},I=t.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},j=t.getTotalSlides=function(e){return 1===e.slideCount?1:T(e)+e.slideCount+I(e)},O=t.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+A(e)?"left":"right":e.targetSlide<e.currentSlide-P(e)?"right":"left"},A=t.slidesOnRight=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var s=(t-1)/2+1;return parseInt(i)>0&&(s+=1),r&&t%2===0&&(s+=1),s}return r?0:t-1},P=t.slidesOnLeft=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var s=(t-1)/2+1;return parseInt(i)>0&&(s+=1),r||t%2!==0||(s+=1),s}return r?t-1:0},R=(t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)},t.validSettings=Object.keys(i.default))},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,x(a)?(i="",null!=e&&(i=e.replace(N,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},P={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,s="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&l()}function o(){a(s)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;o.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||s},h=y(0,0,0,0);function f(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],s=e["padding-"+i];t[i]=f(s)}return t}(r),s=i.left+i.right,a=i.top+i.bottom,o=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(o+s)!==t&&(o-=p(r,"left","right")+s),Math.round(l+a)!==n&&(l-=p(r,"top","bottom")+a)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(o+s)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(o-=c),1!==Math.abs(u)&&(l-=u)}return y(i.left,i.top,o,l)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function v(e){return i?g(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):h}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,s="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(s.prototype);return u(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);u(this,{target:e,contentRect:n})},x=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!==typeof WeakMap?new WeakMap:new r,k=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new x(t,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){k.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));const S="undefined"!==typeof s.ResizeObserver?s.ResizeObserver:k},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,P(_);else{var t=r(u);null!==t&&R(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,C=-1,N=5,T=-1;function I(){return!(t.unstable_now()-T<N)}function j(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof b)k=function(){b(j)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=j,k=function(){A.postMessage(null)}}else k=function(){v(j,0)};function P(e){E=e,S||(S=!0,k())}function R(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,R(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,P(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},475:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/malim-app/",(()=>{"use strict";var e=n(43),t=n.t(e,2),r=n(391),i=(n(358),"popstate");function s(){return h((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return c("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:u(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(ob){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:o=!1}=r,d=s.history,h="POP",f=null,p=m();function m(){return(d.state||{idx:null}).idx}function g(){h="POP";let e=m(),t=null==e?null:e-p;p=e,f&&f({action:h,location:y.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),a(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,d.replaceState({...d.state,idx:p},""));let y={get action(){return h},get location(){return e(s,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(i,g),f=e,()=>{s.removeEventListener(i,g),f=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let r=c(y.location,e,t);n&&n(r,e),p=m()+1;let i=l(r,p),a=y.createHref(r);try{d.pushState(i,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(a)}o&&f&&f({action:h,location:y.location,delta:1})},replace:function(e,t){h="REPLACE";let r=c(y.location,e,t);n&&n(r,e),p=m();let i=l(r,p),s=y.createHref(r);d.replaceState(i,"",s),o&&f&&f({action:h,location:y.location,delta:0})},go:e=>d.go(e)};return y}function f(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let i=T(("string"===typeof t?d(t):t).pathname||"/",n);if(null==i)return null;let s=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=N(i);a=E(s[o],e,r)}return a}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let l=P([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(a(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),m(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))i(e,t,n);else i(e,t)})),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=g(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var v=/^:[\w-]+$/,y=3,b=2,w=1,x=10,_=-2,k=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=_),t&&(r+=b),n.filter((e=>!k(e))).reduce(((e,t)=>e+(v.test(t)?y:""===t?w:x)),r)}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:P([s,u.pathname]),pathnameBase:R(P([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=P([s,u.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=l[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[n];return e[r]=i&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{});return{params:c,pathname:s,pathnameBase:a,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return o(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e){let t=j(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function A(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=d(e):(r={...e},a(!r.pathname||!r.pathname.includes("?"),I("?","pathname","search",r)),a(!r.pathname||!r.pathname.includes("#"),I("#","pathname","hash",r)),a(!r.search||!r.search.includes("#"),I("#","search","hash",r)));let s,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?d(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:D(r),hash:L(i)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var P=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",L=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function M(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var z=["POST","PUT","PATCH","DELETE"],F=(new Set(z),["GET",...z]);new Set(F),Symbol("ResetLoaderData");var U=e.createContext(null);U.displayName="DataRouter";var V=e.createContext(null);V.displayName="DataRouterState";var B=e.createContext({isTransitioning:!1});B.displayName="ViewTransition";var $=e.createContext(new Map);$.displayName="Fetchers";var H=e.createContext(null);H.displayName="Await";var q=e.createContext(null);q.displayName="Navigation";var W=e.createContext(null);W.displayName="Location";var G=e.createContext({outlet:null,matches:[],isDataRoute:!1});G.displayName="Route";var K=e.createContext(null);K.displayName="RouteError";function Q(){return null!=e.useContext(W)}function Y(){return a(Q(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(W).location}var X="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J(t){e.useContext(q).static||e.useLayoutEffect(t)}function Z(){let{isDataRoute:t}=e.useContext(G);return t?function(){let{router:t}=ce("useNavigate"),n=de("useNavigate"),r=e.useRef(!1);J((()=>{r.current=!0}));let i=e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(r.current,X),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...i}))}),[t,n]);return i}():function(){a(Q(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(U),{basename:n,navigator:r}=e.useContext(q),{matches:i}=e.useContext(G),{pathname:s}=Y(),l=JSON.stringify(O(i)),c=e.useRef(!1);J((()=>{c.current=!0}));let u=e.useCallback((function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(c.current,X),!c.current)return;if("number"===typeof e)return void r.go(e);let a=A(e,JSON.parse(l),s,"path"===i.relative);null==t&&"/"!==n&&(a.pathname="/"===a.pathname?n:P([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[n,r,l,s,t]);return u}()}e.createContext(null);function ee(){let{matches:t}=e.useContext(G),n=t[t.length-1];return n?n.params:{}}function te(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(G),{pathname:i}=Y(),s=JSON.stringify(O(r));return e.useMemo((()=>A(t,JSON.parse(s),i,"path"===n)),[t,s,i,n])}function ne(t,n,r,i){a(Q(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=e.useContext(q),{matches:o}=e.useContext(G),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=Y();if(n){let e="string"===typeof n?d(n):n;a("/"===u||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),h=e}else h=p;let m=h.pathname||"/",g=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=f(t,{pathname:g});let y=oe(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:P([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:P([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r,i);return n&&y?e.createElement(W.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function re(){let t=he(),n=M(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a=null;return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:s},r):null,a)}var ie=e.createElement(re,null),se=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(G.Provider,{value:this.props.routeContext},e.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ae(t){let{routeContext:n,match:r,children:i}=t,s=e.useContext(U);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(G.Provider,{value:n},i)}function oe(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,s=r?.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));a(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,l=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,s=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||s){o=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight(((t,a,c)=>{let u,d=!1,h=null,f=null;r&&(u=s&&a.route.id?s[a.route.id]:void 0,h=a.route.errorElement||ie,o&&(l<0&&0===c?(pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=a.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:a.route.Component?e.createElement(a.route.Component,null):a.route.element?a.route.element:t,e.createElement(ae,{match:a,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===c)?e.createElement(se,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function le(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ce(t){let n=e.useContext(U);return a(n,le(t)),n}function ue(t){let n=e.useContext(V);return a(n,le(t)),n}function de(t){let n=function(t){let n=e.useContext(G);return a(n,le(t)),n}(t),r=n.matches[n.matches.length-1];return a(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function he(){let t=e.useContext(K),n=ue("useRouteError"),r=de("useRouteError");return void 0!==t?t:n.errors?.[r]}var fe={};function pe(e,t,n){t||fe[e]||(fe[e]=!0,o(!1,n))}e.memo((function(e){let{routes:t,future:n,state:r}=e;return ne(t,void 0,r,n)}));function me(e){a(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ge(t){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:l,static:c=!1}=t;a(!Q(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=e.useMemo((()=>({basename:u,navigator:l,static:c,future:{}})),[u,l,c]);"string"===typeof i&&(i=d(i));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=i,y=e.useMemo((()=>{let e=T(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:s}}),[u,f,p,m,g,v,s]);return o(null!=y,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:e.createElement(q.Provider,{value:h},e.createElement(W.Provider,{children:r,value:y}))}function ve(e){let{children:t,location:n}=e;return ne(ye(t),n)}e.Component;function ye(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let s=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,ye(t.props.children,s));a(t.type===me,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),a(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=ye(t.props.children,s)),r.push(o)})),r}var be="get",we="application/x-www-form-urlencoded";function xe(e){return null!=e&&"string"===typeof e.tagName}var _e=null;var ke=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Se(e){return null==e||ke.has(e)?e:(o(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${we}"`),null)}function Ee(e,t){let n,r,i,s,a;if(xe(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?T(a,t):null,n=e.getAttribute("method")||be,i=Se(e.getAttribute("enctype"))||we,s=new FormData(e)}else if(function(e){return xe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return xe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?T(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||be,i=Se(e.getAttribute("formenctype"))||Se(a.getAttribute("enctype"))||we,s=new FormData(a,e),!function(){if(null===_e)try{new FormData(document.createElement("form"),0),_e=!1}catch(ob){_e=!0}return _e}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(xe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=be,r=null,i=we,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Ce(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ne(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Te(e){return null!=e&&"string"===typeof e.page}function Ie(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function je(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Oe(e){return[...new Set(e)]}function Ae(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Te(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Pe(e){return{__html:e}}Symbol("SingleFetchRedirect");function Re(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}e.Component;function De(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,s=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(M(n))return e.createElement(Le,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(Le,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Le(t){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:s}=t,{routeModules:a}=Ve();return a.root?.Layout&&!i?s:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?e.createElement(Ke,null):null)))}function Me(e){return!e}function ze(){let t=e.useContext(U);return Ce(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Fe(){let t=e.useContext(V);return Ce(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ue=e.createContext(void 0);function Ve(){let t=e.useContext(Ue);return Ce(t,"You must render this element inside a <HydratedRouter> element"),t}function Be(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $e(e,t,n){if(n&&!Ge)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function He(t){let{page:n,...r}=t,{router:i}=ze(),s=e.useMemo((()=>f(i.routes,n,i.basename)),[i.routes,n,i.basename]);return s?e.createElement(We,{page:n,matches:s,...r}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function qe(t){let{manifest:n,routeModules:r}=Ve(),[i,s]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return Ae((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ne(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ie).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(t,n,r).then((t=>{e||s(t)})),()=>{e=!0}}),[t,n,r]),i}function We(t){let{page:n,matches:r,...i}=t,s=Y(),{manifest:a,routeModules:o}=Ve(),{loaderData:l,matches:c}=Fe(),u=e.useMemo((()=>je(n,r,c,a,s,"data")),[n,r,c,a,s]),d=e.useMemo((()=>je(n,r,c,a,s,"assets")),[n,r,c,a,s]),h=e.useMemo((()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=a.routes[n.route.id];r&&r.hasLoader&&(!u.some((e=>e.route.id===n.route.id))&&n.route.id in l&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=Re(n);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,s,a,u,r,n,o]),f=e.useMemo((()=>function(e,t){return Oe(e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(d,a)),[d,a]),p=qe(d);return e.createElement(e.Fragment,null,h.map((t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...i}))),f.map((t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...i}))),p.map((t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})})))}Ue.displayName="FrameworkContext";var Ge=!1;function Ke(t){let{manifest:n,serverHandoffString:r,isSpaMode:i,renderMeta:s}=Ve(),{router:a,static:o,staticContext:l}=ze(),{matches:c}=Fe(),u=Me(i);s&&(s.didRenderScripts=!0);let d=$e(c,null,i);e.useEffect((()=>{0}),[]);let h=e.useMemo((()=>{let i=l?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=o?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${u?"":`import ${JSON.stringify(n.url)}`};\n${d.map(((e,t)=>`import * as route${t} from ${JSON.stringify(n.routes[e.route.id].module)};`)).join("\n")}\n  ${u?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=f(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let s=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:s}}(n,a),null,2)};`:""}\n  window.__reactRouterRouteModules = {${d.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(i),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Pe(s),type:"module",async:!0}))}),[]),p=d.map((e=>{let t=n.routes[e.route.id];return t?(t.imports||[]).concat([t.module]):[]})).flat(1),m=Ge?[]:n.entry.imports.concat(p);return Ge?null:e.createElement(e.Fragment,null,u?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin}),[...new Set(g)].map((n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin}))),h);var g}function Qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Ye="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ye&&(window.__reactRouterVersion="7.0.1")}catch(ob){}function Xe(t){let{basename:n,children:r,window:i}=t,a=e.useRef();null==a.current&&(a.current=s({window:i,v5Compat:!0}));let o=a.current,[l,c]=e.useState({action:o.action,location:o.location}),u=e.useCallback((t=>{e.startTransition((()=>c(t)))}),[c]);return e.useLayoutEffect((()=>o.listen(u)),[o,u]),e.createElement(ge,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var Je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=e.forwardRef((function(t,n){let r,{onClick:i,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,...y}=t,{basename:b}=e.useContext(q),w="string"===typeof m&&Je.test(m),x=!1;if("string"===typeof m&&w&&(r=m,Ye))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=T(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:x=!0}catch(ob){o(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(Q(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext(q),{hash:s,pathname:o,search:l}=te(t,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:P([r,o])),i.createHref({pathname:c,search:l,hash:s})}(m,{relative:c}),[k,S,E]=function(t,n){let r=e.useContext(Ue),[i,s]=e.useState(!1),[a,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=e.useRef(null);e.useEffect((()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(i){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return r?"intent"!==t?[a,f,{}]:[a,f,{onFocus:Be(l,p),onBlur:Be(c,m),onMouseEnter:Be(u,p),onMouseLeave:Be(d,m),onTouchStart:Be(h,p)}]:[!1,f,{}]}(l,y),C=function(t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Z(),c=Y(),d=te(t,{relative:a});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:u(c)===u(d);l(t,{replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o})}}),[c,l,d,r,i,n,t,s,a,o])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:v});let N=e.createElement("a",{...y,...E,href:r||_,onClick:x||d?i:function(e){i&&i(e),e.defaultPrevented||C(e)},ref:Qe(n,S),target:p,"data-discover":w||"render"!==s?void 0:"true"});return k&&!w?e.createElement(e.Fragment,null,N,e.createElement(He,{page:_})):N}));Ze.displayName="Link",e.forwardRef((function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:d,...h}=t,f=te(c,{relative:h.relative}),p=Y(),m=e.useContext(V),{navigator:g,basename:v}=e.useContext(q),y=null!=m&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(B);a(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=nt("useViewTransitionState"),s=te(t,{relative:n.relative});if(!r.isTransitioning)return!1;let o=T(r.currentLocation.pathname,i)||r.currentLocation.pathname,l=T(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=C(s.pathname,l)||null!=C(s.pathname,o)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&v&&(x=T(x,v)||x);const _="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,S=w===b||!o&&w.startsWith(b)&&"/"===w.charAt(_),E=null!=x&&(x===b||!o&&x.startsWith(b)&&"/"===x.charAt(b.length)),N={isActive:S,isPending:E,isTransitioning:y},I=S?r:void 0;k="function"===typeof s?s(N):[s,S?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let j="function"===typeof l?l(N):l;return e.createElement(Ze,{...h,"aria-current":I,className:k,ref:n,style:j,to:c,viewTransition:u},"function"===typeof d?d(N):d)})).displayName="NavLink";var et=e.forwardRef(((t,n)=>{let{discover:r="render",fetcherKey:i,navigate:s,reloadDocument:o,replace:l,state:c,method:d=be,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...v}=t,y=st(),b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(q),i=e.useContext(G);a(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...te(t||".",{relative:n})},l=Y();if(null==t){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?`?${n}`:""}}t&&"."!==t||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:P([r,o.pathname]));return u(o)}(h,{relative:p}),w="get"===d.toLowerCase()?"get":"post",x="string"===typeof h&&Je.test(h);return e.createElement("form",{ref:n,method:w,action:b,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;y(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...v,"data-discover":x||"render"!==r?void 0:"true"})}));function tt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nt(t){let n=e.useContext(U);return a(n,tt(t)),n}et.displayName="Form";var rt=0,it=()=>`__${String(++rt)}__`;function st(){let{router:t}=nt("useSubmit"),{basename:n}=e.useContext(q),r=de("useRouteId");return e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=Ee(e,n);if(!1===i.navigate){let e=i.fetcherKey||it();await t.fetch(e,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[t,n,r])}new TextEncoder;const at=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ot={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(at(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new lt;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class lt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ct=function(e){return function(e){const t=at(e);return ot.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ut=function(e){try{return ot.decodeString(e,!0)}catch(ob){console.error("base64Decode failed: ",ob)}return null};const dt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ht=()=>{try{return dt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/malim-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"https://malim-backend.vercel.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ob){return}const t=e&&ut(e[1]);return t&&JSON.parse(t)})()}catch(ob){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ob}`)}},ft=e=>{var t,n;return null===(n=null===(t=ht())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},pt=()=>{var e;return null===(e=ht())||void 0===e?void 0:e.config},mt=e=>{var t;return null===(t=ht())||void 0===t?void 0:t[`_${e}`]};class gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function vt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function yt(){return!function(){var e;const t=null===(e=ht())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(ob){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bt(){try{return"object"===typeof indexedDB}catch(ob){return!1}}class wt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,wt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(_t,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new wt(n,s,t)}}const _t=/\{\$([^}]+)}/g;function kt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(St(n)&&St(s)){if(!kt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function St(e){return null!==e&&"object"===typeof e}function Et(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ct(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Nt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Tt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=It),void 0===r.error&&(r.error=It),void 0===r.complete&&(r.complete=It);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ob){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(ob){"undefined"!==typeof console&&console.error&&console.error(ob)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function It(){}function jt(e){return e&&e._delegate?e._delegate:e}class Ot{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const At="[DEFAULT]";class Pt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new gt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ob){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ob){if(r)return null;throw ob}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:At})}catch(ob){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ob){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Rt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.component?this.component.multipleInstances?e:At:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Rt(e){return e===At?void 0:e}class Dt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Lt=[];var Mt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Mt||(Mt={}));const zt={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},Ft=Mt.INFO,Ut={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},Vt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ut[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class Bt{constructor(e){this.name=e,this._logLevel=Ft,this._logHandler=Vt,this._userLogHandler=null,Lt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?zt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}let $t,Ht;const qt=new WeakMap,Wt=new WeakMap,Gt=new WeakMap,Kt=new WeakMap,Qt=new WeakMap;let Yt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Wt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Gt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Xt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ht||(Ht=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(en(this),n),Zt(qt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zt(e.apply(en(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(en(this),t,...r);return Gt.set(s,t.sort?t.sort():[t]),Zt(s)}}function Jt(e){return"function"===typeof e?Xt(e):(e instanceof IDBTransaction&&function(e){if(Wt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Wt.set(e,t)}(e),t=e,($t||($t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Yt):e);var t}function Zt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Zt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&qt.set(t,e)})).catch((()=>{})),Qt.set(t,e),t}(e);if(Kt.has(e))return Kt.get(e);const t=Jt(e);return t!==e&&(Kt.set(e,t),Qt.set(t,e)),t}const en=e=>Qt.get(e);const tn=["get","getKey","getAll","getAllKeys","count"],nn=["put","add","delete","clear"],rn=new Map;function sn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(rn.get(t))return rn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=nn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return rn.set(t,s),s}Yt=(e=>({...e,get:(t,n,r)=>sn(t,n)||e.get(t,n,r),has:(t,n)=>!!sn(t,n)||e.has(t,n)}))(Yt);class an{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const on="@firebase/app",ln="0.10.16",cn=new Bt("@firebase/app"),un="@firebase/app-compat",dn="@firebase/analytics-compat",hn="@firebase/analytics",fn="@firebase/app-check-compat",pn="@firebase/app-check",mn="@firebase/auth",gn="@firebase/auth-compat",vn="@firebase/database",yn="@firebase/data-connect",bn="@firebase/database-compat",wn="@firebase/functions",xn="@firebase/functions-compat",_n="@firebase/installations",kn="@firebase/installations-compat",Sn="@firebase/messaging",En="@firebase/messaging-compat",Cn="@firebase/performance",Nn="@firebase/performance-compat",Tn="@firebase/remote-config",In="@firebase/remote-config-compat",jn="@firebase/storage",On="@firebase/storage-compat",An="@firebase/firestore",Pn="@firebase/vertexai",Rn="@firebase/firestore-compat",Dn="firebase",Ln="[DEFAULT]",Mn={[on]:"fire-core",[un]:"fire-core-compat",[hn]:"fire-analytics",[dn]:"fire-analytics-compat",[pn]:"fire-app-check",[fn]:"fire-app-check-compat",[mn]:"fire-auth",[gn]:"fire-auth-compat",[vn]:"fire-rtdb",[yn]:"fire-data-connect",[bn]:"fire-rtdb-compat",[wn]:"fire-fn",[xn]:"fire-fn-compat",[_n]:"fire-iid",[kn]:"fire-iid-compat",[Sn]:"fire-fcm",[En]:"fire-fcm-compat",[Cn]:"fire-perf",[Nn]:"fire-perf-compat",[Tn]:"fire-rc",[In]:"fire-rc-compat",[jn]:"fire-gcs",[On]:"fire-gcs-compat",[An]:"fire-fst",[Rn]:"fire-fst-compat",[Pn]:"fire-vertex","fire-js":"fire-js",[Dn]:"fire-js-all"},zn=new Map,Fn=new Map,Un=new Map;function Vn(e,t){try{e.container.addComponent(t)}catch(ob){cn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,ob)}}function Bn(e){const t=e.name;if(Un.has(t))return cn.debug(`There were multiple attempts to register component ${t}.`),!1;Un.set(t,e);for(const n of zn.values())Vn(n,e);for(const n of Fn.values())Vn(n,e);return!0}function $n(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Hn(e){return void 0!==e.settings}const qn=new xt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Wn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ot("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}const Gn="11.0.2";function Kn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ln,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw qn.create("bad-app-name",{appName:String(i)});if(n||(n=pt()),!n)throw qn.create("no-options");const s=zn.get(i);if(s){if(kt(n,s.options)&&kt(r,s.config))return s;throw qn.create("duplicate-app",{appName:i})}const a=new Dt(i);for(const l of Un.values())a.addComponent(l);const o=new Wn(n,r,a);return zn.set(i,o),o}function Qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;const t=zn.get(e);if(!t&&e===Ln&&pt())return Kn();if(!t)throw qn.create("no-app",{appName:e});return t}function Yn(e,t,n){var r;let i=null!==(r=Mn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void cn.warn(e.join(" "))}Bn(new Ot(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Xn="firebase-heartbeat-store";let Jn=null;function Zn(){return Jn||(Jn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Zt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Zt(a.result),e.oldVersion,e.newVersion,Zt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Xn)}catch(ob){console.warn(ob)}}}).catch((e=>{throw qn.create("idb-open",{originalErrorMessage:e.message})}))),Jn}async function er(e,t){try{const n=(await Zn()).transaction(Xn,"readwrite"),r=n.objectStore(Xn);await r.put(t,tr(e)),await n.done}catch(ob){if(ob instanceof wt)cn.warn(ob.message);else{const t=qn.create("idb-set",{originalErrorMessage:null===ob||void 0===ob?void 0:ob.message});cn.warn(t.message)}}}function tr(e){return`${e.name}!${e.options.appId}`}class nr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ir(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(ob){cn.warn(ob)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=rr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),sr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ct(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(ob){return cn.warn(ob),""}}}function rr(){return(new Date).toISOString().substring(0,10)}class ir{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!bt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Zn()).transaction(Xn),n=await t.objectStore(Xn).get(tr(e));return await t.done,n}catch(ob){if(ob instanceof wt)cn.warn(ob.message);else{const t=qn.create("idb-get",{originalErrorMessage:null===ob||void 0===ob?void 0:ob.message});cn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return er(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return er(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function sr(e){return ct(JSON.stringify({version:2,heartbeats:e})).length}var ar;ar="",Bn(new Ot("platform-logger",(e=>new an(e)),"PRIVATE")),Bn(new Ot("heartbeat",(e=>new nr(e)),"PRIVATE")),Yn(on,ln,ar),Yn(on,ln,"esm2017"),Yn("fire-js","");function or(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function lr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cr=lr,ur=new xt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dr=new Bt("@firebase/auth");function hr(e){if(dr.logLevel<=Mt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];dr.error(`Auth (${Gn}): ${e}`,...n)}}function fr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vr(e,...n)}function pr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vr(e,...n)}function mr(e,t,n){const r=Object.assign(Object.assign({},cr()),{[t]:n});return new xt("auth","Firebase",r).create(t,{appName:e.name})}function gr(e){return mr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ur.create(e,...n)}function yr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw vr(t,...r)}}function br(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hr(t),new Error(t)}function wr(e,t){e||br(t)}function xr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function _r(){return"http:"===kr()||"https:"===kr()}function kr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Sr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_r()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Er{constructor(e,t){this.shortDelay=e,this.longDelay=t,wr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Sr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cr(e,t){wr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Nr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ir=new Er(3e4,6e4);function jr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Or(e,t,n,r){return Ar(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Et(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Nr.fetch()(Rr(e,e.config.apiHost,n,a),l)}))}async function Ar(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tr),t);try{const t=new Lr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Mr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Mr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Mr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Mr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw mr(e,o,a);fr(e,o)}}catch(ob){if(ob instanceof wt)throw ob;fr(e,"network-request-failed",{message:String(ob)})}}async function Pr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Or(e,t,n,r,i);return"mfaPendingCredential"in s&&fr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Rr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Cr(e.config,i):`${e.config.apiScheme}://${i}`}function Dr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(pr(this.auth,"network-request-failed"))),Ir.get())}))}}function Mr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pr(e,t,r);return i.customData._tokenResponse=n,i}function zr(e){return void 0!==e&&void 0!==e.enterprise}class Fr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Dr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ur(e,t){return Or(e,"GET","/v2/recaptchaConfig",jr(e,t))}async function Vr(e,t){return Or(e,"POST","/v1/accounts:lookup",t)}function Br(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ob){}}function $r(e){return 1e3*Number(e)}function Hr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return hr("JWT malformed, contained fewer than 3 sections"),null;try{const e=ut(n);return e?JSON.parse(e):(hr("Failed to decode base64 JWT payload"),null)}catch(ob){return hr("Caught error parsing JWT payload as JSON",null===ob||void 0===ob?void 0:ob.toString()),null}}function qr(e){const t=Hr(e);return yr(t,"internal-error"),yr("undefined"!==typeof t.exp,"internal-error"),yr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Wr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(ob){throw ob instanceof wt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(ob)&&e.auth.currentUser===e&&await e.auth.signOut(),ob}}class Gr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(ob){return void("auth/network-request-failed"===(null===ob||void 0===ob?void 0:ob.code)&&this.schedule(!0))}this.schedule()}}class Kr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Br(this.lastLoginAt),this.creationTime=Br(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Wr(e,Vr(n,{idToken:r}));yr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Yr(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Kr(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Yr(e){return e.map((e=>{var{providerId:t}=e,n=or(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Xr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yr(e.idToken,"internal-error"),yr("undefined"!==typeof e.idToken,"internal-error"),yr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):qr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){yr(0!==e.length,"internal-error");const t=qr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(yr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ar(e,{},(async()=>{const n=Et({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Rr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nr.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Xr;return n&&(yr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(yr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(yr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xr,this.toJSON())}_performRefresh(){return br("not implemented")}}function Jr(e,t){yr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Zr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=or(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Kr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Wr(this,this.stsTokenManager.getToken(this.auth,e));return yr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=jt(e),r=await n.getIdToken(t),i=Hr(r);yr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Br($r(i.auth_time)),issuedAtTime:Br($r(i.iat)),expirationTime:Br($r(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=jt(e);await Qr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(yr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){yr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Qr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await Wr(this,async function(e,t){return Or(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=t;yr(y&&_,e,"internal-error");const k=Xr.fromJSON(this.name,_);yr("string"===typeof y,e,"internal-error"),Jr(u,e.name),Jr(d,e.name),yr("boolean"===typeof b,e,"internal-error"),yr("boolean"===typeof w,e,"internal-error"),Jr(h,e.name),Jr(f,e.name),Jr(p,e.name),Jr(m,e.name),Jr(g,e.name),Jr(v,e.name);const S=new Zr({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(S.providerData=x.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Xr;r.updateFromServerResponse(t);const i=new Zr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Qr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];yr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Yr(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Xr;a.updateFromIdToken(n);const o=new Zr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Kr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const ei=new Map;function ti(e){wr(e instanceof Function,"Expected a class definition");let t=ei.get(e);return t?(wr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ei.set(e,t),t)}class ni{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ni.type="NONE";const ri=ni;function ii(e,t,n){return`firebase:${e}:${t}:${n}`}class si{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ii(this.userKey,r.apiKey,i),this.fullPersistenceKey=ii("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new si(ti(ri),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ti(ri);const s=ii(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Zr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new si(i,e,n)):new si(i,e,n)}}function ai(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ui(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hi(t))return"Blackberry";if(fi(t))return"Webos";if(li(t))return"Safari";if((t.includes("chrome/")||ci(t))&&!t.includes("edge/"))return"Chrome";if(di(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function oi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/firefox\//i.test(e)}function li(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/crios\//i.test(e)}function ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/iemobile/i.test(e)}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/android/i.test(e)}function hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/blackberry/i.test(e)}function fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/webos/i.test(e)}function pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mi(){return function(){const e=vt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return pi(e)||di(e)||fi(e)||hi(e)||/windows phone/i.test(e)||ui(e)}function vi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ai(vt());break;case"Worker":t=`${ai(vt())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gn}/${r}`}class yi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(ob){r(ob)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(ob){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===ob||void 0===ob?void 0:ob.message})}}}class bi{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class wi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _i(this),this.idTokenSubscription=new _i(this),this.beforeStateQueue=new yi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ur,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ti(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await si.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ob){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Vr(this,{idToken:e}),n=await Zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Hn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(ob){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(ob)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(ob){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qr(e)}catch(ob){if("auth/network-request-failed"!==(null===ob||void 0===ob?void 0:ob.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(gr(this));const t=e?jt(e):null;return t&&yr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&yr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Hn(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(gr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ti(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Or(e,"GET","/v2/passwordPolicy",jr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new bi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Or(e,"POST","/v2/accounts:revokeToken",jr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ti(e)||this._popupRedirectResolver;yr(t,this,"argument-error"),this.redirectPersistenceManager=await si.create(this,[ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(yr(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(dr.logLevel<=Mt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];dr.warn(`Auth (${Gn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function xi(e){return jt(e)}class _i{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Tt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return yr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ki={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Si(e){return ki.loadJS(e)}function Ei(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ci{constructor(){this.enterprise=new Ni}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ni{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ti="NO_RECAPTCHA";class Ii{constructor(e){this.type="recaptcha-enterprise",this.auth=xi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;zr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Ti)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ci).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ur(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Fr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&zr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ki.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Si(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ji(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Ii(e);let a;if(i)a=Ti;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Oi(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ji(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await ji(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await ji(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await ji(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await ji(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Ai(e){const t=xi(e),n=await Ur(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Fr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ii(t).verify()}}function Pi(e,t,n){const r=xi(e);yr(r._canInitEmulator,r,"emulator-config-failed"),yr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Ri(t),{host:a,port:o}=function(e){const t=Ri(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Di(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Di(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ri(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Di(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Li{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,t){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function Mi(e,t){return Or(e,"POST","/v1/accounts:signUp",t)}async function zi(e,t){return Pr(e,"POST","/v1/accounts:signInWithPassword",jr(e,t))}class Fi extends Li{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Fi(e,t,"password")}static _fromEmailAndCode(e,t){return new Fi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Oi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Pr(e,"POST","/v1/accounts:signInWithEmailLink",jr(e,t))}(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Oi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Pr(e,"POST","/v1/accounts:signInWithEmailLink",jr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ui(e,t){return Pr(e,"POST","/v1/accounts:signInWithIdp",jr(e,t))}class Vi extends Li{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=or(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Vi(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ui(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ui(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ui(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Et(t)}return e}}async function Bi(e,t){return Or(e,"POST","/v1/accounts:sendVerificationCode",jr(e,t))}const $i={USER_NOT_FOUND:"user-not-found"};class Hi extends Li{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Hi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Hi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Pr(e,"POST","/v1/accounts:signInWithPhoneNumber",jr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Pr(e,"POST","/v1/accounts:signInWithPhoneNumber",jr(e,t));if(n.temporaryProof)throw Mr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Pr(e,"POST","/v1/accounts:signInWithPhoneNumber",jr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),$i)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Hi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class qi{constructor(e){var t,n,r,i,s,a;const o=Ct(Nt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);yr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Ct(Nt(e)).link,n=t?Ct(Nt(t)).deep_link_id:null,r=Ct(Nt(e)).deep_link_id;return(r?Ct(Nt(r)).link:null)||r||n||t||e}(e);try{return new qi(t)}catch(n){return null}}}class Wi{constructor(){this.providerId=Wi.PROVIDER_ID}static credential(e,t){return Fi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=qi.parseLink(t);return yr(n,"argument-error"),Fi._fromEmailAndCode(e,n.code,n.tenantId)}}Wi.PROVIDER_ID="password",Wi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Wi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Gi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ki extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qi extends Ki{constructor(){super("facebook.com")}static credential(e){return Vi._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qi.credential(t.oauthAccessToken)}catch(n){return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qi.PROVIDER_ID="facebook.com";class Yi extends Ki{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vi._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch(i){return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com",Yi.PROVIDER_ID="google.com";class Xi extends Ki{constructor(){super("github.com")}static credential(e){return Vi._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xi.credential(t.oauthAccessToken)}catch(n){return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com",Xi.PROVIDER_ID="github.com";class Ji extends Ki{constructor(){super("twitter.com")}static credential(e,t){return Vi._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ji.credential(n,r)}catch(i){return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com",Ji.PROVIDER_ID="twitter.com";class Zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Zr._fromIdTokenResponse(e,n,r),s=es(n);return new Zi({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=es(n);return new Zi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function es(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ts extends wt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ts.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ts(e,t,n,r)}}function ns(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw ts._fromErrorAndOperation(e,n,t,r);throw n}))}async function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Wr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Zi._forOperation(e,"link",r)}async function is(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Hn(r.app))return Promise.reject(gr(r));const i="reauthenticate";try{const s=await Wr(e,ns(r,i,t,e),n);yr(s.idToken,r,"internal-error");const a=Hr(s.idToken);yr(a,r,"internal-error");const{sub:o}=a;return yr(e.uid===o,r,"user-mismatch"),Zi._forOperation(e,i,s)}catch(ob){throw"auth/user-not-found"===(null===ob||void 0===ob?void 0:ob.code)&&fr(r,"user-mismatch"),ob}}async function ss(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Hn(e.app))return Promise.reject(gr(e));const r="signIn",i=await ns(e,r,t),s=await Zi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function as(e,t){return ss(xi(e),t)}async function os(e){const t=xi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function ls(e,t){return Or(e,"POST","/v2/accounts/mfaEnrollment:start",jr(e,t))}new WeakMap;const cs="__sak";class us{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cs,"1"),this.storage.removeItem(cs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ds extends us{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);mi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ds.type="LOCAL";const hs=ds;class fs extends us{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fs.type="SESSION";const ps=fs;class ms{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ms(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ms.receivers=[];class vs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=gs("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ys(){return window}function bs(){return"undefined"!==typeof ys().WorkerGlobalScope&&"function"===typeof ys().importScripts}const ws="firebaseLocalStorageDb",xs="firebaseLocalStorage",_s="fbase_key";class ks{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ss(e,t){return e.transaction([xs],t?"readwrite":"readonly").objectStore(xs)}function Es(){const e=indexedDB.open(ws,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(xs,{keyPath:_s})}catch(ob){n(ob)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(xs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ws);return new ks(e).toPromise()}(),t(await Es()))}))}))}async function Cs(e,t,n){const r=Ss(e,!0).put({[_s]:t,value:n});return new ks(r).toPromise()}function Ns(e,t){const n=Ss(e,!0).delete(t);return new ks(n).toPromise()}class Ts{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Es()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(ob){if(t++>3)throw ob;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ms._getInstance(bs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new vs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Es();return await Cs(e,cs,"1"),await Ns(e,cs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Cs(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ss(e,!1).get(t),r=await new ks(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ns(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ss(e,!1).getAll();return new ks(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ts.type="LOCAL";const Is=Ts;function js(e,t){return Or(e,"POST","/v2/accounts/mfaSignIn:start",jr(e,t))}Ei("rcb"),new Er(3e4,6e4);const Os="recaptcha";async function As(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Ai(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){yr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Oi(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ti){yr((null===n||void 0===n?void 0:n.type)===Os,e,"argument-error");return ls(e,await Ps(e,t,n))}return ls(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{yr("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;yr(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Oi(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ti){yr((null===n||void 0===n?void 0:n.type)===Os,e,"argument-error");return js(e,await Ps(e,t,n))}return js(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Oi(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Ti){yr((null===n||void 0===n?void 0:n.type)===Os,e,"argument-error");return Bi(e,await Ps(e,t,n))}return Bi(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Ps(e,t,n){yr(n.type===Os,e,"argument-error");const r=await n.verify();yr("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Rs{constructor(e){this.providerId=Rs.PROVIDER_ID,this.auth=xi(e)}verifyPhoneNumber(e,t){return As(this.auth,e,jt(t))}static credential(e,t){return Hi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Rs.credentialFromTaggedObject(t)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Hi._fromTokenResponse(n,r):null}}function Ds(e,t){return t?ti(t):(yr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Rs.PROVIDER_ID="phone",Rs.PHONE_SIGN_IN_METHOD="phone";class Ls extends Li{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ui(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ms(e){return ss(e.auth,new Ls(e),e.bypassAuthState)}function zs(e){const{auth:t,user:n}=e;return yr(n,t,"internal-error"),is(n,new Ls(e),e.bypassAuthState)}async function Fs(e){const{auth:t,user:n}=e;return yr(n,t,"internal-error"),rs(n,new Ls(e),e.bypassAuthState)}class Us{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ob){this.reject(ob)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(ob){this.reject(ob)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ms;case"linkViaPopup":case"linkViaRedirect":return Fs;case"reauthViaPopup":case"reauthViaRedirect":return zs;default:fr(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vs=new Er(2e3,1e4);class Bs extends Us{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yr(e,this.auth,"internal-error"),e}async onExecution(){wr(1===this.filter.length,"Popup operations only handle one event");const e=gs();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(pr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Vs.get())};e()}}Bs.currentPopupAction=null;const $s=new Map;class Hs extends Us{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=$s.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Gs(t),r=Ws(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(ob){e=()=>Promise.reject(ob)}$s.set(this.auth._key(),e)}return this.bypassAuthState||$s.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function qs(e,t){$s.set(e._key(),t)}function Ws(e){return ti(e._redirectPersistence)}function Gs(e){return ii("pendingRedirect",e.config.apiKey,e.name)}async function Ks(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Hn(e.app))return Promise.reject(gr(e));const r=xi(e),i=Ds(r,t),s=new Hs(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Qs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Xs(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(pr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ys(e))}saveEventToCache(e){this.cachedEventUids.add(Ys(e)),this.lastProcessedEventTime=Date.now()}}function Ys(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Xs(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Js=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zs=/^https?/;async function ea(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Or(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ta(r))return}catch(n){}fr(e,"unauthorized-domain")}function ta(e){const t=xr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Zs.test(n))return!1;if(Js.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const na=new Er(3e4,6e4);function ra(){const e=ys().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ia(e){return new Promise(((t,n)=>{var r,i,s;function a(){ra(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ra(),n(pr(e,"network-request-failed"))},timeout:na.get()})}if(null===(i=null===(r=ys().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ys().gapi)||void 0===s?void 0:s.load)){const t=Ei("iframefcb");return ys()[t]=()=>{gapi.load?a():n(pr(e,"network-request-failed"))},Si(`${ki.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw sa=null,e}))}let sa=null;const aa=new Er(5e3,15e3),oa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},la=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ca(e){const t=e.config;yr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Cr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Gn},i=la.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Et(r).slice(1)}`}async function ua(e){const t=await function(e){return sa=sa||ia(e),sa}(e),n=ys().gapi;return yr(n,e,"internal-error"),t.open({where:document.body,url:ca(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oa,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=pr(e,"network-request-failed"),s=ys().setTimeout((()=>{r(i)}),aa.get());function a(){ys().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const da={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ha{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ob){}}}function fa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},da),{width:r.toString(),height:i.toString(),top:s,left:a}),c=vt().toLowerCase();n&&(o=ci(c)?"_blank":n),oi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return pi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ha(null);const d=window.open(t||"",o,u);yr(d,e,"popup-blocked");try{d.focus()}catch(ob){}return new ha(d)}const pa="__/auth/handler",ma="emulator/auth/handler",ga=encodeURIComponent("fac");async function va(e,t,n,r,i,s){yr(e.config.authDomain,e,"auth-domain-config-required"),yr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Gn,eventId:i};if(t instanceof Gi){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Ki){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${ga}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${pa}`;return Cr(t,ma)}(e)}?${Et(o).slice(1)}${c}`}const ya="webStorageSupport";const ba=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ps,this._completeRedirectFn=Ks,this._overrideRedirectResult=qs}async _openPopup(e,t,n,r){var i;wr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return fa(e,await va(e,t,n,xr(),r),gs())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ys().location.href=e}(await va(e,t,n,xr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(wr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ua(e),n=new Qs(e);return t.register("authEvent",(t=>{yr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ya,{type:ya},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ya];void 0!==i&&t(!!i),fr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ea(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gi()||li()||pi()}};var wa="@firebase/auth",xa="1.8.1";class _a{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){yr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ka=mt("authIdTokenMaxAge")||300;let Sa=null;var Ea,Ca;Ea={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=pr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},ki=Ea,Ca="Browser",Bn(new Ot("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;yr(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Ca,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vi(Ca)},c=new wi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ti);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Bn(new Ot("auth-internal",(e=>(e=>new _a(e))(xi(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(wa,xa,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ca)),Yn(wa,xa,"esm2017");Yn("firebase","11.0.2","app");var Na,Ta,Ia="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ja={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ta=ja.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Na=ja.Integer=r}).apply("undefined"!==typeof Ia?Ia:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Oa,Aa,Pa,Ra,Da,La,Ma,za,Fa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ua={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Fa&&Fa];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let N,T=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);N=()=>{e.then(O)}};var O=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){k(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function A(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,P);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),z=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function W(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new V(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;x(t=new P(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,A),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){P.call(this,"d")}function be(){P.call(this,"c")}d(ye,P),d(be,P);var we={},xe=null;function _e(){return xe=xe||new ne}function ke(e){P.call(this,we.La,e)}function Se(e){const t=_e();re(t,new ke(t))}function Ee(e,t){P.call(this,we.STAT_EVENT,e),this.stat=t}function Ce(e){const t=_e();re(t,new Ee(t,e))}function Ne(e,t){P.call(this,we.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(ke,P),we.STAT_EVENT="statevent",d(Ee,P),we.Ma="timingevent",d(Ne,P),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Oe,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Oe=new Re;var Me={},ze={};function Fe(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ze:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?ze:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),Ce(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(qe(o),$e(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Se(),qe(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Wt(this.g);e="";var s=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),We(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ce(12),Ge(this),We(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==ze){4==h&&(this.s=4,Ce(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Ce(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Ke(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Ce(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),We(this)}else je(this.i,this.l,o,null),Ke(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ge(this),We(this)}}}catch(Va){}},De.prototype.cancel=function(){this.J=!0,Ge(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),Ce(17)),Ge(this),this.s=2,We(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){_t(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return _t(e),t=Ct(e,t),e.g.has(t)}function Et(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Tt(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(ob){throw t.push(r+"type="+encodeURIComponent("_badmap")),ob}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){_t(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,St(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(jt,pe),jt.prototype.g=function(){return new Ot(this.l,this.j)},jt.prototype.i=(mt={},function(){return mt}),d(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Rt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var zt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),$t(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!zt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Vt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(ob){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ha){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;N||j(),T||(N(),T=!0),I.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{It(o,e,"req"+n+"_")}catch(Va){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;N||j(),T||(N(),T=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Ne(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=u(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Nt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),Nt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Nt(0,0,!1,t)}))}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new jt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?me(this.o):me(Oe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,za=Ua.createWebChannelTransport=function(){return new mn},Ma=Ua.getStatEventTarget=function(){return _e()},La=Ua.Event=we,Da=Ua.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Ra=Ua.ErrorCode=Ae,Pe.COMPLETE="complete",Pa=Ua.EventType=Pe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Aa=Ua.WebChannel=ge,Ua.FetchXmlHttpFactory=jt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Oa=Ua.XhrIo=Mt}).apply("undefined"!==typeof Fa?Fa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Va="@firebase/firestore";class Ba{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ba.UNAUTHENTICATED=new Ba(null),Ba.GOOGLE_CREDENTIALS=new Ba("google-credentials-uid"),Ba.FIRST_PARTY=new Ba("first-party-uid"),Ba.MOCK_USER=new Ba("mock-user");let $a="11.0.2";const Ha=new Bt("@firebase/firestore");function qa(){return Ha.logLevel}function Wa(e){if(Ha.logLevel<=Mt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qa);Ha.debug(`Firestore (${$a}): ${e}`,...i)}}function Ga(e){if(Ha.logLevel<=Mt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qa);Ha.error(`Firestore (${$a}): ${e}`,...i)}}function Ka(e){if(Ha.logLevel<=Mt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qa);Ha.warn(`Firestore (${$a}): ${e}`,...i)}}function Qa(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(lb){return e}}function Ya(){const e=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Ga(e),new Error(e)}function Xa(e,t){e||Ya()}function Ja(e,t){return e}const Za={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class eo extends wt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class to{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class no{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ro{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ba.UNAUTHENTICATED)))}shutdown(){}}class io{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class so{constructor(e){this.t=e,this.currentUser=Ba.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xa(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new to;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new to,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Wa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Wa("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new to)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Wa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xa("string"==typeof t.accessToken),new no(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xa(null===e||"string"==typeof e),new Ba(e)}}class ao{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ba.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class oo{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ao(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ba.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class co{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Xa(void 0===this.o);const n=e=>{null!=e.error&&Wa("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Wa("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Wa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Wa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Xa("string"==typeof e.token),this.R=e.token,new lo(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ho{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=uo(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function fo(e,t){return e<t?-1:e>t?1:0}function po(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class mo{static now(){return mo.fromMillis(Date.now())}static fromDate(e){return mo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new mo(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new eo(Za.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new eo(Za.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new eo(Za.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new eo(Za.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fo(this.nanoseconds,e.nanoseconds):fo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class go{static fromTimestamp(e){return new go(e)}static min(){return new go(new mo(0,0))}static max(){return new go(new mo(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vo{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ya(),void 0===n?n=e.length-t:n>e.length-t&&Ya(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===vo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vo?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yo extends vo{construct(e,t,n){return new yo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new eo(Za.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new yo(e)}static emptyPath(){return new yo([])}}const bo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wo extends vo{construct(e,t,n){return new wo(e,t,n)}static isValidIdentifier(e){return bo.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wo.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wo(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new eo(Za.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new eo(Za.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new eo(Za.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new eo(Za.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wo(t)}static emptyPath(){return new wo([])}}class xo{constructor(e){this.path=e}static fromPath(e){return new xo(yo.fromString(e))}static fromName(e){return new xo(yo.fromString(e).popFirst(5))}static empty(){return new xo(yo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xo(new yo(e.slice()))}}class _o{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}_o.UNKNOWN_ID=-1;function ko(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=go.fromTimestamp(1e9===r?new mo(n+1,0):new mo(n,r));return new Eo(i,xo.empty(),t)}function So(e){return new Eo(e.readTime,e.key,-1)}class Eo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Eo(go.min(),xo.empty(),-1)}static max(){return new Eo(go.max(),xo.empty(),-1)}}function Co(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=xo.comparator(e.documentKey,t.documentKey),0!==n?n:fo(e.largestBatchId,t.largestBatchId))}const No="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class To{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(e){if(e.code!==Za.FAILED_PRECONDITION||e.message!==No)throw e;Wa("LocalStore","Unexpectedly lost primary lease")}class jo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ya(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new jo(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof jo?t:jo.resolve(t)}catch(e){return jo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):jo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):jo.reject(t)}static resolve(e){return new jo(((t,n)=>{t(e)}))}static reject(e){return new jo(((t,n)=>{n(e)}))}static waitFor(e){return new jo(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=jo.resolve(!1);for(const n of e)t=t.next((e=>e?jo.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new jo(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new jo(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Oo(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(e){return"IndexedDbTransactionError"===e.name}class Po{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Ro(e){return null==e}function Do(e){return 0===e&&1/e==-1/0}function Lo(e){return"number"==typeof e&&Number.isInteger(e)&&!Do(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Mo(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Fo(t)),t=zo(e.get(n),t);return Fo(t)}function zo(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Fo(e){return e+"\x01\x01"}Po.oe=-1;const Uo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bo=Vo,$o=[...Bo,"indexConfiguration","indexState","indexEntries"];function Ho(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Go{constructor(e,t){this.comparator=e,this.root=t||Qo.EMPTY}insert(e,t){return new Go(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qo.BLACK,null,null))}remove(e){return new Go(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ko(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ko(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ko(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ko(this.root,e,this.comparator,!0)}}class Ko{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Qo.RED,this.left=null!=r?r:Qo.EMPTY,this.right=null!=i?i:Qo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Qo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Qo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ya();if(this.right.isRed())throw Ya();const e=this.left.check();if(e!==this.right.check())throw Ya();return e+(this.isRed()?0:1)}}Qo.EMPTY=null,Qo.RED=!0,Qo.BLACK=!1,Qo.EMPTY=new class{constructor(){this.size=0}get key(){throw Ya()}get value(){throw Ya()}get color(){throw Ya()}get left(){throw Ya()}get right(){throw Ya()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Qo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yo{constructor(e){this.comparator=e,this.data=new Go(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xo(this.data.getIterator())}getIteratorFrom(e){return new Xo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Yo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Yo(this.comparator);return t.data=e,t}}class Xo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jo{constructor(e){this.fields=e,e.sort(wo.comparator)}static empty(){return new Jo([])}unionWith(e){let t=new Yo(wo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Jo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Zo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class el{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Zo("Invalid base64 string: "+e):e}}(e);return new el(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new el(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}el.EMPTY_BYTE_STRING=new el("");const tl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nl(e){if(Xa(!!e),"string"==typeof e){let t=0;const n=tl.exec(e);if(Xa(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:rl(e.seconds),nanos:rl(e.nanos)}}function rl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function il(e){return"string"==typeof e?el.fromBase64String(e):el.fromUint8Array(e)}function sl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function al(e){const t=e.mapValue.fields.__previous_value__;return sl(t)?al(t):t}function ol(e){const t=nl(e.mapValue.fields.__local_write_time__.timestampValue);return new mo(t.seconds,t.nanos)}class ll{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class cl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cl&&e.projectId===this.projectId&&e.database===this.database}}const ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function dl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?sl(e)?4:Tl(e)?9007199254740991:Cl(e)?10:11:Ya()}function hl(e,t){if(e===t)return!0;const n=dl(e);if(n!==dl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ol(e).isEqual(ol(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=nl(e.timestampValue),r=nl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return il(e.bytesValue).isEqual(il(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return rl(e.geoPointValue.latitude)===rl(t.geoPointValue.latitude)&&rl(e.geoPointValue.longitude)===rl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return rl(e.integerValue)===rl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=rl(e.doubleValue),r=rl(t.doubleValue);return n===r?Do(n)===Do(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return po(e.arrayValue.values||[],t.arrayValue.values||[],hl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ho(n)!==Ho(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hl(n[i],r[i])))return!1;return!0}(e,t);default:return Ya()}}function fl(e,t){return void 0!==(e.values||[]).find((e=>hl(e,t)))}function pl(e,t){if(e===t)return 0;const n=dl(e),r=dl(t);if(n!==r)return fo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=rl(e.integerValue||e.doubleValue),r=rl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ml(e.timestampValue,t.timestampValue);case 4:return ml(ol(e),ol(t));case 5:return fo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=il(e),r=il(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=fo(n[i],r[i]);if(0!==e)return e}return fo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=fo(rl(e.latitude),rl(t.latitude));return 0!==n?n:fo(rl(e.longitude),rl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return gl(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=fo((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:gl(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ul.mapValue&&t===ul.mapValue)return 0;if(e===ul.mapValue)return 1;if(t===ul.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=fo(r[a],s[a]);if(0!==e)return e;const t=pl(n[r[a]],i[s[a]]);if(0!==t)return t}return fo(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ya()}}function ml(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return fo(e,t);const n=nl(e),r=nl(t),i=fo(n.seconds,r.seconds);return 0!==i?i:fo(n.nanos,r.nanos)}function gl(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=pl(n[i],r[i]);if(e)return e}return fo(n.length,r.length)}function vl(e){return yl(e)}function yl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=nl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return il(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return xo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=yl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${yl(e.fields[i])}`;return n+"}"}(e.mapValue):Ya()}function bl(e){switch(dl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=al(e);return t?16+bl(t):16;case 5:return 2*e.stringValue.length;case 6:return il(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+bl(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return qo(e.fields,((e,n)=>{t+=e.length+bl(n)})),t}(e.mapValue);default:throw Ya()}}function wl(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function xl(e){return!!e&&"integerValue"in e}function _l(e){return!!e&&"arrayValue"in e}function kl(e){return!!e&&"nullValue"in e}function Sl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function El(e){return!!e&&"mapValue"in e}function Cl(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Nl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return qo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Nl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Tl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Il{constructor(e){this.value=e}static empty(){return new Il({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!El(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(t)}setAll(e){let t=wo.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Nl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());El(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];El(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){qo(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Il(Nl(this.value))}}function jl(e){const t=[];return qo(e.fields,((e,n)=>{const r=new wo([e]);if(El(n)){const e=jl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Jo(t)}class Ol{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ol(e,0,go.min(),go.min(),go.min(),Il.empty(),0)}static newFoundDocument(e,t,n,r){return new Ol(e,1,t,go.min(),n,r,0)}static newNoDocument(e,t){return new Ol(e,2,t,go.min(),go.min(),Il.empty(),0)}static newUnknownDocument(e,t){return new Ol(e,3,t,go.min(),go.min(),Il.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(go.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Il.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Il.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=go.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ol&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ol(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Al{constructor(e,t){this.position=e,this.inclusive=t}}function Pl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?xo.comparator(xo.fromName(a.referenceValue),n.key):pl(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Rl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!hl(e.position[n],t.position[n]))return!1;return!0}class Dl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ll(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ml{}class zl extends Ml{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Wl(e,t,n):"array-contains"===t?new Yl(e,n):"in"===t?new Xl(e,n):"not-in"===t?new Jl(e,n):"array-contains-any"===t?new Zl(e,n):new zl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Gl(e,n):new Kl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(pl(t,this.value)):null!==t&&dl(this.value)===dl(t)&&this.matchesComparison(pl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ya()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fl extends Ml{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Fl(e,t)}matches(e){return Ul(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ul(e){return"and"===e.op}function Vl(e){return Bl(e)&&Ul(e)}function Bl(e){for(const t of e.filters)if(t instanceof Fl)return!1;return!0}function $l(e){if(e instanceof zl)return e.field.canonicalString()+e.op.toString()+vl(e.value);if(Vl(e))return e.filters.map((e=>$l(e))).join(",");{const t=e.filters.map((e=>$l(e))).join(",");return`${e.op}(${t})`}}function Hl(e,t){return e instanceof zl?function(e,t){return t instanceof zl&&e.op===t.op&&e.field.isEqual(t.field)&&hl(e.value,t.value)}(e,t):e instanceof Fl?function(e,t){return t instanceof Fl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Hl(n,t.filters[r])),!0)}(e,t):void Ya()}function ql(e){return e instanceof zl?function(e){return`${e.field.canonicalString()} ${e.op} ${vl(e.value)}`}(e):e instanceof Fl?function(e){return e.op.toString()+" {"+e.getFilters().map(ql).join(" ,")+"}"}(e):"Filter"}class Wl extends zl{constructor(e,t,n){super(e,t,n),this.key=xo.fromName(n.referenceValue)}matches(e){const t=xo.comparator(e.key,this.key);return this.matchesComparison(t)}}class Gl extends zl{constructor(e,t){super(e,"in",t),this.keys=Ql("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Kl extends zl{constructor(e,t){super(e,"not-in",t),this.keys=Ql("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ql(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>xo.fromName(e.referenceValue)))}class Yl extends zl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _l(t)&&fl(t.arrayValue,this.value)}}class Xl extends zl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fl(this.value.arrayValue,t)}}class Jl extends zl{constructor(e,t){super(e,"not-in",t)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fl(this.value.arrayValue,t)}}class Zl extends zl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_l(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>fl(this.value.arrayValue,e)))}}class ec{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function tc(e){return new ec(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function nc(e){const t=Ja(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>$l(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ro(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>vl(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>vl(e))).join(",")),t.ue=e}return t.ue}function rc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ll(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Hl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Rl(e.startAt,t.startAt)&&Rl(e.endAt,t.endAt)}function ic(e){return xo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class sc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ac(e,t,n,r,i,s,a,o){return new sc(e,t,n,r,i,s,a,o)}function oc(e){return new sc(e)}function lc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function cc(e){return null!==e.collectionGroup}function uc(e){const t=Ja(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Yo(wo.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Dl(r,n))})),e.has(wo.keyField().canonicalString())||t.ce.push(new Dl(wo.keyField(),n))}return t.ce}function dc(e){const t=Ja(e);return t.le||(t.le=hc(t,uc(e))),t.le}function hc(e,t){if("F"===e.limitType)return tc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Dl(e.field,t)}));const n=e.endAt?new Al(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Al(e.startAt.position,e.startAt.inclusive):null;return tc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function fc(e,t){const n=e.filters.concat([t]);return new sc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function pc(e,t,n){return new sc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mc(e,t){return rc(dc(e),dc(t))&&e.limitType===t.limitType}function gc(e){return`${nc(dc(e))}|lt:${e.limitType}`}function vc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>ql(e))).join(", ")}]`),Ro(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>vl(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>vl(e))).join(",")),`Target(${t})`}(dc(e))}; limitType=${e.limitType})`}function yc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of uc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Pl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,uc(e),t))&&!(e.endAt&&!function(e,t,n){const r=Pl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,uc(e),t))}(e,t)}function bc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wc(e){return(t,n)=>{let r=!1;for(const i of uc(e)){const e=xc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function xc(e,t,n){const r=e.field.isKeyField()?xo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?pl(r,i):Ya()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ya()}}class _c{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Wo(this.inner)}size(){return this.innerSize}}const kc=new Go(xo.comparator);function Sc(){return kc}const Ec=new Go(xo.comparator);function Cc(){let e=Ec;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Nc(e){let t=Ec;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Tc(){return jc()}function Ic(){return jc()}function jc(){return new _c((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Oc=new Go(xo.comparator),Ac=new Yo(xo.comparator);function Pc(){let e=Ac;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Rc=new Yo(fo);function Dc(){return Rc}function Lc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Do(t)?"-0":t}}function Mc(e){return{integerValue:""+e}}function zc(e,t){return Lo(t)?Mc(t):Lc(e,t)}class Fc{constructor(){this._=void 0}}function Uc(e,t,n){return e instanceof $c?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&sl(t)&&(t=al(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Hc?qc(e,t):e instanceof Wc?Gc(e,t):function(e,t){const n=Bc(e,t),r=Qc(n)+Qc(e.Pe);return xl(n)&&xl(e.Pe)?Mc(r):Lc(e.serializer,r)}(e,t)}function Vc(e,t,n){return e instanceof Hc?qc(e,t):e instanceof Wc?Gc(e,t):n}function Bc(e,t){return e instanceof Kc?function(e){return xl(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class $c extends Fc{}class Hc extends Fc{constructor(e){super(),this.elements=e}}function qc(e,t){const n=Yc(t);for(const r of e.elements)n.some((e=>hl(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Wc extends Fc{constructor(e){super(),this.elements=e}}function Gc(e,t){let n=Yc(t);for(const r of e.elements)n=n.filter((e=>!hl(e,r)));return{arrayValue:{values:n}}}class Kc extends Fc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Qc(e){return rl(e.integerValue||e.doubleValue)}function Yc(e){return _l(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Xc{constructor(e,t){this.version=e,this.transformResults=t}}class Jc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jc}static exists(e){return new Jc(void 0,e)}static updateTime(e){return new Jc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class eu{}function tu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new du(e.key,Jc.none()):new au(e.key,e.data,Jc.none());{const n=e.data,r=Il.empty();let i=new Yo(wo.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ou(e.key,r,new Jo(i.toArray()),Jc.none())}}function nu(e,t,n){e instanceof au?function(e,t,n){const r=e.value.clone(),i=cu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ou?function(e,t,n){if(!Zc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=cu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(lu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ru(e,t,n,r){return e instanceof au?function(e,t,n,r){if(!Zc(e.precondition,t))return n;const i=e.value.clone(),s=uu(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ou?function(e,t,n,r){if(!Zc(e.precondition,t))return n;const i=uu(e.fieldTransforms,r,t),s=t.data;return s.setAll(lu(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Zc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function iu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Bc(r.transform,e||null);null!=i&&(null===n&&(n=Il.empty()),n.set(r.field,i))}return n||null}function su(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&po(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Hc&&t instanceof Hc||e instanceof Wc&&t instanceof Wc?po(e.elements,t.elements,hl):e instanceof Kc&&t instanceof Kc?hl(e.Pe,t.Pe):e instanceof $c&&t instanceof $c}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class au extends eu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ou extends eu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function cu(e,t,n){const r=new Map;Xa(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Vc(a,o,n[i]))}return r}function uu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Uc(e,s,t))}return r}class du extends eu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hu extends eu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&nu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ru(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ru(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ic();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=tu(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(go.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Pc())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((e,t)=>su(e,t)))&&po(this.baseMutations,e.baseMutations,((e,t)=>su(e,t)))}}class pu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xa(e.mutations.length===n.length);let r=Oc;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new pu(e,t,n,r)}}class mu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gu{constructor(e,t){this.count=e,this.unchangedNames=t}}var vu,yu;function bu(e){switch(e){default:return Ya();case Za.CANCELLED:case Za.UNKNOWN:case Za.DEADLINE_EXCEEDED:case Za.RESOURCE_EXHAUSTED:case Za.INTERNAL:case Za.UNAVAILABLE:case Za.UNAUTHENTICATED:return!1;case Za.INVALID_ARGUMENT:case Za.NOT_FOUND:case Za.ALREADY_EXISTS:case Za.PERMISSION_DENIED:case Za.FAILED_PRECONDITION:case Za.ABORTED:case Za.OUT_OF_RANGE:case Za.UNIMPLEMENTED:case Za.DATA_LOSS:return!0}}function wu(e){if(void 0===e)return Ga("GRPC error has no .code"),Za.UNKNOWN;switch(e){case vu.OK:return Za.OK;case vu.CANCELLED:return Za.CANCELLED;case vu.UNKNOWN:return Za.UNKNOWN;case vu.DEADLINE_EXCEEDED:return Za.DEADLINE_EXCEEDED;case vu.RESOURCE_EXHAUSTED:return Za.RESOURCE_EXHAUSTED;case vu.INTERNAL:return Za.INTERNAL;case vu.UNAVAILABLE:return Za.UNAVAILABLE;case vu.UNAUTHENTICATED:return Za.UNAUTHENTICATED;case vu.INVALID_ARGUMENT:return Za.INVALID_ARGUMENT;case vu.NOT_FOUND:return Za.NOT_FOUND;case vu.ALREADY_EXISTS:return Za.ALREADY_EXISTS;case vu.PERMISSION_DENIED:return Za.PERMISSION_DENIED;case vu.FAILED_PRECONDITION:return Za.FAILED_PRECONDITION;case vu.ABORTED:return Za.ABORTED;case vu.OUT_OF_RANGE:return Za.OUT_OF_RANGE;case vu.UNIMPLEMENTED:return Za.UNIMPLEMENTED;case vu.DATA_LOSS:return Za.DATA_LOSS;default:return Ya()}}(yu=vu||(vu={}))[yu.OK=0]="OK",yu[yu.CANCELLED=1]="CANCELLED",yu[yu.UNKNOWN=2]="UNKNOWN",yu[yu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yu[yu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yu[yu.NOT_FOUND=5]="NOT_FOUND",yu[yu.ALREADY_EXISTS=6]="ALREADY_EXISTS",yu[yu.PERMISSION_DENIED=7]="PERMISSION_DENIED",yu[yu.UNAUTHENTICATED=16]="UNAUTHENTICATED",yu[yu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yu[yu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yu[yu.ABORTED=10]="ABORTED",yu[yu.OUT_OF_RANGE=11]="OUT_OF_RANGE",yu[yu.UNIMPLEMENTED=12]="UNIMPLEMENTED",yu[yu.INTERNAL=13]="INTERNAL",yu[yu.UNAVAILABLE=14]="UNAVAILABLE",yu[yu.DATA_LOSS=15]="DATA_LOSS";let xu=null;function _u(){return new TextEncoder}const ku=new Na([4294967295,4294967295],0);function Su(e){const t=_u().encode(e),n=new Ta;return n.update(t),new Uint8Array(n.digest())}function Eu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Na([n,r],0),new Na([i,s],0)]}class Cu{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Nu(`Invalid padding: ${t}`);if(n<0)throw new Nu(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Nu(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Nu(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Na.fromNumber(this.Te)}Ee(e,t,n){let r=e.add(t.multiply(Na.fromNumber(n)));return 1===r.compare(ku)&&(r=new Na([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Su(e),[n,r]=Eu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Cu(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Su(e),[n,r]=Eu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Tu(go.min(),r,new Go(fo),Sc(),Pc())}}class Iu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Iu(n,t,Pc(),Pc(),Pc())}}class ju{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Ou{constructor(e,t){this.targetId=e,this.me=t}}class Au{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:el.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Pu{constructor(){this.fe=0,this.ge=Lu(),this.pe=el.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pc(),t=Pc(),n=Pc();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ya()}})),new Iu(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Lu()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xa(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ru{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sc(),this.qe=Du(),this.Qe=Du(),this.Ke=new Go(fo)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Ya()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){const i=r.target;if(ic(i))if(0===n){const e=new xo(i.path);this.We(t,e,Ol.newNoDocument(e,go.min()))}else Xa(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==xu||xu.tt(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.nt(),n,i))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=il(n).toUint8Array()}catch(e){if(e instanceof Zo)return Ka("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Cu(s,r,i)}catch(e){return Ka(e instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&ic(i.target)){const t=new xo(i.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,Ol.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Pc();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Tu(e,t,this.Ke,this.ke,n);return this.ke=Sc(),this.qe=Du(),this.Qe=Du(),this.Ke=new Go(fo),r}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Pu,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Yo(fo),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Yo(fo),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Wa("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Pu),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Du(){return new Go(xo.comparator)}function Lu(){return new Go(xo.comparator)}const Mu={asc:"ASCENDING",desc:"DESCENDING"},zu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fu={and:"AND",or:"OR"};class Uu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vu(e,t){return e.useProto3Json||Ro(t)?t:{value:t}}function Bu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $u(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Hu(e,t){return Bu(e,t.toTimestamp())}function qu(e){return Xa(!!e),go.fromTimestamp(function(e){const t=nl(e);return new mo(t.seconds,t.nanos)}(e))}function Wu(e,t){return Gu(e,t).canonicalString()}function Gu(e,t){const n=function(e){return new yo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ku(e){const t=yo.fromString(e);return Xa(pd(t)),t}function Qu(e,t){return Wu(e.databaseId,t.path)}function Yu(e,t){const n=Ku(t);if(n.get(1)!==e.databaseId.projectId)throw new eo(Za.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new eo(Za.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xo(ed(n))}function Xu(e,t){return Wu(e.databaseId,t)}function Ju(e){const t=Ku(e);return 4===t.length?yo.emptyPath():ed(t)}function Zu(e){return new yo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ed(e){return Xa(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function td(e,t,n){return{name:Qu(e,t),fields:n.value.mapValue.fields}}function nd(e,t){let n;if(t instanceof au)n={update:td(e,t.key,t.value)};else if(t instanceof du)n={delete:Qu(e,t.key)};else if(t instanceof ou)n={update:td(e,t.key,t.data),updateMask:fd(t.fieldMask)};else{if(!(t instanceof hu))return Ya();n={verify:Qu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof $c)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Wc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Kc)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Ya()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Hu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ya()}(e,t.precondition)),n}function rd(e,t){return{documents:[Xu(e,t.path)]}}function id(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Xu(e,i);const s=function(e){if(0!==e.length)return hd(Fl.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ud(e.field),direction:od(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Vu(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ct:n,parent:i}}function sd(e){let t=Ju(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xa(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ad(e);return t instanceof Fl&&Vl(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Dl(dd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ro(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Al(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Al(n,t)}(n.endAt)),ac(t,i,a,s,o,"F",l,c)}function ad(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dd(e.unaryFilter.field);return zl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=dd(e.unaryFilter.field);return zl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=dd(e.unaryFilter.field);return zl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=dd(e.unaryFilter.field);return zl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ya()}}(e):void 0!==e.fieldFilter?function(e){return zl.create(dd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ya()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Fl.create(e.compositeFilter.filters.map((e=>ad(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ya()}}(e.compositeFilter.op))}(e):Ya()}function od(e){return Mu[e]}function ld(e){return zu[e]}function cd(e){return Fu[e]}function ud(e){return{fieldPath:e.canonicalString()}}function dd(e){return wo.fromServerFormat(e.fieldPath)}function hd(e){return e instanceof zl?function(e){if("=="===e.op){if(Sl(e.value))return{unaryFilter:{field:ud(e.field),op:"IS_NAN"}};if(kl(e.value))return{unaryFilter:{field:ud(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Sl(e.value))return{unaryFilter:{field:ud(e.field),op:"IS_NOT_NAN"}};if(kl(e.value))return{unaryFilter:{field:ud(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ud(e.field),op:ld(e.op),value:e.value}}}(e):e instanceof Fl?function(e){const t=e.getFilters().map((e=>hd(e)));return 1===t.length?t[0]:{compositeFilter:{op:cd(e.op),filters:t}}}(e):Ya()}function fd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function pd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class md{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:go.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:go.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:el.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new md(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new md(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new md(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new md(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gd{constructor(e){this.ht=e}}function vd(e){const t=sd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?pc(t,t.limit,"L"):t}class yd{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(rl(e.integerValue));else if("doubleValue"in e){const n=rl(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),Do(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=nl(n)),t.ft(`${n.seconds||""}`),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(il(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?Tl(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):Cl(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):Ya()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const n=e.fields||{};this.Rt(t,55);for(const r of Object.keys(n))this.gt(r,t),this.dt(n[r],t)}bt(e,t){var n,r;const i=e.fields||{};this.Rt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(rl(a)),this.gt(s,t),this.dt(i[s],t)}vt(e,t){const n=e.values||[];this.Rt(t,50);for(const r of n)this.dt(r,t)}St(e,t){this.Rt(t,37),xo.fromName(e).path.forEach((e=>{this.Rt(t,60),this.Ct(e,t)}))}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}yd.Ft=new yd;class bd{constructor(){this.ln=new wd}addToCollectionParentIndex(e,t){return this.ln.add(t),jo.resolve()}getCollectionParents(e,t){return jo.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return jo.resolve()}deleteFieldIndex(e,t){return jo.resolve()}deleteAllFieldIndexes(e){return jo.resolve()}createTargetIndexes(e,t){return jo.resolve()}getDocumentsMatchingTarget(e,t){return jo.resolve(null)}getIndexType(e,t){return jo.resolve(0)}getFieldIndexes(e,t){return jo.resolve([])}getNextCollectionGroupToUpdate(e){return jo.resolve(null)}getMinOffset(e,t){return jo.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,t){return jo.resolve(Eo.min())}updateCollectionGroup(e,t,n){return jo.resolve()}updateIndexEntries(e,t){return jo.resolve()}}class wd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Yo(yo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Yo(yo.comparator)).toArray()}}new Uint8Array(0);const xd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _d{static withCacheSize(e){return new _d(e,_d.DEFAULT_COLLECTION_PERCENTILE,_d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}_d.DEFAULT_COLLECTION_PERCENTILE=10,_d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_d.DEFAULT=new _d(41943040,_d.DEFAULT_COLLECTION_PERCENTILE,_d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_d.DISABLED=new _d(-1,0,0);class kd{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new kd(0)}static Qn(){return new kd(-1)}}function Sd(e,t){let[n,r]=e,[i,s]=t;const a=fo(n,i);return 0===a?fo(r,s):a}class Ed{constructor(e){this.Gn=e,this.buffer=new Yo(Sd),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Sd(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cd{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){Wa("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ao(e)?Wa("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Io(e)}await this.Yn(3e5)}))}}class Nd{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return jo.resolve(Po.oe);const n=new Ed(t);return this.Zn.forEachTarget(e,(e=>n.Hn(e.sequenceNumber))).next((()=>this.Zn.er(e,(e=>n.Hn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Wa("LruGarbageCollector","Garbage collection skipped; disabled"),jo.resolve(xd)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Wa("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xd):this.tr(e,t)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Wa("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),qa()<=Mt.DEBUG&&Wa("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(o-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),jo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Td(e,t){return new Nd(e,t)}class Id{constructor(){this.changes=new _c((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ol.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?jo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Od{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ru(n.mutation,e,Jo.empty(),mo.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Pc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pc();const r=Tc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Cc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Tc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Pc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Sc();const s=jc(),a=jc();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof ou)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),ru(a.mutation,t,a.mutation.getFieldMask(),mo.now())):s.set(t.key,Jo.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new jd(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=jc();let r=new Go(((e,t)=>e-t)),i=Pc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Jo.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Pc()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Ic();l.forEach((e=>{if(!i.has(e)){const r=tu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return jo.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return xo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):jo.resolve(Tc());let a=-1,o=i;return s.next((t=>jo.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?jo.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Pc()))).next((e=>({batchId:a,changes:Nc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xo(t)).next((e=>{let t=Cc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Cc();return this.indexManager.getCollectionParents(e,i).next((a=>jo.forEach(a,(a=>{const o=function(e,t){return new sc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ol.newInvalidDocument(r)))}));let n=Cc();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&ru(s.mutation,r,Jo.empty(),mo.now()),yc(t,r)&&(n=n.insert(e,r))})),n}))}}class Ad{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return jo.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:qu(e.createTime)}}(t)),jo.resolve()}getNamedQuery(e,t){return jo.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(e){return{name:e.name,query:vd(e.bundledQuery),readTime:qu(e.readTime)}}(t)),jo.resolve()}}class Pd{constructor(){this.overlays=new Go(xo.comparator),this.Er=new Map}getOverlay(e,t){return jo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Tc();return jo.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Tt(e,t,r)})),jo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Er.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Er.delete(n)),jo.resolve()}getOverlaysForCollection(e,t,n){const r=Tc(),i=t.length+1,s=new xo(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return jo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Go(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Tc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Tc(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return jo.resolve(a)}Tt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new mu(t,n));let i=this.Er.get(t);void 0===i&&(i=Pc(),this.Er.set(t,i)),this.Er.set(t,i.add(n.key))}}class Rd{constructor(){this.sessionToken=el.EMPTY_BYTE_STRING}getSessionToken(e){return jo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,jo.resolve()}}class Dd{constructor(){this.dr=new Yo(Ld.Ar),this.Rr=new Yo(Ld.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const n=new Ld(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gr(new Ld(e,t))}pr(e,t){e.forEach((e=>this.removeReference(e,t)))}yr(e){const t=new xo(new yo([])),n=new Ld(t,e),r=new Ld(t,e+1),i=[];return this.Rr.forEachInRange([n,r],(e=>{this.gr(e),i.push(e.key)})),i}wr(){this.dr.forEach((e=>this.gr(e)))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new xo(new yo([])),n=new Ld(t,e),r=new Ld(t,e+1);let i=Pc();return this.Rr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Ld(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ld{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return xo.comparator(e.key,t.key)||fo(e.br,t.br)}static Vr(e,t){return fo(e.br,t.br)||xo.comparator(e.key,t.key)}}class Md{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Yo(Ld.Ar)}checkEmpty(e){return jo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new fu(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.vr=this.vr.add(new Ld(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return jo.resolve(s)}lookupMutationBatch(e,t){return jo.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Fr(n),i=r<0?0:r;return jo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return jo.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return jo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ld(t,0),r=new Ld(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],(e=>{const t=this.Cr(e.br);i.push(t)})),jo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yo(fo);return t.forEach((e=>{const t=new Ld(e,0),r=new Ld(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],(e=>{n=n.add(e.br)}))})),jo.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;xo.isDocumentKey(i)||(i=i.child(""));const s=new Ld(new xo(i),0);let a=new Yo(fo);return this.vr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.br)),!0)}),s),jo.resolve(this.Mr(a))}Mr(e){const t=[];return e.forEach((e=>{const n=this.Cr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Xa(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return jo.forEach(t.mutations,(r=>{const i=new Ld(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.vr=n}))}Ln(e){}containsKey(e,t){const n=new Ld(t,0),r=this.vr.firstAfterOrEqual(n);return jo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,jo.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zd{constructor(e){this.Nr=e,this.docs=new Go(xo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return jo.resolve(n?n.document.mutableCopy():Ol.newInvalidDocument(t))}getEntries(e,t){let n=Sc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ol.newInvalidDocument(e))})),jo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Sc();const s=t.path,a=new xo(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Co(So(a),n)<=0||(r.has(a.key)||yc(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return jo.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ya()}Lr(e,t){return jo.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Fd(this)}getSize(e){return jo.resolve(this.size)}}class Fd extends Id{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)})),jo.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class Ud{constructor(e){this.persistence=e,this.Br=new _c((e=>nc(e)),rc),this.lastRemoteSnapshotVersion=go.min(),this.highestTargetId=0,this.kr=0,this.qr=new Dd,this.targetCount=0,this.Qr=kd.qn()}forEachTarget(e,t){return this.Br.forEach(((e,n)=>t(n))),jo.resolve()}getLastRemoteSnapshotVersion(e){return jo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return jo.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),jo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),jo.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new kd(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,jo.resolve()}updateTargetData(e,t){return this.Un(t),jo.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,jo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Br.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Br.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),jo.waitFor(i).next((()=>r))}getTargetCount(e){return jo.resolve(this.targetCount)}getTargetData(e,t){const n=this.Br.get(t)||null;return jo.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),jo.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),jo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),jo.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return jo.resolve(n)}containsKey(e,t){return jo.resolve(this.qr.containsKey(t))}}class Vd{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Po(0),this.Ur=!1,this.Ur=!0,this.Wr=new Rd,this.referenceDelegate=e(this),this.Gr=new Ud(this),this.indexManager=new bd,this.remoteDocumentCache=function(e){return new zd(e)}((e=>this.referenceDelegate.zr(e))),this.serializer=new gd(t),this.jr=new Ad(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Pd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new Md(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){Wa("MemoryPersistence","Starting transaction:",e);const r=new Bd(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((e=>this.referenceDelegate.Jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Yr(e,t){return jo.or(Object.values(this.Kr).map((n=>()=>n.containsKey(e,t))))}}class Bd extends To{constructor(e){super(),this.currentSequenceNumber=e}}class $d{constructor(e){this.persistence=e,this.Zr=new Dd,this.Xr=null}static ei(e){return new $d(e)}get ti(){if(this.Xr)return this.Xr;throw Ya()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),jo.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),jo.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),jo.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach((e=>this.ti.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ti.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jo.forEach(this.ti,(n=>{const r=xo.fromPath(n);return this.ni(e,r).next((e=>{e||t.removeEntry(r,go.min())}))})).next((()=>(this.Xr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ni(e,t).next((e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())}))}zr(e){return 0}ni(e,t){return jo.or([()=>jo.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Hd{constructor(e,t){this.persistence=e,this.ri=new _c((e=>Mo(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Td(this,t)}static ei(e,t){return new Hd(e,t)}Hr(){}Jr(e){return jo.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}er(e,t){return jo.forEach(this.ri,((n,r)=>this.ir(e,n,r).next((e=>e?jo.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(e,(r=>this.ir(e,r,t).next((e=>{e||(n++,i.removeEntry(r,go.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),jo.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),jo.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),jo.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),jo.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bl(e.data.value)),t}ir(e,t,n){return jo.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ri.get(t);return jo.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=Pc(),r=Pc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new qd(e,t.fromCache,n,r)}}class Wd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Gd{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=yt()?8:Oo(vt())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Xi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.es(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Wd;return this.ts(e,t,n).next((r=>{if(i.result=r,this.Hi)return this.ns(e,t,n,r.size)}))})).next((()=>i.result))}ns(e,t,n,r){return n.documentReadCount<this.Ji?(qa()<=Mt.DEBUG&&Wa("QueryEngine","SDK will not create cache indexes for query:",vc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),jo.resolve()):(qa()<=Mt.DEBUG&&Wa("QueryEngine","Query:",vc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(qa()<=Mt.DEBUG&&Wa("QueryEngine","The SDK decides to create cache indexes for query:",vc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dc(t))):jo.resolve())}Xi(e,t){if(lc(t))return jo.resolve(null);let n=dc(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=pc(t,null,"F"),n=dc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Pc(...r);return this.Zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.rs(t,r);return this.ss(t,s,i,n.readTime)?this.Xi(e,pc(t,null,"F")):this.os(e,s,t,n)}))))})))))}es(e,t,n,r){return lc(t)||r.isEqual(go.min())?jo.resolve(null):this.Zi.getDocuments(e,n).next((i=>{const s=this.rs(t,i);return this.ss(t,s,n,r)?jo.resolve(null):(qa()<=Mt.DEBUG&&Wa("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vc(t)),this.os(e,s,t,ko(r,-1)).next((e=>e)))}))}rs(e,t){let n=new Yo(wc(e));return t.forEach(((t,r)=>{yc(e,r)&&(n=n.add(r))})),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(e,t,n){return qa()<=Mt.DEBUG&&Wa("QueryEngine","Using full collection scan to execute query:",vc(t)),this.Zi.getDocumentsMatchingQuery(e,t,Eo.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Kd{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new Go(fo),this.cs=new _c((e=>nc(e)),rc),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Od(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.us)))}}function Qd(e,t,n,r){return new Kd(e,t,n,r)}async function Yd(e,t){const n=Ja(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ps(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Pc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Ts:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Xd(e){const t=Ja(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Gr.getLastRemoteSnapshotVersion(e)))}function Jd(e,t,n){let r=Pc(),i=Pc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Sc();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(go.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Wa("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Is:r,Es:i}}))}function Zd(e,t){const n=Ja(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function eh(e,t){const n=Ja(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Gr.getTargetData(e,t).next((i=>i?(r=i,jo.resolve(r)):n.Gr.allocateTargetId(e).next((i=>(r=new md(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Gr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.us.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(e.targetId,e),n.cs.set(t,e.targetId)),e}))}async function th(e,t,n){const r=Ja(e),i=r.us.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ao(e))throw e;Wa("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.us=r.us.remove(t),r.cs.delete(i.target)}function nh(e,t,n){const r=Ja(e);let i=go.min(),s=Pc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ja(e),i=r.cs.get(n);return void 0!==i?jo.resolve(r.us.get(i)):r.Gr.getTargetData(t,n)}(r,e,dc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r._s.getDocumentsMatchingQuery(e,t,n?i:go.min(),n?s:Pc()))).next((e=>(rh(r,bc(t),e),{documents:e,ds:s})))))}function rh(e,t,n){let r=e.ls.get(t)||go.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ls.set(t,r)}class ih{constructor(){this.activeTargetIds=Dc()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sh{constructor(){this._o=new ih,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ih,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ah{uo(e){}shutdown(){}}class oh{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Wa("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Wa("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lh=null;function ch(){return null===lh?lh=268435456+Math.round(2147483648*Math.random()):lh++,"0x"+lh.toString(16)}const uh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dh{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const hh="WebChannelConnection";class fh extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo=`projects/${n}/databases/${r}`,this.xo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Oo(e,t,n,r,i){const s=ch(),a=this.No(e,t.toUriEncodedString());Wa("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(o,r,i),this.Bo(e,a,o,n).then((t=>(Wa("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Ka("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}ko(e,t,n,r,i,s){return this.Oo(e,t,n,r,i)}Lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+$a,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}No(e,t){const n=uh[e];return`${this.Fo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,r){const i=ch();return new Promise(((s,a)=>{const o=new Oa;o.setWithCredentials(!0),o.listenOnce(Pa.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Ra.NO_ERROR:const t=o.getResponseJson();Wa(hh,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Ra.TIMEOUT:Wa(hh,`RPC '${e}' ${i} timed out`),a(new eo(Za.DEADLINE_EXCEEDED,"Request time out"));break;case Ra.HTTP_ERROR:const n=o.getStatus();if(Wa(hh,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Za).indexOf(t)>=0?t:Za.UNKNOWN}(t.status);a(new eo(e,t.message))}else a(new eo(Za.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new eo(Za.UNAVAILABLE,"Connection failed."));break;default:Ya()}}finally{Wa(hh,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Wa(hh,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}qo(e,t,n){const r=ch(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=za(),a=Ma(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Wa(hh,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new dh({Eo:t=>{h?Wa(hh,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Wa(hh,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Wa(hh,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Ao:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Aa.EventType.OPEN,(()=>{h||(Wa(hh,`RPC '${e}' stream ${r} transport opened.`),f.So())})),p(u,Aa.EventType.CLOSE,(()=>{h||(h=!0,Wa(hh,`RPC '${e}' stream ${r} transport closed`),f.Do())})),p(u,Aa.EventType.ERROR,(t=>{h||(h=!0,Ka(hh,`RPC '${e}' stream ${r} transport errored:`,t),f.Do(new eo(Za.UNAVAILABLE,"The operation could not be completed")))})),p(u,Aa.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Xa(!!i);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Wa(hh,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=vu[e];if(void 0!==t)return wu(t)}(t),i=a.message;void 0===n&&(n=Za.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Do(new eo(n,i)),u.close()}else Wa(hh,`RPC '${e}' stream ${r} received:`,i),f.vo(i)}})),p(a,La.STAT_EVENT,(t=>{t.stat===Da.PROXY?Wa(hh,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Da.NOPROXY&&Wa(hh,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.bo()}),0),f}}function ph(){return"undefined"!=typeof document?document:null}function mh(e){return new Uu(e,!0)}class gh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&Wa("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class vh{constructor(e,t,n,r,i,s,a,o){this.li=e,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new gh(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===Za.RESOURCE_EXHAUSTED?(Ga(t.toString()),Ga("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Za.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Xo===t&&this.I_(n,r)}),(t=>{e((()=>{const e=new eo(Za.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)}))}))}I_(e,t){const n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((e=>{n((()=>this.E_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.n_?this.A_(e):this.onNext(e)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(e){return Wa("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget((()=>this.Xo===e?t():(Wa("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yh extends vh{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ya()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Xa(void 0===t||"string"==typeof t),el.fromBase64String(t||"")):(Xa(void 0===t||t instanceof Buffer||t instanceof Uint8Array),el.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Za.UNKNOWN:wu(e.code);return new eo(t,e.message||"")}(a);n=new Au(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yu(e,r.document.name),s=qu(r.document.updateTime),a=r.document.createTime?qu(r.document.createTime):go.min(),o=new Il({mapValue:{fields:r.document.fields}}),l=Ol.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ju(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Yu(e,r.document),s=r.readTime?qu(r.readTime):go.min(),a=Ol.newNoDocument(i,s),o=r.removedTargetIds||[];n=new ju([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Yu(e,r.document),s=r.removedTargetIds||[];n=new ju([],s,i,null)}else{if(!("filter"in t))return Ya();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new gu(r,i),a=e.targetId;n=new Ou(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return go.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?go.min():t.readTime?qu(t.readTime):go.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=Zu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ic(r)?{documents:rd(e,r)}:{query:id(e,r).ct},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$u(e,t.resumeToken);const r=Vu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(go.min())>0){n.readTime=Bu(e,t.snapshotVersion.toTimestamp());const r=Vu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ya()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=Zu(this.serializer),t.removeTarget=e,this.c_(t)}}class bh extends vh{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Xa(!!e.streamToken),this.lastStreamToken=e.streamToken,Xa(!e.writeResults||0===e.writeResults.length),this.listener.p_()}onNext(e){Xa(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=function(e,t){return e&&e.length>0?(Xa(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?qu(e.updateTime):qu(t);return n.isEqual(go.min())&&(n=qu(t)),new Xc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=qu(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=Zu(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>nd(this.serializer,e)))};this.c_(t)}}class wh extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new eo(Za.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Oo(e,Gu(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Za.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new eo(Za.UNKNOWN,e.toString())}))}ko(e,t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.ko(e,Gu(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Za.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new eo(Za.UNKNOWN,e.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class xh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ga(t),this.C_=!1):Wa("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class _h{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((e=>{n.enqueueAndForget((async()=>{Oh(this)&&(Wa("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ja(e);t.k_.add(4),await Sh(t),t.K_.set("Unknown"),t.k_.delete(4),await kh(t)}(this))}))})),this.K_=new xh(n,r)}}async function kh(e){if(Oh(e))for(const t of e.q_)await t(!0)}async function Sh(e){for(const t of e.q_)await t(!1)}function Eh(e,t){const n=Ja(e);n.B_.has(t.targetId)||(n.B_.set(t.targetId,t),jh(n)?Ih(n):Yh(n).s_()&&Nh(n,t))}function Ch(e,t){const n=Ja(e),r=Yh(n);n.B_.delete(t),r.s_()&&Th(n,t),0===n.B_.size&&(r.s_()?r.a_():Oh(n)&&n.K_.set("Unknown"))}function Nh(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(go.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Yh(e).V_(t)}function Th(e,t){e.U_.xe(t),Yh(e).m_(t)}function Ih(e){e.U_=new Ru({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Yh(e).start(),e.K_.F_()}function jh(e){return Oh(e)&&!Yh(e).i_()&&e.B_.size>0}function Oh(e){return 0===Ja(e).k_.size}function Ah(e){e.U_=void 0}async function Ph(e){e.K_.set("Online")}async function Rh(e){e.B_.forEach(((t,n)=>{Nh(e,t)}))}async function Dh(e,t){Ah(e),jh(e)?(e.K_.O_(t),Ih(e)):e.K_.set("Unknown")}async function Lh(e,t,n){if(e.K_.set("Online"),t instanceof Au&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.B_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.B_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){Wa("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Mh(e,n)}else if(t instanceof ju?e.U_.$e(t):t instanceof Ou?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(go.min()))try{const t=await Xd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.U_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.B_.get(r);i&&e.B_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.B_.get(t);if(!r)return;e.B_.set(t,r.withResumeToken(el.EMPTY_BYTE_STRING,r.snapshotVersion)),Th(e,t);const i=new md(r.target,t,n,r.sequenceNumber);Nh(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Wa("RemoteStore","Failed to raise snapshot:",t),await Mh(e,t)}}async function Mh(e,t,n){if(!Ao(t))throw t;e.k_.add(1),await Sh(e),e.K_.set("Offline"),n||(n=()=>Xd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Wa("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await kh(e)}))}function zh(e,t){return t().catch((n=>Mh(e,n,t)))}async function Fh(e){const t=Ja(e),n=Xh(t);let r=t.L_.length>0?t.L_[t.L_.length-1].batchId:-1;for(;Uh(t);)try{const e=await Zd(t.localStore,r);if(null===e){0===t.L_.length&&n.a_();break}r=e.batchId,Vh(t,e)}catch(e){await Mh(t,e)}Bh(t)&&$h(t)}function Uh(e){return Oh(e)&&e.L_.length<10}function Vh(e,t){e.L_.push(t);const n=Xh(e);n.s_()&&n.f_&&n.g_(t.mutations)}function Bh(e){return Oh(e)&&!Xh(e).i_()&&e.L_.length>0}function $h(e){Xh(e).start()}async function Hh(e){Xh(e).w_()}async function qh(e){const t=Xh(e);for(const n of e.L_)t.g_(n.mutations)}async function Wh(e,t,n){const r=e.L_.shift(),i=pu.from(r,t,n);await zh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Fh(e)}async function Gh(e,t){t&&Xh(e).f_&&await async function(e,t){if(function(e){return bu(e)&&e!==Za.ABORTED}(t.code)){const n=e.L_.shift();Xh(e).__(),await zh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Fh(e)}}(e,t),Bh(e)&&$h(e)}async function Kh(e,t){const n=Ja(e);n.asyncQueue.verifyOperationInProgress(),Wa("RemoteStore","RemoteStore received new credentials");const r=Oh(n);n.k_.add(3),await Sh(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await kh(n)}async function Qh(e,t){const n=Ja(e);t?(n.k_.delete(2),await kh(n)):t||(n.k_.add(2),await Sh(n),n.K_.set("Unknown"))}function Yh(e){return e.W_||(e.W_=function(e,t,n){const r=Ja(e);return r.b_(),new yh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:Ph.bind(null,e),mo:Rh.bind(null,e),po:Dh.bind(null,e),R_:Lh.bind(null,e)}),e.q_.push((async t=>{t?(e.W_.__(),jh(e)?Ih(e):e.K_.set("Unknown")):(await e.W_.stop(),Ah(e))}))),e.W_}function Xh(e){return e.G_||(e.G_=function(e,t,n){const r=Ja(e);return r.b_(),new bh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:Hh.bind(null,e),po:Gh.bind(null,e),p_:qh.bind(null,e),y_:Wh.bind(null,e)}),e.q_.push((async t=>{t?(e.G_.__(),await Fh(e)):(await e.G_.stop(),e.L_.length>0&&(Wa("RemoteStore",`Stopping write stream with ${e.L_.length} pending writes`),e.L_=[]))}))),e.G_}class Jh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new to,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Jh(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new eo(Za.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zh(e,t){if(Ga("AsyncQueue",`${t}: ${e}`),Ao(e))return new eo(Za.UNAVAILABLE,`${t}: ${e}`);throw e}class ef{static emptySet(e){return new ef(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||xo.comparator(t.key,n.key):(e,t)=>xo.comparator(e.key,t.key),this.keyedMap=Cc(),this.sortedSet=new Go(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ef))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ef;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class tf{constructor(){this.z_=new Go(xo.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ya():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class nf{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new nf(e,t,ef.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class rf{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class sf{constructor(){this.queries=af(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){const n=Ja(e),r=n.queries;n.queries=af(),r.forEach(((e,n)=>{for(const r of n.J_)r.onError(t)}))}(this,new eo(Za.ABORTED,"Firestore shutting down"))}}function af(){return new _c((e=>gc(e)),mc)}async function of(e,t){const n=Ja(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Y_()&&t.Z_()&&(r=2):(s=new rf,r=t.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Zh(e,`Initialization of query '${vc(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.J_.push(t),t.ea(n.onlineState),s.H_&&t.ta(s.H_)&&df(n)}async function lf(e,t){const n=Ja(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.J_.indexOf(t);e>=0&&(s.J_.splice(e,1),0===s.J_.length?i=t.Z_()?0:1:!s.Y_()&&t.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cf(e,t){const n=Ja(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.J_)e.ta(i)&&(r=!0);t.H_=i}}r&&df(n)}function uf(e,t,n){const r=Ja(e),i=r.queries.get(t);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(t)}function df(e){e.X_.forEach((e=>{e.next()}))}var hf,ff;(ff=hf||(hf={})).na="default",ff.Cache="cache";class pf{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new nf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==t;return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=nf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==hf.Cache}}class mf{constructor(e){this.key=e}}class gf{constructor(e){this.key=e}}class vf{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Pc(),this.mutatedKeys=Pc(),this.Va=wc(e),this.ma=new ef(this.Va)}get fa(){return this.da}ga(e,t){const n=t?t.pa:new tf,r=t?t.ma:this.ma;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=yc(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ya(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Va(u,o)>0||l&&this.Va(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ma:s,pa:n,ss:a,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ya()}};return n(e)-n(t)}(e.type,t.type)||this.Va(e.doc,t.doc))),this.wa(n),r=null!=r&&r;const a=t&&!r?this.Sa():[],o=0===this.Ra.size&&this.current&&!r?1:0,l=o!==this.Aa;return this.Aa=o,0!==s.length||l?{snapshot:new nf(this.query,e.ma,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new tf,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((e=>this.da=this.da.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.da=this.da.delete(e))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Pc(),this.ma.forEach((e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))}));const t=[];return e.forEach((e=>{this.Ra.has(e)||t.push(new gf(e))})),this.Ra.forEach((n=>{e.has(n)||t.push(new mf(n))})),t}va(e){this.da=e.ds,this.Ra=Pc();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return nf.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class yf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class bf{constructor(e){this.key=e,this.Fa=!1}}class wf{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new _c((e=>gc(e)),mc),this.Oa=new Map,this.Na=new Set,this.La=new Go(xo.comparator),this.Ba=new Map,this.ka=new Dd,this.qa={},this.Qa=new Map,this.Ka=kd.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function xf(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Bf(e);let i;const s=r.xa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await kf(r,t,n,!0),i}async function _f(e,t){const n=Bf(e);await kf(n,t,!0,!1)}async function kf(e,t,n,r){const i=await eh(e.localStore,dc(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Sf(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Eh(e.remoteStore,i),o}async function Sf(e,t,n,r,i){e.Ua=(t,n,r)=>async function(e,t,n,r){let i=t.view.ga(n);i.ss&&(i=await nh(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ga(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Lf(e,t.targetId,o.ba),o.snapshot}(e,t,n,r);const s=await nh(e.localStore,t,!0),a=new vf(t,s.ds),o=a.ga(s.documents),l=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Lf(e,n,c.ba);const u=new yf(t,n,a);return e.xa.set(t,u),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),c.snapshot}async function Ef(e,t,n){const r=Ja(e),i=r.xa.get(t),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter((e=>!mc(e,t)))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await th(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ch(r.remoteStore,i.targetId),Rf(r,i.targetId)})).catch(Io)):(Rf(r,i.targetId),await th(r.localStore,i.targetId,!0))}async function Cf(e,t){const n=Ja(e),r=n.xa.get(t),i=n.Oa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ch(n.remoteStore,r.targetId))}async function Nf(e,t){const n=Ja(e);try{const e=await function(e,t){const n=Ja(e),r=t.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Gr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Gr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(el.EMPTY_BYTE_STRING,go.min()).withLastLimboFreeSnapshotVersion(go.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Gr.updateTargetData(e,c))}));let o=Sc(),l=Pc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Jd(e,s,t.documentUpdates).next((e=>{o=e.Is,l=e.Es}))),!r.isEqual(go.min())){const t=n.Gr.getLastRemoteSnapshotVersion(e).next((t=>n.Gr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return jo.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.us=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ba.get(t);r&&(Xa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Fa=!0:e.modifiedDocuments.size>0?Xa(r.Fa):e.removedDocuments.size>0&&(Xa(r.Fa),r.Fa=!1))})),await Ff(n,e,t)}catch(e){await Io(e)}}function Tf(e,t,n){const r=Ja(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xa.forEach(((n,r)=>{const i=r.view.ea(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ja(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.J_)i.ea(t)&&(r=!0)})),r&&df(n)}(r.eventManager,t),e.length&&r.Ma.R_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function If(e,t,n){const r=Ja(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ba.get(t),s=i&&i.key;if(s){let e=new Go(xo.comparator);e=e.insert(s,Ol.newNoDocument(s,go.min()));const n=Pc().add(s),i=new Tu(go.min(),new Map,new Go(fo),e,n);await Nf(r,i),r.La=r.La.remove(s),r.Ba.delete(t),zf(r)}else await th(r.localStore,t,!1).then((()=>Rf(r,t,n))).catch(Io)}async function jf(e,t){const n=Ja(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ja(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=jo.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Xa(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Pc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Pf(n,r,null),Af(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ff(n,e)}catch(e){await Io(e)}}async function Of(e,t,n){const r=Ja(e);try{const e=await function(e,t){const n=Ja(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Xa(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Pf(r,t,n),Af(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ff(r,e)}catch(n){await Io(n)}}function Af(e,t){(e.Qa.get(t)||[]).forEach((e=>{e.resolve()})),e.Qa.delete(t)}function Pf(e,t,n){const r=Ja(e);let i=r.qa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.qa[r.currentUser.toKey()]=i}}function Rf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach((t=>{e.ka.containsKey(t)||Df(e,t)}))}function Df(e,t){e.Na.delete(t.path.canonicalString());const n=e.La.get(t);null!==n&&(Ch(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),zf(e))}function Lf(e,t,n){for(const r of n)r instanceof mf?(e.ka.addReference(r.key,t),Mf(e,r)):r instanceof gf?(Wa("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||Df(e,r.key)):Ya()}function Mf(e,t){const n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(Wa("SyncEngine","New document in limbo: "+n),e.Na.add(r),zf(e))}function zf(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new xo(yo.fromString(t)),r=e.Ka.next();e.Ba.set(r,new bf(n)),e.La=e.La.insert(n,r),Eh(e.remoteStore,new md(dc(oc(n.path)),r,"TargetPurposeLimboResolution",Po.oe))}}async function Ff(e,t,n){const r=Ja(e),i=[],s=[],a=[];r.xa.isEmpty()||(r.xa.forEach(((e,o)=>{a.push(r.Ua(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=qd.zi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Ma.R_(i),await async function(e,t){const n=Ja(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>jo.forEach(t,(t=>jo.forEach(t.Wi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>jo.forEach(t.Gi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ao(e))throw e;Wa("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.us.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(e,i)}}}(r.localStore,s))}async function Uf(e,t){const n=Ja(e);if(!n.currentUser.isEqual(t)){Wa("SyncEngine","User change. New user:",t.toKey());const e=await Yd(n.localStore,t);n.currentUser=t,function(e,t){e.Qa.forEach((e=>{e.forEach((e=>{e.reject(new eo(Za.CANCELLED,t))}))})),e.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ff(n,e.Ts)}}function Vf(e,t){const n=Ja(e),r=n.Ba.get(t);if(r&&r.Fa)return Pc().add(r.key);{let e=Pc();const r=n.Oa.get(t);if(!r)return e;for(const t of r){const r=n.xa.get(t);e=e.unionWith(r.view.fa)}return e}}function Bf(e){const t=Ja(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Nf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=If.bind(null,t),t.Ma.R_=cf.bind(null,t.eventManager),t.Ma.Wa=uf.bind(null,t.eventManager),t}function $f(e){const t=Ja(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Of.bind(null,t),t}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Qd(this.persistence,new Gd,e.initialUser,this.serializer)}ja(e){return new Vd($d.ei,this.serializer)}za(e){return new sh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class qf extends Hf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Xa(this.persistence.referenceDelegate instanceof Hd);const n=this.persistence.referenceDelegate.garbageCollector;return new Cd(n,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?_d.withCacheSize(this.cacheSizeBytes):_d.DEFAULT;return new Vd((e=>Hd.ei(e,t)),this.serializer)}}class Wf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Tf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uf.bind(null,this.syncEngine),await Qh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sf}createDatastore(e){const t=mh(e.databaseInfo.databaseId),n=function(e){return new fh(e)}(e.databaseInfo);return function(e,t,n,r){return new wh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new _h(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Tf(this.syncEngine,e,0)),oh.p()?new oh:new ah)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new wf(e,t,n,r,i,s);return a&&(o.$a=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ja(e);Wa("RemoteStore","RemoteStore shutting down."),t.k_.add(5),await Sh(t),t.Q_.shutdown(),t.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Wf.provider={build:()=>new Wf};class Gf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ga("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Kf{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ba.UNAUTHENTICATED,this.clientId=ho.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Wa("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Wa("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new to;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(lb){const n=Zh(lb,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Qf(e,t){e.asyncQueue.verifyOperationInProgress(),Wa("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Yd(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Yf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Xf(e);Wa("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Kh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Kh(t.remoteStore,n))),e._onlineComponents=t}async function Xf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Wa("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qf(e,e._uninitializedComponentsProvider._offline)}catch(lb){const n=lb;if(!function(e){return"FirebaseError"===e.name?e.code===Za.FAILED_PRECONDITION||e.code===Za.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await Qf(e,new Hf)}}else Wa("FirestoreClient","Using default OfflineComponentProvider"),await Qf(e,new qf(void 0));return e._offlineComponents}async function Jf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Wa("FirestoreClient","Using user provided OnlineComponentProvider"),await Yf(e,e._uninitializedComponentsProvider._online)):(Wa("FirestoreClient","Using default OnlineComponentProvider"),await Yf(e,new Wf))),e._onlineComponents}function Zf(e){return Jf(e).then((e=>e.syncEngine))}async function ep(e){const t=await Jf(e),n=t.eventManager;return n.onListen=xf.bind(null,t.syncEngine),n.onUnlisten=Ef.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_f.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Cf.bind(null,t.syncEngine),n}function tp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new to;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Gf({next:o=>{s.eu(),t.enqueueAndForget((()=>lf(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new eo(Za.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new eo(Za.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new pf(oc(n.path),s,{includeMetadataChanges:!0,ua:!0});return of(e,a)}(await ep(e),e.asyncQueue,t,n,r))),r.promise}function np(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new to;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Gf({next:n=>{s.eu(),t.enqueueAndForget((()=>lf(e,a))),n.fromCache&&"server"===r.source?i.reject(new eo(Za.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new pf(n,s,{includeMetadataChanges:!0,ua:!0});return of(e,a)}(await ep(e),e.asyncQueue,t,n,r))),r.promise}function rp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ip=new Map;function sp(e,t,n){if(!n)throw new eo(Za.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ap(e){if(!xo.isDocumentKey(e))throw new eo(Za.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function op(e){if(xo.isDocumentKey(e))throw new eo(Za.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function lp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ya()}function cp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new eo(Za.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lp(e);throw new eo(Za.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class up{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new eo(Za.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new eo(Za.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new eo(Za.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new eo(Za.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new eo(Za.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new eo(Za.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new up({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new eo(Za.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new eo(Za.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new up(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ro;switch(e.type){case"firstParty":return new oo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new eo(Za.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ip.get(e);t&&(Wa("ComponentProvider","Removing Datastore"),ip.delete(e),t.terminate())}(this),Promise.resolve()}}function hp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=cp(e,dp))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ba.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ct(JSON.stringify({alg:"none",type:"JWT"})),ct(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new eo(Za.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ba(s)}e._authCredentials=new io(new no(t,n))}}class fp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fp(this.firestore,e,this._query)}}class pp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pp(this.firestore,e,this._key)}}class mp extends fp{constructor(e,t,n){super(e,t,oc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pp(this.firestore,null,new xo(e))}withConverter(e){return new mp(this.firestore,e,this._path)}}function gp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jt(e),sp("collection","path",t),e instanceof dp){const n=yo.fromString(t,...r);return op(n),new mp(e,null,n)}{if(!(e instanceof pp||e instanceof mp))throw new eo(Za.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yo.fromString(t,...r));return op(n),new mp(e.firestore,null,n)}}function vp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jt(e),1===arguments.length&&(t=ho.newId()),sp("doc","path",t),e instanceof dp){const n=yo.fromString(t,...r);return ap(n),new pp(e,null,new xo(n))}{if(!(e instanceof pp||e instanceof mp))throw new eo(Za.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yo.fromString(t,...r));return ap(n),new pp(e.firestore,e instanceof mp?e.converter:null,new xo(n))}}class yp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new gh(this,"async_queue_retry"),this.fu=()=>{const e=ph();e&&Wa("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;const t=ph();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=ph();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise((()=>{}));const t=new to;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(ob){if(!Ao(ob))throw ob;Wa("AsyncQueue","Operation failed with retryable error: "+ob)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const t=this.gu.then((()=>(this.Ru=!0,e().catch((e=>{this.Au=e,this.Ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ga("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ru=!1,e))))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const r=Jh.createAndSchedule(this,e,t,n,(e=>this.Su(e)));return this.du.push(r),r}pu(){this.Au&&Ya()}verifyOperationInProgress(){}async bu(){let e;do{e=this.gu,await e}while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.du.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class bp extends dp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new yp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yp(e),this._firestoreClient=void 0,await e}}}function wp(e){if(e._terminated)throw new eo(Za.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||xp(e),e._firestoreClient}function xp(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ll(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,rp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Kf(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class _p{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _p(el.fromBase64String(e))}catch(e){throw new eo(Za.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new _p(el.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new eo(Za.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sp{constructor(e){this._methodName=e}}class Ep{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new eo(Za.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new eo(Za.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fo(this._lat,e._lat)||fo(this._long,e._long)}}class Cp{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Np=/^__.*__$/;class Tp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ou(e,this.data,this.fieldMask,t,this.fieldTransforms):new au(e,this.data,t,this.fieldTransforms)}}class Ip{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ou(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ya()}}class Op{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Op(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Lu(e),r}Bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Wp(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(jp(this.Mu)&&Np.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Ap{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||mh(e)}$u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Op({Mu:e,methodName:t,Ku:n,path:wo.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pp(e){const t=e._freezeSettings(),n=mh(e._databaseId);return new Ap(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Rp(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.$u(s.merge||s.mergeFields?2:0,t,n,i);Bp("Data must be an object, but it was:",a,r);const o=Up(r,a);let l,c;if(s.merge)l=new Jo(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=$p(t,r,n);if(!a.contains(i))throw new eo(Za.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Gp(e,i)||e.push(i)}l=new Jo(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Tp(new Il(o),l,c)}class Dp extends Sp{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dp}}function Lp(e,t,n,r){const i=e.$u(1,t,n);Bp("Data must be an object, but it was:",i,r);const s=[],a=Il.empty();qo(r,((e,r)=>{const o=qp(t,e,n);r=jt(r);const l=i.Bu(o);if(r instanceof Dp)s.push(o);else{const e=Fp(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Jo(s);return new Ip(a,o,i.fieldTransforms)}function Mp(e,t,n,r,i,s){const a=e.$u(1,t,n),o=[$p(t,r,n)],l=[i];if(s.length%2!=0)throw new eo(Za.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push($p(t,s[h])),l.push(s[h+1]);const c=[],u=Il.empty();for(let h=o.length-1;h>=0;--h)if(!Gp(c,o[h])){const e=o[h];let t=l[h];t=jt(t);const n=a.Bu(e);if(t instanceof Dp)c.push(e);else{const r=Fp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Jo(c);return new Ip(u,d,a.fieldTransforms)}function zp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fp(n,e.$u(r?4:3,t))}function Fp(e,t){if(Vp(e=jt(e)))return Bp("Unsupported field value:",t,e),Up(e,t);if(e instanceof Sp)return function(e,t){if(!jp(t.Mu))throw t.qu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.qu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Fp(i,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=jt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=mo.fromDate(e);return{timestampValue:Bu(t.serializer,n)}}if(e instanceof mo){const n=new mo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Bu(t.serializer,n)}}if(e instanceof Ep)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _p)return{bytesValue:$u(t.serializer,e._byteString)};if(e instanceof pp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Wu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Cp)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.qu("VectorValues must only contain numeric values.");return Lc(t.serializer,e)}))}}}}}}(e,t);throw t.qu(`Unsupported field value: ${lp(e)}`)}(e,t)}function Up(e,t){const n={};return Wo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qo(e,((e,r)=>{const i=Fp(r,t.Ou(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Vp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof mo||e instanceof Ep||e instanceof _p||e instanceof pp||e instanceof Sp||e instanceof Cp)}function Bp(e,t,n){if(!Vp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=lp(n);throw"an object"===r?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function $p(e,t,n){if((t=jt(t))instanceof kp)return t._internalPath;if("string"==typeof t)return qp(e,t);throw Wp("Field path arguments must be of type string or ",e,!1,void 0,n)}const Hp=new RegExp("[~\\*/\\[\\]]");function qp(e,t,n){if(t.search(Hp)>=0)throw Wp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new kp(...t.split("."))._internalPath}catch(r){throw Wp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Wp(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new eo(Za.INVALID_ARGUMENT,o+e+l)}function Gp(e,t){return e.some((e=>e.isEqual(t)))}class Kp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qp extends Kp{data(){return super.data()}}function Yp(e,t){return"string"==typeof t?qp(e,t):t instanceof kp?t._internalPath:t._delegate._internalPath}function Xp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new eo(Za.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class Zp extends Jp{}class em extends Zp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new em(e,t,n)}_apply(e){const t=this._parse(e);return sm(e._query,t),new fp(e.firestore,e.converter,fc(e._query,t))}_parse(e){const t=Pp(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new eo(Za.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){im(a,s);const t=[];for(const n of a)t.push(rm(r,e,n));o={arrayValue:{values:t}}}else o=rm(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||im(a,s),o=zp(n,t,a,"in"===s||"not-in"===s);return zl.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class tm extends Jp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tm(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Fl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)sm(n,i),n=fc(n,i)}(e._query,t),new fp(e.firestore,e.converter,fc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nm extends Zp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new nm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new eo(Za.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new eo(Za.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dl(t,n)}(e._query,this._field,this._direction);return new fp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new sc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function rm(e,t,n){if("string"==typeof(n=jt(n))){if(""===n)throw new eo(Za.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cc(t)&&-1!==n.indexOf("/"))throw new eo(Za.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(yo.fromString(n));if(!xo.isDocumentKey(r))throw new eo(Za.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wl(e,new xo(r))}if(n instanceof pp)return wl(e,n._key);throw new eo(Za.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lp(n)}.`)}function im(e,t){if(!Array.isArray(e)||0===e.length)throw new eo(Za.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sm(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new eo(Za.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new eo(Za.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class am{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ya()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return qo(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>rl(e.doubleValue)));return new Cp(i)}convertGeoPoint(e){return new Ep(rl(e.latitude),rl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=al(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const t=nl(e);return new mo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yo.fromString(e);Xa(pd(n));const r=new cl(n.get(1),n.get(3)),i=new xo(n.popFirst(5));return r.isEqual(t)||Ga(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function om(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class lm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cm extends Kp{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new um(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Yp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class um extends cm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class dm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new lm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new um(this._firestore,this._userDataWriter,n.key,n,new lm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new eo(Za.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new um(e._firestore,e._userDataWriter,n.doc.key,n.doc,new lm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new um(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:hm(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function hm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ya()}}function fm(e){e=cp(e,pp);const t=cp(e.firestore,bp);return tp(wp(t),e._key).then((n=>wm(t,e,n)))}class pm extends am{constructor(e){super(),this.firestore=e}convertBytes(e){return new _p(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pp(this.firestore,null,t)}}function mm(e){e=cp(e,fp);const t=cp(e.firestore,bp),n=wp(t),r=new pm(t);return Xp(e._query),np(n,e._query).then((n=>new dm(t,r,e,n)))}function gm(e,t,n){e=cp(e,pp);const r=cp(e.firestore,bp),i=Pp(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=jt(t))||t instanceof kp?Mp(i,"updateDoc",e._key,t,n,o):Lp(i,"updateDoc",e._key,t),bm(r,[s.toMutation(e._key,Jc.exists(!0))])}function vm(e){return bm(cp(e.firestore,bp),[new du(e._key,Jc.none())])}function ym(e,t){const n=cp(e.firestore,bp),r=vp(e),i=om(e.converter,t);return bm(n,[Rp(Pp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Jc.exists(!1))]).then((()=>r))}function bm(e,t){return function(e,t){const n=new to;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=$f(e);try{const e=await function(e,t){const n=Ja(e),r=mo.now(),i=t.reduce(((e,t)=>e.add(t.key)),Pc());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Sc(),l=Pc();return n.hs.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=iu(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new ou(e.key,t,jl(t.value.mapValue),Jc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Nc(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qa[e.currentUser.toKey()];r||(r=new Go(fo)),r=r.insert(t,n),e.qa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ff(r,e.changes),await Fh(r.remoteStore)}catch(e){const t=Zh(e,"Failed to persist write");n.reject(t)}}(await Zf(e),t,n))),n.promise}(wp(e),t)}function wm(e,t,n){const r=n.docs.get(t._key),i=new pm(e);return new cm(e,i,t._key,r,new lm(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){$a=e}(Gn),Bn(new Ot("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new bp(new so(e.getProvider("auth-internal")),new co(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new eo(Za.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cl(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Yn(Va,"4.7.5",e),Yn(Va,"4.7.5","esm2017")}();const xm=Kn({apiKey:"AIzaSyAcPmOLCEeL5sRenwhtTWCIBawWNcnD4Ls",authDomain:"malim-app.firebaseapp.com",projectId:"malim-app",storageBucket:"malim-app.appspot.com",messagingSenderId:"953747301080",appId:"1:953747301080:web:d3cfd18e9be012bb822dad"}),_m=function(e,t){const n="string"==typeof e?e:t||"(default)",r=$n("object"==typeof e?e:Qn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=ft(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&hp(r,...e)}return r}(xm),km=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();const t=$n(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=$n(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(kt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;fr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ba,persistence:[Is,hs,ps]}),r=mt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ka)return;const r=null===t||void 0===t?void 0:t.token;Sa!==r&&(Sa=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){jt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){jt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=ft("auth");return s&&Pi(n,`http://${s}`),n}(xm);console.log("Firestore inicializado: ",_m),console.log("Auth inicializado: ",km);var Sm={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Em=e.createContext&&e.createContext(Sm),Cm=["attr","size","title"];function Nm(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tm.apply(this,arguments)}function Im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Im(Object(n),!0).forEach((function(t){Om(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Om(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Am(t){return t&&t.map(((t,n)=>e.createElement(t.tag,jm({key:n},t.attr),Am(t.child))))}function Pm(t){return n=>e.createElement(Rm,Tm({attr:jm({},t.attr)},n),Am(t.child))}function Rm(t){var n=n=>{var r,{attr:i,size:s,title:a}=t,o=Nm(t,Cm),l=s||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",Tm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:r,style:jm(jm({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==Em?e.createElement(Em.Consumer,null,(e=>n(e))):n(Sm)}function Dm(e){return Pm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 368h416v32H48zm32 48h352v32H80zm400-240a96.11 96.11 0 0 1-96-96V64H128v16a96.11 96.11 0 0 1-96 96H16v64h16a96.11 96.11 0 0 1 96 96v16h256v-16a96.11 96.11 0 0 1 96-96h16v-64zM256 304a96 96 0 1 1 96-96 96.11 96.11 0 0 1-96 96z"},child:[]},{tag:"path",attr:{d:"M96 80V64H16v80h16a64.07 64.07 0 0 0 64-64zM32 272H16v80h80v-16a64.07 64.07 0 0 0-64-64zm448-128h16V64h-80v16a64.07 64.07 0 0 0 64 64zm-64 192v16h80v-80h-16a64.07 64.07 0 0 0-64 64z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"208",r:"64"},child:[]}]})(e)}function Lm(e){return Pm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(e)}var Mm=n(579);const zm=function(e){let{manejadorMenu:t}=e;return(0,Mm.jsx)("div",{children:(0,Mm.jsx)("header",{class:"bg-pink-400 p-3 fixed z-40 top-0 left-0 w-full",children:(0,Mm.jsx)(Lm,{class:"text-white",onClick:t})})})};function Fm(e){return Pm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4l16-.02V7z"},child:[]}]})(e)}function Um(e){return Pm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(e)}function Vm(e){return Pm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49A.996.996 0 0 0 20.01 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function Bm(e){return Pm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 5h2v3h10V5h2v5h2V5c0-1.1-.9-2-2-2h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h6v-2H5V5zm7-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"},child:[]},{tag:"path",attr:{d:"M21 11.5 15.51 17l-3.01-3-1.5 1.5 4.51 4.5 6.99-7z"},child:[]}]})(e)}function $m(e){return Pm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(e)}function Hm(e){return Pm({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function qm(e){return Pm({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M631.2 96.5L436.5 0C416.4 27.8 371.9 47.2 320 47.2S223.6 27.8 203.5 0L8.8 96.5c-7.9 4-11.1 13.6-7.2 21.5l57.2 114.5c4 7.9 13.6 11.1 21.5 7.2l56.6-27.7c10.6-5.2 23 2.5 23 14.4V480c0 17.7 14.3 32 32 32h256c17.7 0 32-14.3 32-32V226.3c0-11.8 12.4-19.6 23-14.4l56.6 27.7c7.9 4 17.5.8 21.5-7.2L638.3 118c4-7.9.8-17.6-7.1-21.5z"},child:[]}]})(e)}function Wm(e){return Pm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 336H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v276a6 6 0 0 1-6 6zM128 152c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zM96 352h320v-80l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L192 304l-39.515-39.515c-4.686-4.686-12.284-4.686-16.971 0L96 304v48z"},child:[]}]})(e)}function Gm(e){return Pm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.126.64a1.748 1.748 0 0 1 1.75 0l8.25 4.762c.103.06.199.128.286.206a.75.75 0 0 1 .554.96c.023.113.035.23.035.35v3.332a.75.75 0 0 1-1.5 0V7.64l-7.75 4.474V22.36a.75.75 0 0 1-1.125.65l-8.75-5.052a1.75 1.75 0 0 1-.875-1.515V6.917c0-.119.012-.236.035-.35a.749.749 0 0 1 .554-.96c.088-.078.184-.146.286-.205L9.126.639Zm.875 10.173v.001l7.75-4.474-7.625-4.402a.248.248 0 0 0-.25 0L2.251 6.34Zm-8.5-3.175v8.803c0 .09.048.172.125.216l7.625 4.402v-8.947Z"},child:[]},{tag:"path",attr:{d:"m21.347 17.5-2.894-2.702a.75.75 0 1 1 1.023-1.096l4.286 4a.75.75 0 0 1 0 1.096l-4.286 4a.75.75 0 1 1-1.023-1.096L21.347 19h-6.633a.75.75 0 0 1 0-1.5h6.633Z"},child:[]}]})(e)}function Km(e){return Pm({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 14h14v2h-16v-16h2zM4.5 13c-0.828 0-1.5-0.672-1.5-1.5s0.672-1.5 1.5-1.5c0.044 0 0.088 0.002 0.131 0.006l1.612-2.687c-0.154-0.235-0.243-0.517-0.243-0.819 0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5c0 0.302-0.090 0.583-0.243 0.819l1.612 2.687c0.043-0.004 0.087-0.006 0.131-0.006 0.033 0 0.066 0.001 0.099 0.004l2.662-4.658c-0.165-0.241-0.261-0.532-0.261-0.845 0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5c0 0.828-0.672 1.5-1.5 1.5-0.033 0-0.066-0.001-0.099-0.004l-2.662 4.658c0.165 0.241 0.261 0.532 0.261 0.845 0 0.828-0.672 1.5-1.5 1.5s-1.5-0.672-1.5-1.5c0-0.302 0.090-0.583 0.243-0.819l-1.612-2.687c-0.043 0.004-0.087 0.006-0.131 0.006s-0.088-0.002-0.131-0.006l-1.612 2.687c0.154 0.235 0.243 0.517 0.243 0.819 0 0.828-0.672 1.5-1.5 1.5z"},child:[]}]})(e)}function Qm(e){return Pm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Text_Align_Left"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.438,4.063H3.563a.5.5,0,1,1,0-1H20.438a.5.5,0,1,1,0,1Z"},child:[]},{tag:"path",attr:{d:"M12.562,8.5h-9a.5.5,0,0,1,0-1h9a.5.5,0,0,1,0,1Z"},child:[]},{tag:"path",attr:{d:"M12.562,16.5h-9a.5.5,0,1,1,0-1h9a.5.5,0,0,1,0,1Z"},child:[]},{tag:"path",attr:{d:"M20.436,12.5H3.562a.5.5,0,1,1,0-1H20.436a.5.5,0,0,1,0,1Z"},child:[]},{tag:"path",attr:{d:"M20.436,20.937H3.562a.5.5,0,0,1,0-1H20.436a.5.5,0,0,1,0,1Z"},child:[]}]}]}]})(e)}function Ym(e){return Pm({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M112 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm40 304V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V256.9L59.4 304.5c-9.1 15.1-28.8 20-43.9 10.9s-20-28.8-10.9-43.9l58.3-97c17.4-28.9 48.6-46.6 82.3-46.6h29.7c33.7 0 64.9 17.7 82.3 46.6l58.3 97c9.1 15.1 4.2 34.8-10.9 43.9s-34.8 4.2-43.9-10.9L232 256.9V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V352H152z"},child:[]}]})(e)}const Xm=function(e){let{menuAbierto:t}=e;return(0,Mm.jsx)("div",{class:`fixed w-1/2 lg:w-1/4 top-5 shadow-xl border-r-4 border-pink-300 z-30 left-0 h-full bg-pink-200 transform ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out`,children:(0,Mm.jsxs)("div",{className:"my-10 ml-5 flex flex-col",children:[(0,Mm.jsx)("button",{className:"text-pink-800",children:(0,Mm.jsxs)(Ze,{to:"/Pedidos",className:"flex flex-row",children:[(0,Mm.jsx)(Bm,{className:"text-xl"}),(0,Mm.jsx)("span",{className:"ml-2",children:"Pedidos"})]})}),(0,Mm.jsx)("button",{className:"text-pink-800",children:(0,Mm.jsxs)(Ze,{to:"/MarcaAgua",className:"flex flex-row",children:[(0,Mm.jsx)(Wm,{className:"text-xl"}),(0,Mm.jsx)("span",{className:"ml-2",children:"Marca de agua"})]})}),(0,Mm.jsx)("button",{className:"text-pink-800",children:(0,Mm.jsxs)(Ze,{to:"/Compras",className:"flex flex-row",children:[(0,Mm.jsx)(Vm,{className:"text-xl"}),(0,Mm.jsx)("span",{className:"ml-2",children:"Compras"})]})}),(0,Mm.jsx)("button",{className:"text-pink-800",children:(0,Mm.jsxs)(Ze,{to:"/Entregas",className:"flex flex-row",children:[(0,Mm.jsx)(Gm,{className:"text-xl"}),(0,Mm.jsx)("span",{className:"ml-2",children:"Entregas"})]})}),(0,Mm.jsx)("button",{className:"text-pink-800",children:(0,Mm.jsxs)(Ze,{to:"/Estadisticas",className:"flex flex-row",children:[(0,Mm.jsx)(Km,{className:"text-xl"}),(0,Mm.jsx)("span",{className:"ml-2",children:"Estad\xedsticas"})]})}),(0,Mm.jsx)("button",{className:"text-pink-800",children:(0,Mm.jsxs)(Ze,{to:"/PorCobrar",className:"flex flex-row",children:[(0,Mm.jsx)(Dm,{className:"text-xl"}),(0,Mm.jsx)("span",{className:"ml-2",children:"Por cobrar"})]})}),(0,Mm.jsx)("button",{className:"text-pink-800",children:(0,Mm.jsxs)(Ze,{to:"/Descripciones",className:"flex flex-row",children:[(0,Mm.jsx)(Qm,{className:"text-xl"}),(0,Mm.jsx)("span",{className:"ml-2",children:"Base de datos"})]})}),(0,Mm.jsx)("button",{className:"text-pink-800",children:(0,Mm.jsxs)(Ze,{to:"/Clientes",className:"flex flex-row",children:[(0,Mm.jsx)(Ym,{className:"text-xl"}),(0,Mm.jsx)("span",{className:"ml-2",children:"Clientes"})]})})]})})};function Jm(e){return Pm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M363 277h-86v86h-42v-86h-86v-42h86v-86h42v86h86v42z"},child:[]},{tag:"path",attr:{d:"M256 90c44.3 0 86 17.3 117.4 48.6C404.7 170 422 211.7 422 256s-17.3 86-48.6 117.4C342 404.7 300.3 422 256 422c-44.3 0-86-17.3-117.4-48.6C107.3 342 90 300.3 90 256c0-44.3 17.3-86 48.6-117.4C170 107.3 211.7 90 256 90m0-42C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(e)}function Zm(e){return Pm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M208 448V320h96v128h97.6V256H464L256 64 48 256h62.4v192z"},child:[]}]})(e)}function eg(e){return Pm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M133.3 33.41L77.89 47.25 34.6 148.3l33.29 22.2 27.46-54.9 17.05 4.9-15.07 150.1H245.2l9.2-87.9.9-8.1h4.5l-5.4-54.1 17.1-4.9 27.4 54.9 33.3-22.2-43.3-101.05-55.4-13.84c-5.5 3.87-12.2 6.21-19.5 7.95-9.4 2.21-20 3.24-30.6 3.24-10.6 0-21.2-1.03-30.6-3.24-7.3-1.74-14-4.07-19.5-7.95zM271.5 192.6l-1.5 14h178.8l-1.5-14zm-3.4 32l-26.7 254h62.7l46.5-216.9h17.6l46.5 216.9h62.7l-26.7-254z"},child:[]}]})(e)}const tg=function(e){let{"manejadorMenuA\xf1adir":t}=e;return(0,Mm.jsx)("footer",{className:"z-50 text-white bg-pink-400 fixed bottom-0 w-full justify-between items-center",children:(0,Mm.jsxs)("div",{className:"flex justify-between px-5 relative",children:[(0,Mm.jsxs)("div",{className:"flex justify-between",children:[(0,Mm.jsx)("button",{className:"flex flex-col items-center w-16 mx-2",children:(0,Mm.jsxs)(Ze,{to:"/",className:"text-center flex items-center flex-col",children:[(0,Mm.jsx)(Zm,{className:"text-3xl"}),(0,Mm.jsx)("span",{className:"text-xs",children:"Inicio"})]})}),(0,Mm.jsx)("button",{className:"flex flex-col items-center w-16 mx-2 pr-3",children:(0,Mm.jsxs)(Ze,{to:"/Pedidos",className:"text-center flex items-center flex-col",children:[(0,Mm.jsx)(Bm,{className:"text-3xl"}),(0,Mm.jsx)("span",{className:"text-xs",children:"Pedidos"})]})})]}),(0,Mm.jsx)("div",{className:"relative flex justify-center",children:(0,Mm.jsx)("button",{onClick:t,className:"absolute border-pink-600 border-2 shadow-lg text-4xl rounded-full -top-10 bg-pink-400 h-16 w-16 flex transform -translate-y-5 justify-center items-center",children:(0,Mm.jsx)(Jm,{})})}),(0,Mm.jsxs)("div",{className:"flex justify-between",children:[(0,Mm.jsx)("button",{className:"flex flex-col items-center w-16 mx-2 pl-3",children:(0,Mm.jsxs)(Ze,{to:"/Inventario",className:"text-center flex items-center flex-col",children:[(0,Mm.jsx)(Fm,{className:"text-3xl"}),(0,Mm.jsx)("span",{className:"text-xs",children:"Inventario"})]})}),(0,Mm.jsx)("button",{className:"flex flex-col items-center w-16 mx-2",children:(0,Mm.jsxs)(Ze,{to:"/Disponible",className:"text-center flex items-center flex-col",children:[(0,Mm.jsx)(eg,{className:"text-3xl"}),(0,Mm.jsx)("span",{className:"text-xs",children:"Disponible"})]})})]})]})})};function ng(e){return Pm({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M882 272.1V144c0-17.7-14.3-32-32-32H174c-17.7 0-32 14.3-32 32v128.1c-16.7 1-30 14.9-30 31.9v131.7a177 177 0 0 0 14.4 70.4c4.3 10.2 9.6 19.8 15.6 28.9v345c0 17.6 14.3 32 32 32h676c17.7 0 32-14.3 32-32V535a175 175 0 0 0 15.6-28.9c9.5-22.3 14.4-46 14.4-70.4V304c0-17-13.3-30.9-30-31.9zM214 184h596v88H214v-88zm362 656.1H448V736h128v104.1zm234 0H640V704c0-17.7-14.3-32-32-32H416c-17.7 0-32 14.3-32 32v136.1H214V597.9c2.9 1.4 5.9 2.8 9 4 22.3 9.4 46 14.1 70.4 14.1s48-4.7 70.4-14.1c13.8-5.8 26.8-13.2 38.7-22.1.2-.1.4-.1.6 0a180.4 180.4 0 0 0 38.7 22.1c22.3 9.4 46 14.1 70.4 14.1 24.4 0 48-4.7 70.4-14.1 13.8-5.8 26.8-13.2 38.7-22.1.2-.1.4-.1.6 0a180.4 180.4 0 0 0 38.7 22.1c22.3 9.4 46 14.1 70.4 14.1 24.4 0 48-4.7 70.4-14.1 3-1.3 6-2.6 9-4v242.2zm30-404.4c0 59.8-49 108.3-109.3 108.3-40.8 0-76.4-22.1-95.2-54.9-2.9-5-8.1-8.1-13.9-8.1h-.6c-5.7 0-11 3.1-13.9 8.1A109.24 109.24 0 0 1 512 544c-40.7 0-76.2-22-95-54.7-3-5.1-8.4-8.3-14.3-8.3s-11.4 3.2-14.3 8.3a109.63 109.63 0 0 1-95.1 54.7C233 544 184 495.5 184 435.7v-91.2c0-.3.2-.5.5-.5h655c.3 0 .5.2.5.5v91.2z"},child:[]}]})(e)}const rg=function(e){let{"menuA\xf1adir":t}=e;return(0,Mm.jsx)("div",{class:`fixed flex justify-center z-40 bottom-0 w-full shadow-xl h-64 transform ${t?"translate-y-0":"translate-y-full"} transition-transform duration-300 ease-in-out`,children:(0,Mm.jsxs)("div",{className:"bg-black text-center h-full w-4/5 border-t-4 border-black rounded-xl z-50 opacity-75",children:[(0,Mm.jsx)("div",{className:"w-full",children:(0,Mm.jsx)("p",{className:"text-white text-m",children:"A\xf1adir"})}),(0,Mm.jsxs)("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[(0,Mm.jsx)("button",{className:"text-white",children:(0,Mm.jsxs)(Ze,{to:"/FormA\xf1adirDisponible",className:"text-center flex items-center flex-col",children:[(0,Mm.jsx)(qm,{className:"text-3xl"}),(0,Mm.jsx)("p",{className:"text-xs",children:"Disponible"})]})}),(0,Mm.jsx)("button",{className:"text-white text-center flex items-center flex-col",children:(0,Mm.jsxs)(Ze,{to:"/PorCobrar",className:"text-center flex items-center flex-col",children:[(0,Mm.jsx)(Dm,{className:"text-3xl"}),(0,Mm.jsx)("p",{className:"text-xs",children:"Pago"})]})}),(0,Mm.jsx)("button",{className:"text-white text-center flex items-center flex-col",children:(0,Mm.jsxs)(Ze,{to:"/A\xf1adirPedidoDirecto",className:"text-center flex items-center flex-col",children:[(0,Mm.jsx)(Bm,{className:"text-3xl"}),(0,Mm.jsx)("p",{className:"text-xs",children:"Pedido"})]})}),(0,Mm.jsx)("button",{className:"text-white mt-5 text-center flex items-center flex-col",children:(0,Mm.jsxs)(Ze,{to:"/FormA\xf1adirProveedor",className:"text-center flex items-center flex-col",children:[(0,Mm.jsx)(ng,{className:"text-3xl"}),(0,Mm.jsx)("p",{className:"text-xs",children:"Proveedor"})]})}),(0,Mm.jsx)("button",{className:"text-white mt-5 text-center flex items-center flex-col",children:(0,Mm.jsxs)(Ze,{to:"/FormA\xf1adirCliente",className:"text-center flex items-center flex-col",children:[(0,Mm.jsx)(Ym,{className:"text-3xl"}),(0,Mm.jsx)("p",{className:"text-xs",children:"Cliente"})]})}),(0,Mm.jsx)("button",{className:"text-white mt-5 text-center flex items-center flex-col",children:(0,Mm.jsxs)(Ze,{className:"text-center flex items-center flex-col",children:[(0,Mm.jsx)(Um,{className:"text-3xl"}),(0,Mm.jsx)("p",{className:"text-xs",children:"Lugar"})]})})]})]})})},ig=n.p+"static/media/logo-negro.f9e5d9dcc96b7c04ad93.png",sg=["No todas las ra\xedces se ven, pero son las que sostienen lo m\xe1s grande de ti.","Hay fuerza en quien se atreve a empezar de nuevo, incluso con las manos vac\xedas.","Cada amanecer es una segunda oportunidad que no pide explicaciones.","No necesitas tenerlo todo claro para dar el primer paso, solo confianza.","El sol no deja de salir por una noche oscura; tampoco t\xfa por un mal d\xeda.","Cuando el alma se cansa, el cuerpo lo grita. Esc\xfachate, respeta tus pausas.","Las flores m\xe1s resistentes son las que crecieron entre piedras.","La claridad no siempre llega en medio del ruido, sino cuando te atreves a detenerte.","No siempre se trata de avanzar, a veces se trata de no rendirse.","Perderse no es fracasar; es explorar caminos que a\xfan no sab\xedas que exist\xedan.","El miedo no desaparece, pero t\xfa puedes aprender a caminar con \xe9l.","A veces lo que m\xe1s pesa no son las cargas, sino lo que no te permites soltar.","Cada cicatriz cuenta una historia de algo que superaste. No las ocultes.","Si el camino se ve dif\xedcil, tal vez es porque est\xe1s construyendo uno nuevo.","El valor no es la ausencia de duda, es seguir a pesar de ella.","Recuerda: hasta el invierno m\xe1s crudo prepara el terreno para la primavera.","No compares tu cap\xedtulo uno con el cap\xedtulo veinte de alguien m\xe1s.","Lo que hoy parece un muro, ma\xf1ana ser\xe1 parte del paisaje que superaste.","No necesitas validaci\xf3n externa para tener valor interno.","No eres d\xe9bil por caer, eres fuerte por levantarte sin que nadie lo vea.","La fe no siempre grita, a veces es un susurro que dice: 'intenta una vez m\xe1s'.","Hay caminos que solo se abren cuando conf\xedas lo suficiente para caminar sin ver.","No est\xe1s retrocediendo, est\xe1s tomando impulso.","Hasta las hojas secas tienen su funci\xf3n: alimentar nuevas ra\xedces.","Siembra intenci\xf3n, riega con acci\xf3n y conf\xeda en el tiempo.","La grandeza no siempre hace ruido; a veces crece en silencio.","A veces no se trata de tener m\xe1s fuerza, sino m\xe1s sentido.","Recuerda que sobreviviste a d\xedas que pensaste que no podr\xedas.","Hazlo cansado, hazlo con miedo, pero hazlo.","No esperes a tener energ\xeda para moverte; mu\xe9vete y la energ\xeda llegar\xe1.","No eres tu peor d\xeda, eres todo lo que haces para seguir adelante.","La disciplina te lleva donde la motivaci\xf3n no alcanza.","Tu versi\xf3n futura te est\xe1 esperando. No la hagas esperar m\xe1s.","No se trata de tener suerte, se trata de no rendirse.","Peque\xf1os pasos diarios crean cambios gigantes.","Cada d\xeda que no te rindes, ya est\xe1s ganando.","T\xfa no tienes l\xedmites, solo decisiones pendientes.","Cuando no sabes qu\xe9 hacer, haz lo que sabes: sigue.","Hazlo por ti. Por quien fuiste, por quien eres y por quien vas a ser.","El momento perfecto no existe, pero t\xfa s\xed est\xe1s listo.","S\xe9 constante. Lo extraordinario es solo lo ordinario repetido con fe.","No dejes que la duda ocupe el lugar de tus ganas.","Si te cansas, aprende a descansar, no a rendirte.","T\xfa no empezaste para quedarte a medias.","Todo cambia cuando decides que ya no te vas a traicionar.","No tienes que hacerlo todo hoy. Solo no dejes de hacerlo.","Hoy es el mejor d\xeda para no rendirte.","No necesitas sentirte capaz para actuar, necesitas actuar para sentirte capaz."];const ag=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{try{const e=await mm(gp(_m,"pedidos")),t=await mm(gp(_m,"clientes")),n=e.docs.map((e=>({id:e.id,...e.data()})));n.sort(((e,t)=>t.fecha.localeCompare(e.fecha)));const r=t.docs.map((e=>({id:e.id,...e.data()})));a(n),l(r)}catch(e){console.error("Error al cargar los documentos",e)}})()}),[]);const c=()=>{const e=new Date,t=e.getDate(),n=e.getMonth()+1;return o.filter((e=>{if(!e.cumplea\u00f1os)return!1;const[r,i,s]=e.cumplea\u00f1os.split("-").map(Number);return s===t&&i===n}))},[u,d]=(0,e.useState)("");(0,e.useEffect)((()=>{const e=(()=>{const e=new Date-new Date(1970,0,1);return Math.floor(e/864e5)%sg.length})();d(sg[e])}),[sg]);const h=()=>s.filter((e=>!1===e.comprado));return(0,Mm.jsxs)("div",{className:"h-screen flex flex-col overflow-hidden bg-pink-100 pb-16 pt-10",children:[(0,Mm.jsx)("header",{children:(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsxs)("main",{className:"flex-1 overflow-y-auto px-2",children:[(0,Mm.jsx)("div",{className:"flex justify-center w-full h-16",children:(0,Mm.jsx)("img",{src:ig,alt:"logo de malim"})}),(0,Mm.jsxs)("div",{className:"bg-pink-400 mx-10 p-2 h-32 lg:mx-64 shadow-xl text-center rounded-lg flex flex-col items-center justify-center relative text-white",children:[(0,Mm.jsx)("p",{className:"flex-grow font-bold mt-10",children:u}),(0,Mm.jsx)("div",{className:"flex flex-row mt-auto justify-end w-full",children:(0,Mm.jsx)("button",{className:"text-pink-100 mx-3 px-2",onClick:()=>(e=>{const t=`https://wa.me/?text=${encodeURIComponent(e)}`;window.open(t,"_blank")})(u),children:(0,Mm.jsx)($m,{className:"text-xl"})})})]}),(0,Mm.jsxs)("div",{className:"bg-pink-400 z-0 mx-10 mt-10 p-2 h-64 lg:mx-64 shadow-xl text-center rounded-lg ",children:[(0,Mm.jsx)("h1",{className:"text-pink-800 text-lg font-bold mt-3 mb-2",children:"Estad\xedsticas"}),(0,Mm.jsxs)("div",{className:"grid grid-cols-2 gap-4 m-5",children:[(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-center leading-none text-white",children:"Ventas de la semana:"}),(0,Mm.jsx)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:h().length})]}),(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-center leading-none text-white",children:"Inversi\xf3n necesaria:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",(()=>{const e=s.filter((e=>!1===e.pagado||void 0===e.pagado)),t=e.filter((e=>!1===e.comprado));return t.reduce(((e,t)=>e+Number(t.costo||0)),0)})()]})]}),(0,Mm.jsxs)("div",{className:"mt-5",children:[(0,Mm.jsx)("p",{className:"text-center leading-none text-white",children:"Por cobrar:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",(()=>{const e=s.filter((e=>"INVENTARIO"!==e.cliente));return e.reduce(((e,t)=>e+(t.precio-t.pago)),0)})()]})]}),(0,Mm.jsxs)("div",{className:"mt-5",children:[(0,Mm.jsx)("p",{className:"text-center leading-none text-white",children:"Utilidad:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",h().reduce(((e,t)=>e+(t.precio-t.costo)),0)]})]})]})]}),c().length>0&&(0,Mm.jsxs)("div",{className:"bg-pink-300 z-0 mx-10 mt-10 p-4 lg:mx-64 shadow-xl text-center rounded-lg",children:[(0,Mm.jsx)("h2",{className:"text-white text-lg font-bold mb-4",children:"\ud83c\udf89 Cumplea\xf1eros de hoy"}),(0,Mm.jsx)("ul",{className:"divide-y divide-pink-200",children:c().map((e=>(0,Mm.jsxs)("li",{className:"py-2 flex justify-between items-center text-white px-4",children:[(0,Mm.jsx)("span",{className:"font-medium",children:e.cliente}),(0,Mm.jsxs)("span",{className:"text-sm italic",children:["\ud83c\udf82 ",e.cumplea\u00f1os]})]},e.id)))})]})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})})]})};function og(e){return og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(e)}function lg(e){var t=function(e,t){if("object"!=og(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=og(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==og(t)?t:t+""}function cg(e,t,n){return(t=lg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ug(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ug(Object(n),!0).forEach((function(t){cg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ug(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function fg(e,t){if(e){if("string"==typeof e)return hg(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hg(e,t):void 0}}function pg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||fg(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var gg=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vg.apply(null,arguments)}function yg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lg(r.key),r)}}function bg(e,t){return bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bg(e,t)}function wg(e){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wg(e)}function xg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xg=function(){return!!e})()}function _g(e,t){if(t&&("object"==og(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kg(e){return function(e){if(Array.isArray(e))return hg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fg(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Sg=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(ob){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Eg=Math.abs,Cg=String.fromCharCode,Ng=Object.assign;function Tg(e){return e.trim()}function Ig(e,t,n){return e.replace(t,n)}function jg(e,t){return e.indexOf(t)}function Og(e,t){return 0|e.charCodeAt(t)}function Ag(e,t,n){return e.slice(t,n)}function Pg(e){return e.length}function Rg(e){return e.length}function Dg(e,t){return t.push(e),e}var Lg=1,Mg=1,zg=0,Fg=0,Ug=0,Vg="";function Bg(e,t,n,r,i,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Lg,column:Mg,length:a,return:""}}function $g(e,t){return Ng(Bg("",null,null,"",null,null,0),e,{length:-e.length},t)}function Hg(){return Ug=Fg>0?Og(Vg,--Fg):0,Mg--,10===Ug&&(Mg=1,Lg--),Ug}function qg(){return Ug=Fg<zg?Og(Vg,Fg++):0,Mg++,10===Ug&&(Mg=1,Lg++),Ug}function Wg(){return Og(Vg,Fg)}function Gg(){return Fg}function Kg(e,t){return Ag(Vg,e,t)}function Qg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Yg(e){return Lg=Mg=1,zg=Pg(Vg=e),Fg=0,[]}function Xg(e){return Vg="",e}function Jg(e){return Tg(Kg(Fg-1,tv(91===e?e+2:40===e?e+1:e)))}function Zg(e){for(;(Ug=Wg())&&Ug<33;)qg();return Qg(e)>2||Qg(Ug)>3?"":" "}function ev(e,t){for(;--t&&qg()&&!(Ug<48||Ug>102||Ug>57&&Ug<65||Ug>70&&Ug<97););return Kg(e,Gg()+(t<6&&32==Wg()&&32==qg()))}function tv(e){for(;qg();)switch(Ug){case e:return Fg;case 34:case 39:34!==e&&39!==e&&tv(Ug);break;case 40:41===e&&tv(e);break;case 92:qg()}return Fg}function nv(e,t){for(;qg()&&e+Ug!==57&&(e+Ug!==84||47!==Wg()););return"/*"+Kg(t,Fg-1)+"*"+Cg(47===e?e:qg())}function rv(e){for(;!Qg(Wg());)qg();return Kg(e,Fg)}var iv="-ms-",sv="-moz-",av="-webkit-",ov="comm",lv="rule",cv="decl",uv="@keyframes";function dv(e,t){for(var n="",r=Rg(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function hv(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case cv:return e.return=e.return||e.value;case ov:return"";case uv:return e.return=e.value+"{"+dv(e.children,r)+"}";case lv:e.value=e.props.join(",")}return Pg(n=dv(e.children,r))?e.return=e.value+"{"+n+"}":""}function fv(e){return function(t){t.root||(t=t.return)&&e(t)}}function pv(e){return Xg(mv("",null,null,null,[""],e=Yg(e),0,[0],e))}function mv(e,t,n,r,i,s,a,o,l){for(var c=0,u=0,d=a,h=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",w=i,x=s,_=r,k=b;g;)switch(p=y,y=qg()){case 40:if(108!=p&&58==Og(k,d-1)){-1!=jg(k+=Ig(Jg(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:k+=Jg(y);break;case 9:case 10:case 13:case 32:k+=Zg(p);break;case 92:k+=ev(Gg()-1,7);continue;case 47:switch(Wg()){case 42:case 47:Dg(vv(nv(qg(),Gg()),t,n),l);break;default:k+="/"}break;case 123*m:o[c++]=Pg(k)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(k=Ig(k,/\f/g,"")),f>0&&Pg(k)-d&&Dg(f>32?yv(k+";",r,n,d-1):yv(Ig(k," ","")+";",r,n,d-2),l);break;case 59:k+=";";default:if(Dg(_=gv(k,t,n,c,u,i,o,b,w=[],x=[],d),s),123===y)if(0===u)mv(k,t,_,_,w,s,d,o,x);else switch(99===h&&110===Og(k,3)?100:h){case 100:case 108:case 109:case 115:mv(e,_,_,r&&Dg(gv(e,_,_,0,0,i,o,b,i,w=[],d),x),i,x,d,o,r?w:x);break;default:mv(k,_,_,_,[""],x,0,o,x)}}c=u=f=0,m=v=1,b=k="",d=a;break;case 58:d=1+Pg(k),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==Hg())continue;switch(k+=Cg(y),y*m){case 38:v=u>0?1:(k+="\f",-1);break;case 44:o[c++]=(Pg(k)-1)*v,v=1;break;case 64:45===Wg()&&(k+=Jg(qg())),h=Wg(),u=d=Pg(b=k+=rv(Gg())),y++;break;case 45:45===p&&2==Pg(k)&&(m=0)}}return s}function gv(e,t,n,r,i,s,a,o,l,c,u){for(var d=i-1,h=0===i?s:[""],f=Rg(h),p=0,m=0,g=0;p<r;++p)for(var v=0,y=Ag(e,d+1,d=Eg(m=a[p])),b=e;v<f;++v)(b=Tg(m>0?h[v]+" "+y:Ig(y,/&\f/g,h[v])))&&(l[g++]=b);return Bg(e,t,n,0===i?lv:o,l,c,u)}function vv(e,t,n){return Bg(e,t,n,ov,Cg(Ug),Ag(e,2,-2),0)}function yv(e,t,n,r){return Bg(e,t,n,cv,Ag(e,0,r),Ag(e,r+1,-1),r)}var bv=function(e,t,n){for(var r=0,i=0;r=i,i=Wg(),38===r&&12===i&&(t[n]=1),!Qg(i);)qg();return Kg(e,Fg)},wv=function(e,t){return Xg(function(e,t){var n=-1,r=44;do{switch(Qg(r)){case 0:38===r&&12===Wg()&&(t[n]=1),e[n]+=bv(Fg-1,t,n);break;case 2:e[n]+=Jg(r);break;case 4:if(44===r){e[++n]=58===Wg()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Cg(r)}}while(r=qg());return e}(Yg(e),t))},xv=new WeakMap,_v=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||xv.get(n))&&!r){xv.set(e,!0);for(var i=[],s=wv(t,i),a=n.props,o=0,l=0;o<s.length;o++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[o]?s[o].replace(/&\f/g,a[c]):a[c]+" "+s[o]}}},kv=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Sv(e,t){switch(function(e,t){return 45^Og(e,0)?(((t<<2^Og(e,0))<<2^Og(e,1))<<2^Og(e,2))<<2^Og(e,3):0}(e,t)){case 5103:return av+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return av+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return av+e+sv+e+iv+e+e;case 6828:case 4268:return av+e+iv+e+e;case 6165:return av+e+iv+"flex-"+e+e;case 5187:return av+e+Ig(e,/(\w+).+(:[^]+)/,av+"box-$1$2"+iv+"flex-$1$2")+e;case 5443:return av+e+iv+"flex-item-"+Ig(e,/flex-|-self/,"")+e;case 4675:return av+e+iv+"flex-line-pack"+Ig(e,/align-content|flex-|-self/,"")+e;case 5548:return av+e+iv+Ig(e,"shrink","negative")+e;case 5292:return av+e+iv+Ig(e,"basis","preferred-size")+e;case 6060:return av+"box-"+Ig(e,"-grow","")+av+e+iv+Ig(e,"grow","positive")+e;case 4554:return av+Ig(e,/([^-])(transform)/g,"$1"+av+"$2")+e;case 6187:return Ig(Ig(Ig(e,/(zoom-|grab)/,av+"$1"),/(image-set)/,av+"$1"),e,"")+e;case 5495:case 3959:return Ig(e,/(image-set\([^]*)/,av+"$1$`$1");case 4968:return Ig(Ig(e,/(.+:)(flex-)?(.*)/,av+"box-pack:$3"+iv+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+av+e+e;case 4095:case 3583:case 4068:case 2532:return Ig(e,/(.+)-inline(.+)/,av+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Pg(e)-1-t>6)switch(Og(e,t+1)){case 109:if(45!==Og(e,t+4))break;case 102:return Ig(e,/(.+:)(.+)-([^]+)/,"$1"+av+"$2-$3$1"+sv+(108==Og(e,t+3)?"$3":"$2-$3"))+e;case 115:return~jg(e,"stretch")?Sv(Ig(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Og(e,t+1))break;case 6444:switch(Og(e,Pg(e)-3-(~jg(e,"!important")&&10))){case 107:return Ig(e,":",":"+av)+e;case 101:return Ig(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+av+(45===Og(e,14)?"inline-":"")+"box$3$1"+av+"$2$3$1"+iv+"$2box$3")+e}break;case 5936:switch(Og(e,t+11)){case 114:return av+e+iv+Ig(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return av+e+iv+Ig(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return av+e+iv+Ig(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return av+e+iv+e+e}return e}var Ev=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case cv:e.return=Sv(e.value,e.length);break;case uv:return dv([$g(e,{value:Ig(e.value,"@","@"+av)})],r);case lv:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dv([$g(e,{props:[Ig(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return dv([$g(e,{props:[Ig(t,/:(plac\w+)/,":"+av+"input-$1")]}),$g(e,{props:[Ig(t,/:(plac\w+)/,":-moz-$1")]}),$g(e,{props:[Ig(t,/:(plac\w+)/,iv+"input-$1")]})],r)}return""}))}}],Cv=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,s=e.stylisPlugins||Ev,a={},o=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;o.push(e)}));var l,c=[_v,kv],u=[hv,fv((function(e){l.insert(e)}))],d=function(e){var t=Rg(e);return function(n,r,i,s){for(var a="",o=0;o<t;o++)a+=e[o](n,r,i,s)||"";return a}}(c.concat(s,u));i=function(e,t,n,r){l=n,function(e){dv(pv(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Sg({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return h.sheet.hydrate(o),h};var Nv=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};var Tv={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Iv(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var jv=/[A-Z]|^ms/g,Ov=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Av=function(e){return 45===e.charCodeAt(1)},Pv=function(e){return null!=e&&"boolean"!==typeof e},Rv=Iv((function(e){return Av(e)?e:e.replace(jv,"-$&").toLowerCase()})),Dv=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ov,(function(e,t,n){return Mv={name:t,styles:n,next:Mv},t}))}return 1===Tv[e]||Av(e)||"number"!==typeof t||0===t?t:t+"px"};function Lv(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return Mv={name:i.name,styles:i.styles,next:Mv},i.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)Mv={name:a.name,styles:a.styles,next:Mv},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Lv(e,t,n[i])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var o=a;null!=t&&void 0!==t[o]?r+=s+"{"+t[o]+"}":Pv(o)&&(r+=Rv(s)+":"+Dv(s,o)+";")}else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=Lv(e,t,a);switch(s){case"animation":case"animationName":r+=Rv(s)+":"+l+";";break;default:r+=s+"{"+l+"}"}}else for(var c=0;c<a.length;c++)Pv(a[c])&&(r+=Rv(s)+":"+Dv(s,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=Mv,l=n(e);return Mv=o,Lv(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var Mv,zv=/label:\s*([^\s;{]+)\s*(;|$)/g;function Fv(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Mv=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,i+=Lv(n,t,s)):i+=s[0];for(var a=1;a<e.length;a++){if(i+=Lv(n,t,e[a]),r)i+=s[a]}zv.lastIndex=0;for(var o,l="";null!==(o=zv.exec(i));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Mv}}var Uv=!!t.useInsertionEffect&&t.useInsertionEffect,Vv=Uv||function(e){return e()},Bv=(Uv||e.useLayoutEffect,e.createContext("undefined"!==typeof HTMLElement?Cv({key:"css"}):null)),$v=(Bv.Provider,function(t){return(0,e.forwardRef)((function(n,r){var i=(0,e.useContext)(Bv);return t(n,i,r)}))}),Hv=e.createContext({});var qv={}.hasOwnProperty,Wv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Gv=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Nv(t,n,r),Vv((function(){return function(e,t,n){Nv(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},Kv=$v((function(t,n,r){var i=t.css;"string"===typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var s=t[Wv],a=[i],o="";"string"===typeof t.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}(n.registered,a,t.className):null!=t.className&&(o=t.className+" ");var l=Fv(a,void 0,e.useContext(Hv));o+=n.key+"-"+l.name;var c={};for(var u in t)qv.call(t,u)&&"css"!==u&&u!==Wv&&(c[u]=t[u]);return c.className=o,r&&(c.ref=r),e.createElement(e.Fragment,null,e.createElement(Gv,{cache:n,serialized:l,isStringTag:"string"===typeof s}),e.createElement(s,c))})),Qv=Kv,Yv=(n(219),function(t,n){var r=arguments;if(null==n||!qv.call(n,"css"))return e.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Qv,s[1]=function(e,t){var n={};for(var r in t)qv.call(t,r)&&(n[r]=t[r]);return n[Wv]=e,n}(t,n);for(var a=2;a<i;a++)s[a]=r[a];return e.createElement.apply(null,s)});function Xv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fv(t)}var Jv=n(950);const Zv=Math.min,ey=Math.max,ty=Math.round,ny=Math.floor,ry=e=>({x:e,y:e});function iy(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function sy(){return"undefined"!==typeof window}function ay(e){return cy(e)?(e.nodeName||"").toLowerCase():"#document"}function oy(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ly(e){var t;return null==(t=(cy(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function cy(e){return!!sy()&&(e instanceof Node||e instanceof oy(e).Node)}function uy(e){return!!sy()&&(e instanceof Element||e instanceof oy(e).Element)}function dy(e){return!!sy()&&(e instanceof HTMLElement||e instanceof oy(e).HTMLElement)}function hy(e){return!(!sy()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof oy(e).ShadowRoot)}function fy(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=gy(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function py(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function my(e){return["html","body","#document"].includes(ay(e))}function gy(e){return oy(e).getComputedStyle(e)}function vy(e){if("html"===ay(e))return e;const t=e.assignedSlot||e.parentNode||hy(e)&&e.host||ly(e);return hy(t)?t.host:t}function yy(e){const t=vy(e);return my(t)?e.ownerDocument?e.ownerDocument.body:e.body:dy(t)&&fy(t)?t:yy(t)}function by(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=yy(e),s=i===(null==(r=e.ownerDocument)?void 0:r.body),a=oy(i);if(s){const e=wy(a);return t.concat(a,a.visualViewport||[],fy(i)?i:[],e&&n?by(e):[])}return t.concat(i,by(i,[],n))}function wy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xy(e){const t=gy(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=dy(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=ty(n)!==s||ty(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function _y(e){return uy(e)?e:e.contextElement}function ky(e){const t=_y(e);if(!dy(t))return ry(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=xy(t);let a=(s?ty(n.width):n.width)/r,o=(s?ty(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}const Sy=ry(0);function Ey(e){const t=oy(e);return py()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Sy}function Cy(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),s=_y(e);let a=ry(1);t&&(r?uy(r)&&(a=ky(r)):a=ky(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==oy(e))&&t}(s,n,r)?Ey(s):ry(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){const e=oy(s),t=r&&uy(r)?oy(r):r;let n=e,i=wy(n);for(;i&&r&&t!==n;){const e=ky(i),t=i.getBoundingClientRect(),r=gy(i),s=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=s,c+=a,n=oy(i),i=wy(n)}}return iy({width:u,height:d,x:l,y:c})}function Ny(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=_y(e),u=i||s?[...c?by(c):[],...by(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const d=c&&o?function(e,t){let n,r=null;const i=ly(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),s();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(o||t(),!d||!h)return;const f={rootMargin:-ny(u)+"px "+-ny(i.clientWidth-(c+d))+"px "+-ny(i.clientHeight-(u+h))+"px "+-ny(c)+"px",threshold:ey(0,Zv(1,l))||1};let p=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}p=!1}try{r=new IntersectionObserver(m,{...f,root:i.ownerDocument})}catch(ob){r=new IntersectionObserver(m,f)}r.observe(e)}(!0),s}(c,n):null;let h,f=-1,p=null;a&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let m=l?Cy(e):null;return l&&function t(){const r=Cy(e);!m||r.x===m.x&&r.y===m.y&&r.width===m.width&&r.height===m.height||n();m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const Ty=e.useLayoutEffect;var Iy=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],jy=function(){};function Oy(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Ay(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&s.push("".concat(Oy(e,a)));return s.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Py=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===og(e)&&null!==e?[e]:[];var t},Ry=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,dg({},mg(e,Iy))},Dy=function(e,t,n){var r=e.cx,i=e.getStyles,s=e.getClassNames,a=e.className;return{css:i(t,e),className:r(null!==n&&void 0!==n?n:{},s(t,e),a)}};function Ly(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function My(e){return Ly(e)?window.pageYOffset:e.scrollTop}function zy(e,t){Ly(e)?window.scrollTo(0,t):e.scrollTop=t}function Fy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jy,i=My(e),s=t-i,a=0;!function t(){var o=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}(a+=10,i,s,n);zy(e,o),a<n?window.requestAnimationFrame(t):r(e)}()}function Uy(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?zy(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&zy(e,Math.max(t.offsetTop-i,0))}function Vy(){try{return document.createEvent("TouchEvent"),!0}catch(ob){return!1}}var By=!1,$y={get passive(){return By=!0}},Hy="undefined"!==typeof window?window:{};Hy.addEventListener&&Hy.removeEventListener&&(Hy.addEventListener("p",jy,$y),Hy.removeEventListener("p",jy,!1));var qy=By;function Wy(e){return null!=e}function Gy(e,t,n){return e?t:n}var Ky=["children","innerProps"],Qy=["children","innerProps"];function Yy(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,s=e.shouldScroll,a=e.isFixedPosition,o=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u,d=l.getBoundingClientRect().height,h=n.getBoundingClientRect(),f=h.bottom,p=h.height,m=h.top,g=n.offsetParent.getBoundingClientRect().top,v=a?window.innerHeight:Ly(u=l)?window.innerHeight:u.clientHeight,y=My(l),b=parseInt(getComputedStyle(n).marginBottom,10),w=parseInt(getComputedStyle(n).marginTop,10),x=g-w,_=v-m,k=x+y,S=d-y-m,E=f-v+y+b,C=y+m-w,N=160;switch(i){case"auto":case"bottom":if(_>=p)return{placement:"bottom",maxHeight:t};if(S>=p&&!a)return s&&Fy(l,E,N),{placement:"bottom",maxHeight:t};if(!a&&S>=r||a&&_>=r)return s&&Fy(l,E,N),{placement:"bottom",maxHeight:a?_-b:S-b};if("auto"===i||a){var T=t,I=a?x:k;return I>=r&&(T=Math.min(I-b-o,t)),{placement:"top",maxHeight:T}}if("bottom"===i)return s&&zy(l,E),{placement:"bottom",maxHeight:t};break;case"top":if(x>=p)return{placement:"top",maxHeight:t};if(k>=p&&!a)return s&&Fy(l,C,N),{placement:"top",maxHeight:t};if(!a&&k>=r||a&&x>=r){var j=t;return(!a&&k>=r||a&&x>=r)&&(j=a?x-w:k-w),s&&Fy(l,C,N),{placement:"top",maxHeight:j}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var Xy,Jy=function(e){return"auto"===e?"bottom":e},Zy=(0,e.createContext)(null),eb=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,s=t.menuPlacement,a=t.menuPosition,o=t.menuShouldScrollIntoView,l=t.theme,c=((0,e.useContext)(Zy)||{}).setPortalPlacement,u=(0,e.useRef)(null),d=pg((0,e.useState)(i),2),h=d[0],f=d[1],p=pg((0,e.useState)(null),2),m=p[0],g=p[1],v=l.spacing.controlHeight;return Ty((function(){var e=u.current;if(e){var t="fixed"===a,n=Yy({maxHeight:i,menuEl:e,minHeight:r,placement:s,shouldScroll:o&&!t,isFixedPosition:t,controlHeight:v});f(n.maxHeight),g(n.placement),null===c||void 0===c||c(n.placement)}}),[i,s,a,o,r,c,v]),n({ref:u,placerProps:dg(dg({},t),{},{placement:m||Jy(s),maxHeight:h})})},tb=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return Yv("div",vg({},Dy(e,"menu",{menu:!0}),{ref:n},r),t)},nb=function(e,t){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return dg({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},rb=nb,ib=nb,sb=["size"],ab=["innerProps","isRtl","size"];var ob,lb,cb={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},ub=function(e){var t=e.size,n=mg(e,sb);return Yv("svg",vg({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:cb},n))},db=function(e){return Yv(ub,vg({size:20},e),Yv("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},hb=function(e){return Yv(ub,vg({size:20},e),Yv("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},fb=function(e,t){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,s=r.colors;return dg({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?s.neutral60:s.neutral20,padding:2*i,":hover":{color:n?s.neutral80:s.neutral40}})},pb=fb,mb=fb,gb=function(){var e=Xv.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Xy||(ob=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],lb||(lb=ob.slice(0)),Xy=Object.freeze(Object.defineProperties(ob,{raw:{value:Object.freeze(lb)}})))),vb=function(e){var t=e.delay,n=e.offset;return Yv("span",{css:Xv({animation:"".concat(gb," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},yb=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.innerRef,s=e.innerProps,a=e.menuIsOpen;return Yv("div",vg({ref:i},Dy(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":a}),s,{"aria-disabled":n||void 0}),t)},bb=["data"],wb=function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.getClassNames,s=e.Heading,a=e.headingProps,o=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return Yv("div",vg({},Dy(e,"group",{group:!0}),o),Yv(s,vg({},a,{selectProps:u,theme:c,getStyles:r,getClassNames:i,cx:n}),l),Yv("div",null,t))},xb=["innerRef","isDisabled","isHidden","inputClassName"],_b={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},kb={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":dg({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},_b)},Sb=function(e){return dg({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},_b)},Eb=function(e){var t=e.children,n=e.innerProps;return Yv("div",n,t)};var Cb=function(e){var t=e.children,n=e.components,r=e.data,i=e.innerProps,s=e.isDisabled,a=e.removeProps,o=e.selectProps,l=n.Container,c=n.Label,u=n.Remove;return Yv(l,{data:r,innerProps:dg(dg({},Dy(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),i),selectProps:o},Yv(c,{data:r,innerProps:dg({},Dy(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),Yv(u,{data:r,innerProps:dg(dg({},Dy(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:o}))},Nb={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return Yv("div",vg({},Dy(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||Yv(db,null))},Control:yb,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return Yv("div",vg({},Dy(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||Yv(hb,null))},DownChevron:hb,CrossIcon:db,Group:wb,GroupHeading:function(e){var t=Ry(e);t.data;var n=mg(t,bb);return Yv("div",vg({},Dy(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return Yv("div",vg({},Dy(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Yv("span",vg({},t,Dy(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=Ry(e),i=r.innerRef,s=r.isDisabled,a=r.isHidden,o=r.inputClassName,l=mg(r,xb);return Yv("div",vg({},Dy(e,"input",{"input-container":!0}),{"data-value":n||""}),Yv("input",vg({className:t({input:!0},o),ref:i,style:Sb(a),disabled:s},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,i=void 0===r?4:r,s=mg(e,ab);return Yv("div",vg({},Dy(dg(dg({},s),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Yv(vb,{delay:0,offset:n}),Yv(vb,{delay:160,offset:!0}),Yv(vb,{delay:320,offset:!n}))},Menu:tb,MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,i=e.isMulti;return Yv("div",vg({},Dy(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),t)},MenuPortal:function(t){var n=t.appendTo,r=t.children,i=t.controlElement,s=t.innerProps,a=t.menuPlacement,o=t.menuPosition,l=(0,e.useRef)(null),c=(0,e.useRef)(null),u=pg((0,e.useState)(Jy(a)),2),d=u[0],h=u[1],f=(0,e.useMemo)((function(){return{setPortalPlacement:h}}),[]),p=pg((0,e.useState)(null),2),m=p[0],g=p[1],v=(0,e.useCallback)((function(){if(i){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),t="fixed"===o?0:window.pageYOffset,n=e[d]+t;n===(null===m||void 0===m?void 0:m.offset)&&e.left===(null===m||void 0===m?void 0:m.rect.left)&&e.width===(null===m||void 0===m?void 0:m.rect.width)||g({offset:n,rect:e})}}),[i,o,d,null===m||void 0===m?void 0:m.offset,null===m||void 0===m?void 0:m.rect.left,null===m||void 0===m?void 0:m.rect.width]);Ty((function(){v()}),[v]);var y=(0,e.useCallback)((function(){"function"===typeof c.current&&(c.current(),c.current=null),i&&l.current&&(c.current=Ny(i,l.current,v,{elementResize:"ResizeObserver"in window}))}),[i,v]);Ty((function(){y()}),[y]);var b=(0,e.useCallback)((function(e){l.current=e,y()}),[y]);if(!n&&"fixed"!==o||!m)return null;var w=Yv("div",vg({ref:b},Dy(dg(dg({},t),{},{offset:m.offset,position:o,rect:m.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Yv(Zy.Provider,{value:f},n?(0,Jv.createPortal)(w,n):w)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,i=mg(e,Qy);return Yv("div",vg({},Dy(dg(dg({},i),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,i=mg(e,Ky);return Yv("div",vg({},Dy(dg(dg({},i),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:Cb,MultiValueContainer:Eb,MultiValueLabel:Eb,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Yv("div",vg({role:"button"},n),t||Yv(db,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.isSelected,s=e.innerRef,a=e.innerProps;return Yv("div",vg({},Dy(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:s,"aria-disabled":n},a),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return Yv("div",vg({},Dy(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,i=e.isRtl;return Yv("div",vg({},Dy(e,"container",{"--is-disabled":r,"--is-rtl":i}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return Yv("div",vg({},Dy(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,i=e.hasValue;return Yv("div",vg({},Dy(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),t)}},Tb=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Ib(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||Tb(r)&&Tb(i)))return!1;var r,i;return!0}for(var jb={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Ob=function(e){return Yv("span",vg({css:jb},e))},Ab={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,i=e.context,s=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,s=void 0===i?"":i,a=e.selectValue,o=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(s," focused, ").concat(u(a,n),".");if("menu"===t&&c){var d=o?" disabled":"",h="".concat(l?" selected":"").concat(d);return"".concat(s).concat(h,", ").concat(u(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},Pb=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,s=t.focusableOptions,a=t.isFocused,o=t.selectValue,l=t.selectProps,c=t.id,u=t.isAppleDevice,d=l.ariaLiveMessages,h=l.getOptionLabel,f=l.inputValue,p=l.isMulti,m=l.isOptionDisabled,g=l.isSearchable,v=l.menuIsOpen,y=l.options,b=l.screenReaderStatus,w=l.tabSelectsValue,x=l.isLoading,_=l["aria-label"],k=l["aria-live"],S=(0,e.useMemo)((function(){return dg(dg({},Ab),d||{})}),[d]),E=(0,e.useMemo)((function(){var e,t="";if(n&&S.onChange){var r=n.option,i=n.options,s=n.removedValue,a=n.removedValues,l=n.value,c=s||r||(e=l,Array.isArray(e)?null:e),u=c?h(c):"",d=i||a||void 0,f=d?d.map(h):[],p=dg({isDisabled:c&&m(c,o),label:u,labels:f},n);t=S.onChange(p)}return t}),[n,S,m,o,h]),C=(0,e.useMemo)((function(){var e="",t=r||i,n=!!(r&&o&&o.includes(r));if(t&&S.onFocus){var a={focused:t,label:h(t),isDisabled:m(t,o),isSelected:n,options:s,context:t===r?"menu":"value",selectValue:o,isAppleDevice:u};e=S.onFocus(a)}return e}),[r,i,h,m,S,s,o,u]),N=(0,e.useMemo)((function(){var e="";if(v&&y.length&&!x&&S.onFilter){var t=b({count:s.length});e=S.onFilter({inputValue:f,resultsMessage:t})}return e}),[s,f,v,S,y,b,x]),T="initial-input-focus"===(null===n||void 0===n?void 0:n.action),I=(0,e.useMemo)((function(){var e="";if(S.guidance){var t=i?"value":v?"menu":"input";e=S.guidance({"aria-label":_,context:t,isDisabled:r&&m(r,o),isMulti:p,isSearchable:g,tabSelectsValue:w,isInitialFocus:T})}return e}),[_,r,i,p,m,g,v,S,o,w,T]),j=Yv(e.Fragment,null,Yv("span",{id:"aria-selection"},E),Yv("span",{id:"aria-focused"},C),Yv("span",{id:"aria-results"},N),Yv("span",{id:"aria-guidance"},I));return Yv(e.Fragment,null,Yv(Ob,{id:c},T&&j),Yv(Ob,{"aria-live":k,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!T&&j))},Rb=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],Db=new RegExp("["+Rb.map((function(e){return e.letters})).join("")+"]","g"),Lb={},Mb=0;Mb<Rb.length;Mb++)for(var zb=Rb[Mb],Fb=0;Fb<zb.letters.length;Fb++)Lb[zb.letters[Fb]]=zb.base;var Ub=function(e){return e.replace(Db,(function(e){return Lb[e]}))},Vb=function(e,t){void 0===t&&(t=Ib);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var s=e.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return r.clear=function(){n=null},r}(Ub),Bb=function(e){return e.replace(/^\s+|\s+$/g,"")},$b=function(e){return"".concat(e.label," ").concat(e.value)},Hb=["innerRef"];function qb(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=pg(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=pg(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}(mg(e,Hb),"onExited","in","enter","exit","appear");return Yv("input",vg({ref:t},n,{css:Xv({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Wb=["boxSizing","height","overflow","paddingRight","position"],Gb={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Kb(e){e.cancelable&&e.preventDefault()}function Qb(e){e.stopPropagation()}function Yb(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Xb(){return"ontouchstart"in window||navigator.maxTouchPoints}var Jb=!("undefined"===typeof window||!window.document||!window.document.createElement),Zb=0,ew={capture:!1,passive:!1};var tw=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},nw={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function rw(t){var n=t.children,r=t.lockEnabled,i=t.captureEnabled,s=function(t){var n=t.isEnabled,r=t.onBottomArrive,i=t.onBottomLeave,s=t.onTopArrive,a=t.onTopLeave,o=(0,e.useRef)(!1),l=(0,e.useRef)(!1),c=(0,e.useRef)(0),u=(0,e.useRef)(null),d=(0,e.useCallback)((function(e,t){if(null!==u.current){var n=u.current,c=n.scrollTop,d=n.scrollHeight,h=n.clientHeight,f=u.current,p=t>0,m=d-h-c,g=!1;m>t&&o.current&&(i&&i(e),o.current=!1),p&&l.current&&(a&&a(e),l.current=!1),p&&t>m?(r&&!o.current&&r(e),f.scrollTop=d,g=!0,o.current=!0):!p&&-t>c&&(s&&!l.current&&s(e),f.scrollTop=0,g=!0,l.current=!0),g&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}}),[r,i,s,a]),h=(0,e.useCallback)((function(e){d(e,e.deltaY)}),[d]),f=(0,e.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),p=(0,e.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;d(e,t)}),[d]),m=(0,e.useCallback)((function(e){if(e){var t=!!qy&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",p,t)}}),[p,f,h]),g=(0,e.useCallback)((function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",p,!1))}),[p,f,h]);return(0,e.useEffect)((function(){if(n){var e=u.current;return m(e),function(){g(e)}}}),[n,m,g]),function(e){u.current=e}}({isEnabled:void 0===i||i,onBottomArrive:t.onBottomArrive,onBottomLeave:t.onBottomLeave,onTopArrive:t.onTopArrive,onTopLeave:t.onTopLeave}),a=function(t){var n=t.isEnabled,r=t.accountForScrollbars,i=void 0===r||r,s=(0,e.useRef)({}),a=(0,e.useRef)(null),o=(0,e.useCallback)((function(e){if(Jb){var t=document.body,n=t&&t.style;if(i&&Wb.forEach((function(e){var t=n&&n[e];s.current[e]=t})),i&&Zb<1){var r=parseInt(s.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,o=window.innerWidth-a+r||0;Object.keys(Gb).forEach((function(e){var t=Gb[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(o,"px"))}t&&Xb()&&(t.addEventListener("touchmove",Kb,ew),e&&(e.addEventListener("touchstart",Yb,ew),e.addEventListener("touchmove",Qb,ew))),Zb+=1}}),[i]),l=(0,e.useCallback)((function(e){if(Jb){var t=document.body,n=t&&t.style;Zb=Math.max(Zb-1,0),i&&Zb<1&&Wb.forEach((function(e){var t=s.current[e];n&&(n[e]=t)})),t&&Xb()&&(t.removeEventListener("touchmove",Kb,ew),e&&(e.removeEventListener("touchstart",Yb,ew),e.removeEventListener("touchmove",Qb,ew)))}}),[i]);return(0,e.useEffect)((function(){if(n){var e=a.current;return o(e),function(){l(e)}}}),[n,o,l]),function(e){a.current=e}}({isEnabled:r});return Yv(e.Fragment,null,r&&Yv("div",{onClick:tw,css:nw}),n((function(e){s(e),a(e)})))}var iw={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},sw=function(e){var t=e.name,n=e.onFocus;return Yv("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:iw,value:"",onChange:function(){}})};function aw(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function ow(){return aw(/^Mac/i)}function lw(){return aw(/^iPhone/i)||aw(/^iPad/i)||ow()&&navigator.maxTouchPoints>1}var cw={clearIndicator:mb,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.theme,s=i.colors,a=i.borderRadius;return dg({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?s.neutral5:s.neutral0,borderColor:n?s.neutral10:r?s.primary:s.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:r?s.primary:s.neutral30}})},dropdownIndicator:pb,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,i=n.spacing;return dg({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,s=r.colors;return dg({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?s.neutral10:s.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,r=e.value,i=e.theme,s=i.spacing,a=i.colors;return dg(dg({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},kb),t?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:a.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,i=e.theme,s=i.colors,a=i.spacing.baseUnit;return dg({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?s.neutral60:s.neutral20,padding:2*a})},loadingMessage:ib,menu:function(e,t){var n,r=e.placement,i=e.theme,s=i.borderRadius,a=i.spacing,o=i.colors;return dg((cg(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),cg(n,"position","absolute"),cg(n,"width","100%"),cg(n,"zIndex",1),n),t?{}:{backgroundColor:o.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return dg({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,s=n.colors;return dg({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:s.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,i=n.colors,s=e.cropWithEllipsis;return dg({overflow:"hidden",textOverflow:s||void 0===s?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,s=n.colors,a=e.isFocused;return dg({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:a?s.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},noOptionsMessage:rb,option:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,s=e.theme,a=s.spacing,o=s.colors;return dg({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?o.primary:r?o.primary25:"transparent",color:n?o.neutral20:i?o.neutral0:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?o.primary:o.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,i=n.colors;return dg({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing,s=r.colors;return dg({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?s.neutral40:s.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,i=e.hasValue,s=e.selectProps.controlShouldRenderValue;return dg({alignItems:"center",display:r&&i&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var uw,dw={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},hw={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Vy(),captureMenuScroll:!Vy(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=dg({ignoreCase:!0,ignoreAccents:!0,stringify:$b,trim:!0,matchFrom:"any"},uw),r=n.ignoreCase,i=n.ignoreAccents,s=n.stringify,a=n.trim,o=n.matchFrom,l=a?Bb(t):t,c=a?Bb(s(e)):s(e);return r&&(l=l.toLowerCase(),c=c.toLowerCase()),i&&(l=Vb(l),c=Ub(c)),"start"===o?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(ob){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function fw(e,t,n,r){return{type:"option",data:t,isDisabled:xw(e,t,n),isSelected:_w(e,t,n),label:bw(e,t),value:ww(e,t),index:r}}function pw(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return fw(e,n,t,r)})).filter((function(t){return vw(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=fw(e,n,t,r);return vw(e,s)?s:void 0})).filter(Wy)}function mw(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,kg(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function gw(e,t){return e.reduce((function(e,n){return"group"===n.type?e.push.apply(e,kg(n.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}})))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e}),[])}function vw(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,s=t.isSelected,a=t.label,o=t.value;return(!Sw(e)||!s)&&kw(e,{label:a,value:o,data:i},r)}var yw=function(e,t){var n;return(null===(n=e.find((function(e){return e.data===t})))||void 0===n?void 0:n.id)||null},bw=function(e,t){return e.getOptionLabel(t)},ww=function(e,t){return e.getOptionValue(t)};function xw(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function _w(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=ww(e,t);return n.some((function(t){return ww(e,t)===r}))}function kw(e,t,n){return!e.filterOption||e.filterOption(t,n)}var Sw=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},Ew=1,Cw=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bg(e,t)}(r,t);var n=function(e){var t=xg();return function(){var n,r=wg(e);if(t){var i=wg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _g(this,n)}}(r);function r(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=ow()||lw(),t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,i=r.onChange,s=r.name;n.name=s,t.ariaOnChange(e,n),i(e,n)},t.setValue=function(e,n,r){var i=t.props,s=i.closeMenuOnSelect,a=i.isMulti,o=i.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:o}),s&&(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,i=n.isMulti,s=n.name,a=t.state.selectValue,o=i&&t.isOptionSelected(e,a),l=t.isOptionDisabled(e,a);if(o){var c=t.getOptionValue(e);t.setValue(a.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:s});i?t.setValue([].concat(kg(a),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,i=t.getOptionValue(e),s=r.filter((function(e){return t.getOptionValue(e)!==i})),a=Gy(n,s,s[0]||null);t.onChange(a,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Gy(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],i=n.slice(0,n.length-1),s=Gy(e,i,i[0]||null);r&&t.onChange(s,{action:"pop-value",removedValue:r})},t.getFocusedOptionId=function(e){return yw(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return gw(pw(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ay.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return bw(t.props,e)},t.getOptionValue=function(e){return ww(t.props,e)},t.getStyles=function(e,n){var r=t.props.unstyled,i=cw[e](n,r);i.boxSizing="border-box";var s=t.props.styles[e];return s?s(i,n):i},t.getClassNames=function(e,n){var r,i;return null===(r=(i=t.props.classNames)[e])||void 0===r?void 0:r.call(i,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,dg(dg({},Nb),e.components);var e},t.buildCategorizedOptions=function(){return pw(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return mw(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:dg({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,r=n.isMulti,i=n.menuIsOpen;t.focusInput(),i?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Ly(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var i=Math.abs(r.clientX-t.initialTouchX),s=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=i>5||s>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return Sw(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,i=n.backspaceRemovesValue,s=n.escapeClearsValue,a=n.inputValue,o=n.isClearable,l=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,d=n.tabSelectsValue,h=n.openMenuOnFocus,f=t.state,p=f.focusedOption,m=f.focusedValue,g=f.selectValue;if(!l&&("function"!==typeof u||(u(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;t.focusValue("previous");break;case"ArrowRight":if(!r||a)return;t.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(m)t.removeValue(m);else{if(!i)return;r?t.popValue():o&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!d||!p||h&&t.isOptionSelected(p,g))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(c){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:a}),t.onMenuClose()):o&&s&&t.clearValue();break;case" ":if(a)return;if(!c){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++Ew),t.state.selectValue=Py(e.value),e.menuIsOpen&&t.state.selectValue.length){var i=t.getFocusableOptionsWithIds(),s=t.buildFocusableOptions(),a=s.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=i,t.state.focusedOption=s[a],t.state.focusedOptionId=yw(i,s[a])}return t}return function(e,t,n){t&&yg(e.prototype,t),n&&yg(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Uy(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Uy(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,s=this.buildFocusableOptions(),a="first"===e?0:s.length-1;if(!this.props.isMulti){var o=s.indexOf(r[0]);o>-1&&(a=o)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:s[a],focusedOptionId:this.getFocusedOptionId(s[a])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var s=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===i?0:-1===i?s:i-1;break;case"next":i>-1&&i<s&&(a=i+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,s=r.indexOf(n);n||(s=-1),"up"===e?i=s>0?s-1:r.length-1:"down"===e?i=(s+1)%r.length:"pageup"===e?(i=s-t)<0&&(i=0):"pagedown"===e?(i=s+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[i])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(dw):dg(dg({},dw),this.props.theme):dw}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,s=this.selectOption,a=this.setValue,o=this.props,l=o.isMulti,c=o.isRtl,u=o.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:u,selectOption:s,selectProps:o,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return xw(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return _w(this.props,e,t)}},{key:"filterOption",value:function(e,t){return kw(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var t=this.props,n=t.isDisabled,r=t.isSearchable,i=t.inputId,s=t.inputValue,a=t.tabIndex,o=t.form,l=t.menuIsOpen,c=t.required,u=this.getComponents().Input,d=this.state,h=d.inputIsHidden,f=d.ariaSelection,p=this.commonProps,m=i||this.getElementId("input"),g=dg(dg(dg({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!r&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===f||void 0===f?void 0:f.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return r?e.createElement(u,vg({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:n,isHidden:h,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:o,type:"text",value:s},g)):e.createElement(qb,vg({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:jy,onFocus:this.onInputFocus,disabled:n,tabIndex:a,inputMode:"none",form:o,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var t=this,n=this.getComponents(),r=n.MultiValue,i=n.MultiValueContainer,s=n.MultiValueLabel,a=n.MultiValueRemove,o=n.SingleValue,l=n.Placeholder,c=this.commonProps,u=this.props,d=u.controlShouldRenderValue,h=u.isDisabled,f=u.isMulti,p=u.inputValue,m=u.placeholder,g=this.state,v=g.selectValue,y=g.focusedValue,b=g.isFocused;if(!this.hasValue()||!d)return p?null:e.createElement(l,vg({},c,{key:"placeholder",isDisabled:h,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),m);if(f)return v.map((function(n,o){var l=n===y,u="".concat(t.getOptionLabel(n),"-").concat(t.getOptionValue(n));return e.createElement(r,vg({},c,{components:{Container:i,Label:s,Remove:a},isFocused:l,isDisabled:h,key:u,index:o,removeProps:{onClick:function(){return t.removeValue(n)},onTouchEnd:function(){return t.removeValue(n)},onMouseDown:function(e){e.preventDefault()}},data:n}),t.formatOptionLabel(n,"value"))}));if(p)return null;var w=v[0];return e.createElement(o,vg({},c,{data:w,isDisabled:h}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var t=this.getComponents().ClearIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,s=r.isLoading,a=this.state.isFocused;if(!this.isClearable()||!t||i||!this.hasValue()||s)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return e.createElement(t,vg({},n,{innerProps:o,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var t=this.getComponents().LoadingIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,s=r.isLoading,a=this.state.isFocused;if(!t||!s)return null;return e.createElement(t,vg({},n,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:a}))}},{key:"renderIndicatorSeparator",value:function(){var t=this.getComponents(),n=t.DropdownIndicator,r=t.IndicatorSeparator;if(!n||!r)return null;var i=this.commonProps,s=this.props.isDisabled,a=this.state.isFocused;return e.createElement(r,vg({},i,{isDisabled:s,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var t=this.getComponents().DropdownIndicator;if(!t)return null;var n=this.commonProps,r=this.props.isDisabled,i=this.state.isFocused,s={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return e.createElement(t,vg({},n,{innerProps:s,isDisabled:r,isFocused:i}))}},{key:"renderMenu",value:function(){var t=this,n=this.getComponents(),r=n.Group,i=n.GroupHeading,s=n.Menu,a=n.MenuList,o=n.MenuPortal,l=n.LoadingMessage,c=n.NoOptionsMessage,u=n.Option,d=this.commonProps,h=this.state.focusedOption,f=this.props,p=f.captureMenuScroll,m=f.inputValue,g=f.isLoading,v=f.loadingMessage,y=f.minMenuHeight,b=f.maxMenuHeight,w=f.menuIsOpen,x=f.menuPlacement,_=f.menuPosition,k=f.menuPortalTarget,S=f.menuShouldBlockScroll,E=f.menuShouldScrollIntoView,C=f.noOptionsMessage,N=f.onMenuScrollToTop,T=f.onMenuScrollToBottom;if(!w)return null;var I,j=function(n,r){var i=n.type,s=n.data,a=n.isDisabled,o=n.isSelected,l=n.label,c=n.value,f=h===s,p=a?void 0:function(){return t.onOptionHover(s)},m=a?void 0:function(){return t.selectOption(s)},g="".concat(t.getElementId("option"),"-").concat(r),v={id:g,onClick:m,onMouseMove:p,onMouseOver:p,tabIndex:-1,role:"option","aria-selected":t.isAppleDevice?void 0:o};return e.createElement(u,vg({},d,{innerProps:v,data:s,isDisabled:a,isSelected:o,key:g,label:l,type:i,value:c,isFocused:f,innerRef:f?t.getFocusedOptionRef:void 0}),t.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())I=this.getCategorizedOptions().map((function(n){if("group"===n.type){var s=n.data,a=n.options,o=n.index,l="".concat(t.getElementId("group"),"-").concat(o),c="".concat(l,"-heading");return e.createElement(r,vg({},d,{key:l,data:s,options:a,Heading:i,headingProps:{id:c,data:n.data},label:t.formatGroupLabel(n.data)}),n.options.map((function(e){return j(e,"".concat(o,"-").concat(e.index))})))}if("option"===n.type)return j(n,"".concat(n.index))}));else if(g){var O=v({inputValue:m});if(null===O)return null;I=e.createElement(l,d,O)}else{var A=C({inputValue:m});if(null===A)return null;I=e.createElement(c,d,A)}var P={minMenuHeight:y,maxMenuHeight:b,menuPlacement:x,menuPosition:_,menuShouldScrollIntoView:E},R=e.createElement(eb,vg({},d,P),(function(n){var r=n.ref,i=n.placerProps,o=i.placement,l=i.maxHeight;return e.createElement(s,vg({},d,P,{innerRef:r,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove},isLoading:g,placement:o}),e.createElement(rw,{captureEnabled:p,onTopArrive:N,onBottomArrive:T,lockEnabled:S},(function(n){return e.createElement(a,vg({},d,{innerRef:function(e){t.getMenuListRef(e),n(e)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:t.getElementId("listbox")},isLoading:g,maxHeight:l,focusedOption:h}),I)})))}));return k||"fixed"===_?e.createElement(o,vg({},d,{appendTo:k,controlElement:this.controlRef,menuPlacement:x,menuPosition:_}),R):R}},{key:"renderFormField",value:function(){var t=this,n=this.props,r=n.delimiter,i=n.isDisabled,s=n.isMulti,a=n.name,o=n.required,l=this.state.selectValue;if(o&&!this.hasValue()&&!i)return e.createElement(sw,{name:a,onFocus:this.onValueInputFocus});if(a&&!i){if(s){if(r){var c=l.map((function(e){return t.getOptionValue(e)})).join(r);return e.createElement("input",{name:a,type:"hidden",value:c})}var u=l.length>0?l.map((function(n,r){return e.createElement("input",{key:"i-".concat(r),name:a,type:"hidden",value:t.getOptionValue(n)})})):e.createElement("input",{name:a,type:"hidden",value:""});return e.createElement("div",null,u)}var d=l[0]?this.getOptionValue(l[0]):"";return e.createElement("input",{name:a,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var t=this.commonProps,n=this.state,r=n.ariaSelection,i=n.focusedOption,s=n.focusedValue,a=n.isFocused,o=n.selectValue,l=this.getFocusableOptions();return e.createElement(Pb,vg({},t,{id:this.getElementId("live-region"),ariaSelection:r,focusedOption:i,focusedValue:s,isFocused:a,selectValue:o,focusableOptions:l,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var t=this.getComponents(),n=t.Control,r=t.IndicatorsContainer,i=t.SelectContainer,s=t.ValueContainer,a=this.props,o=a.className,l=a.id,c=a.isDisabled,u=a.menuIsOpen,d=this.state.isFocused,h=this.commonProps=this.getCommonProps();return e.createElement(i,vg({},h,{className:o,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),e.createElement(n,vg({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:u}),e.createElement(s,vg({},h,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),e.createElement(r,vg({},h,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,s=t.ariaSelection,a=t.isFocused,o=t.prevWasFocused,l=t.instancePrefix,c=e.options,u=e.value,d=e.menuIsOpen,h=e.inputValue,f=e.isMulti,p=Py(u),m={};if(n&&(u!==n.value||c!==n.options||d!==n.menuIsOpen||h!==n.inputValue)){var g=d?function(e,t){return mw(pw(e,t))}(e,p):[],v=d?gw(pw(e,p),"".concat(l,"-option")):[],y=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,p):null,b=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,g);m={selectValue:p,focusedOption:b,focusedOptionId:yw(v,b),focusableOptionsWithIds:v,focusedValue:y,clearFocusValueOnUpdate:!1}}var w=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},x=s,_=a&&o;return a&&!_&&(x={value:Gy(f,p,p[0]||null),options:p,action:"initial-input-focus"},_=!o),"initial-input-focus"===(null===s||void 0===s?void 0:s.action)&&(x=null),dg(dg(dg({},m),w),{},{prevProps:e,ariaSelection:x,prevWasFocused:_})}}]),r}(e.Component);Cw.defaultProps=hw;var Nw=(0,e.forwardRef)((function(t,n){var r=function(t){var n=t.defaultInputValue,r=void 0===n?"":n,i=t.defaultMenuIsOpen,s=void 0!==i&&i,a=t.defaultValue,o=void 0===a?null:a,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,h=t.onMenuClose,f=t.onMenuOpen,p=t.value,m=mg(t,gg),g=pg((0,e.useState)(void 0!==l?l:r),2),v=g[0],y=g[1],b=pg((0,e.useState)(void 0!==c?c:s),2),w=b[0],x=b[1],_=pg((0,e.useState)(void 0!==p?p:o),2),k=_[0],S=_[1],E=(0,e.useCallback)((function(e,t){"function"===typeof u&&u(e,t),S(e)}),[u]),C=(0,e.useCallback)((function(e,t){var n;"function"===typeof d&&(n=d(e,t)),y(void 0!==n?n:e)}),[d]),N=(0,e.useCallback)((function(){"function"===typeof f&&f(),x(!0)}),[f]),T=(0,e.useCallback)((function(){"function"===typeof h&&h(),x(!1)}),[h]),I=void 0!==l?l:v,j=void 0!==c?c:w,O=void 0!==p?p:k;return dg(dg({},m),{},{inputValue:I,menuIsOpen:j,onChange:E,onInputChange:C,onMenuClose:T,onMenuOpen:N,value:O})}(t);return e.createElement(Cw,vg({ref:n},r))})),Tw=Nw;const Iw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)([]),[f,p]=(0,e.useState)(""),[m,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)([]),b=Z(),w=e=>e?"object"===typeof e&&e.seconds?new Date(1e3*e.seconds):new Date(e):new Date("1970-01-01"),x=async()=>{try{const e=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Jp&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof tm)).length,n=e.filter((e=>e instanceof em)).length;if(t>1||t>0&&n>0)throw new eo(Za.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}(gp(_m,"disponible"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Yp("orderBy",e);return nm._create(n,t)}("fecha","desc")),t=(await mm(e)).docs.map((e=>({id:e.id,...e.data()})));h(t)}catch(e){console.error("Error al cargar con orderBy, aplicando sort local:",e);const t=(await mm(gp(_m,"disponible"))).docs.map((e=>({id:e.id,...e.data()})));t.sort(((e,t)=>w(t.fecha)-w(e.fecha))),h(t)}},_=(0,e.useRef)(null),k=(0,e.useRef)(!1),S=e=>{clearTimeout(_.current),k.current=!1,_.current=setTimeout((()=>{k.current=!0,g(!0),y((t=>t.includes(e)?t:[...t,e]))}),450)},E=()=>{clearTimeout(_.current)},C=e=>{k.current?k.current=!1:(e=>{m?y((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e])):b(`/DetallePrenda/${e}`)})(e)};(0,e.useEffect)((()=>{x()}),[]),(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"proveedores"))).docs.map((e=>({id:e.id,...e.data()})));a(e)}catch(e){console.log("Error al cargar proveedores",e)}})()}),[]);const N=["Abrigos","Accesorios","Patria","Blusas","Playeras","Playeras deportivas","Conjuntos","Conjuntos deportivos","Chamarras","Sudaderas","Maxi sudaderas","Maxi vestidos","Maxi cobijas","Ensambles","Pantalones","Pants","Shorts","Infantil ni\xf1o","Infantil ni\xf1a","Medias","Leggins","Mallones","Ropa interior","Sacos","Blazers","Capas","Palazzos","Camisas","Gorros","Calzado","Chalecos","Blusones","Pijamas","Guantes","Faldas","Su\xe9teres","Overoles","Otros","Sin Categoria","Ni\xf1os uisex","Gabardinas","Vestidos"].map((e=>({value:e,label:e}))),T=s.map((e=>({value:e.proveedor,label:e.proveedor})));return(0,Mm.jsxs)("div",{className:"min-h-screen bg-pink-100",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>n(!t)}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none font-bold text-xl text-white z-50",children:"Prendas disponibles"}),(0,Mm.jsx)(Xm,{menuAbierto:t}),(0,Mm.jsx)(rg,{"menuA\xf1adir":r}),(0,Mm.jsxs)("main",{className:"pb-16 pt-10",children:[(0,Mm.jsxs)("div",{className:"flex lg:flex-row flex-col justify-between",children:[(0,Mm.jsxs)("div",{className:"lg:p-5 px-5 pt-2 flex flex-row items-center gap-2",children:[(0,Mm.jsx)("h1",{className:"font-bold lg:text-sm text-xs text-pink-800 mr-2",children:"Filtrar por:"}),(0,Mm.jsx)(Tw,{options:T,onChange:l,isClearable:!0,placeholder:"Proveedor"}),(0,Mm.jsx)(Tw,{options:N,onChange:u,isClearable:!0,placeholder:"Categor\xeda"})]}),(0,Mm.jsxs)("div",{className:"lg:p-5 px-5 pt-1 pb-2 flex flex-row items-center",children:[(0,Mm.jsx)("h1",{className:"font-bold lg:text-sm text-xs text-pink-800 mr-2",children:"B\xfasqueda:"}),(0,Mm.jsx)("input",{type:"text",placeholder:"Buscar",className:"h-10 rounded-lg p-2 border-gray-200 border-2",value:f,onChange:e=>p(e.target.value)})]})]}),m&&(0,Mm.jsxs)("div",{className:"mx-5 mb-3 px-3 py-2 rounded-lg bg-red-50 border border-red-200 text-red-700 flex items-center justify-between",children:[(0,Mm.jsxs)("span",{className:"text-sm",children:[v.length," seleccionada",1!==v.length?"s":""]}),(0,Mm.jsx)("button",{onClick:()=>{y([]),g(!1)},className:"text-xs underline hover:opacity-80",children:"Cancelar selecci\xf3n"})]}),(0,Mm.jsx)("div",{className:"productos-container bg-pink-100 grid grid-cols-2 lg:grid-cols-5 lg:gap-3 gap-3 mx-5 mb-5",children:d.filter((e=>{const t=!o||e.proveedor===o.value,n=!c||e.categoria===c.value,r=!f||(e.prenda||"").toLowerCase().includes(f.toLowerCase());return t&&n&&r})).map((e=>(0,Mm.jsxs)("div",{onClick:()=>C(e.id),onContextMenu:t=>{t.preventDefault(),g(!0),y((t=>t.includes(e.id)?t:[...t,e.id]))},onMouseDown:()=>S(e.id),onMouseUp:E,onMouseLeave:E,onTouchStart:()=>S(e.id),onTouchEnd:E,className:"producto h-auto border-2 rounded-lg shadow-xl cursor-pointer transition "+(v.includes(e.id)?"border-red-500 bg-red-100":"border-pink-200"),children:[(0,Mm.jsx)("div",{className:"lg:h-64 h-40 w-full rounded-lg overflow-hidden",children:e.fotos&&e.fotos.length>0?(0,Mm.jsx)("img",{src:e.fotos[0],alt:"Foto del producto",className:"lg:h-64 h-40 w-full object-cover"}):(0,Mm.jsx)("div",{className:"flex items-center h-full justify-center",children:(0,Mm.jsx)("p",{className:"text-center text-gray-600 font-sm",children:"Sin fotos"})})}),(0,Mm.jsxs)("div",{className:"p-2 text-pink-600",children:[(0,Mm.jsx)("p",{className:"font-bold lg:text-sm text-pink-700",children:e.prenda}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-start",children:[(0,Mm.jsxs)("p",{className:"lg:text-sm",children:["$",e.costo]}),(0,Mm.jsxs)("p",{className:"font-bold lg:text-sm ml-5 text-pink-700",children:["$",e.precio]})]}),(0,Mm.jsx)("p",{className:"lg:text-sm",children:Array.isArray(e.talla)?e.talla.join(", "):e.talla}),(0,Mm.jsx)("p",{className:"lg:text-sm",children:e.proveedor}),(0,Mm.jsx)("p",{className:"lg:text-xs",children:e.detalles})]})]},e.id)))})]}),v.length>0&&(0,Mm.jsx)("button",{onClick:async()=>{if(window.confirm(`\xbfSeguro que deseas eliminar ${v.length} prendas seleccionadas?`))try{await Promise.all(v.map((async e=>{const t=d.find((t=>t.id===e));if(t){if(t.fotos&&t.fotos.length>0){const e=t.fotos.map((async e=>{const t=(e=>{const t=e.split("/"),n=t[t.length-1].split(".")[0];return`${t[t.length-2]}/${n}`})(e);t&&await fetch("https://api.cloudinary.com/v1_1/ds4kmouua/image/destroy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_id:t,upload_preset:"malimapp"})})}));await Promise.all(e)}await vm(vp(_m,"disponible",e))}}))),alert("Prendas eliminadas con \xe9xito"),y([]),g(!1),await x()}catch(e){console.error("Error eliminando prendas:",e),alert("Error eliminando algunas prendas")}},className:"fixed bottom-20 right-5 bg-red-600 text-white p-4 rounded-full shadow-xl active:scale-95","aria-label":"Eliminar seleccionados",title:"Eliminar seleccionados",children:(0,Mm.jsx)(Hm,{size:20})}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>i(!r)})]})};const jw=function(){const[t,n]=(0,e.useState)({prenda:"",detalles:"",costo:"",precio:"",talla:[],categoria:null,proveedor:null}),[r,i]=(0,e.useState)([]),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(!1),[f,p]=(0,e.useState)([]),[m,g]=(0,e.useState)(""),[v,y]=(0,e.useState)({current:0,total:0}),b=["Abrigos","Accesorios","Patria","Blusas","Playeras","Playeras deportivas","Conjuntos","Conjuntos deportivos","Chamarras","Sudaderas","Maxi sudaderas","Maxi vestidos","Maxi cobijas","Ensambles","Pantalones","Pants","Shorts","Infantil ni\xf1o","Infantil ni\xf1a","Medias","Leggins","Mallones","Ropa interior","Sacos","Blazers","Capas","Palazzos","Camisas","Gorros","Calzado","Chalecos","Blusones","Pijamas","Guantes","Faldas","Su\xe9teres","Overoles","Otros","Sin Categoria","Ni\xf1os uisex","Gabardinas","Vestidos"].map((e=>({value:e,label:e}))),w=["(Inf 2-4)","(Inf 6-8)","(Inf 10-12)","(juv 14-16)","(XS 3-5)","(28-30)","(30-32)","(30-34)","(32-36)","(32-34)","(34-36)","(36-38)","(38-40)","(40-42)","Unitalla","(5)","(7)","(9)","(11)","(13)","(15)","(17)","(4)","(6)","(8)","(10)","(12)","(14)","(16)","(28)","(30)","(32)","(34)","(36)","(38)","(40)","(42)"].map((e=>({value:e,label:e}))),x=f.map((e=>({value:e.id,label:e.proveedor})));(0,e.useEffect)((()=>()=>{s.forEach((e=>URL.revokeObjectURL(e)))}),[s]),(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"proveedores"))).docs.map((e=>({id:e.id,...e.data()})));p(e)}catch(e){console.error("Error al cargar los proveedores",e)}})()}),[]);const _=e=>{const{name:r,value:i}=e.target;n({...t,[r]:i})},k=async(e,t)=>{try{const n=new FormData;e.forEach(((e,r)=>{const i=`malim-${Date.now()}-${t}-${r}-${e.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`;n.append("files",e,i)}));const r=new AbortController,i=setTimeout((()=>r.abort()),3e4),s=await fetch("https://malim-backend.vercel.app/api/upload",{method:"POST",body:n,mode:"cors",signal:r.signal});if(clearTimeout(i),!s.ok){const e=await s.text();throw new Error(`Error en lote ${t+1}: ${s.status} - ${e}`)}const a=await s.json();if(a&&a.urls&&Array.isArray(a.urls))return a.urls;throw new Error(`Formato de respuesta inv\xe1lido en lote ${t+1}`)}catch(n){throw console.error(`Error en lote ${t+1}:`,n),n}};return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:c,manejadorMenu:()=>{u(!c)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"A\xf1adir prenda disponible"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:c})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":d})}),v.total>0&&(0,Mm.jsxs)("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-white p-4 rounded-lg shadow-lg z-50",children:[(0,Mm.jsxs)("p",{className:"text-sm font-medium mb-2",children:["Subiendo im\xe1genes... ",v.current,"/",v.total," lotes"]}),(0,Mm.jsx)("div",{className:"w-64 bg-gray-200 rounded-full h-2",children:(0,Mm.jsx)("div",{className:"bg-pink-500 h-2 rounded-full transition-all",style:{width:v.current/v.total*100+"%"}})})]}),(0,Mm.jsx)("div",{className:"flex flex-wrap gap-2 mt-2 p-4",children:s.map(((e,t)=>(0,Mm.jsxs)("div",{className:"relative",children:[(0,Mm.jsx)("img",{src:e,alt:`preview-${t}`,className:"w-24 h-24 object-cover rounded-md shadow"}),(0,Mm.jsx)("button",{type:"button",onClick:()=>(e=>{const t=[...r],n=[...s];URL.revokeObjectURL(n[e]),t.splice(e,1),n.splice(e,1),i(t),a(n)})(t),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"\xd7"})]},t)))}),(0,Mm.jsx)("div",{className:"flex flex-center justify-center pt-10 pb-20",children:(0,Mm.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r.length>12)return void alert("\u26a0\ufe0f M\xe1ximo 12 im\xe1genes permitidas por producto");if(r.reduce(((e,t)=>e+t.size),0)>20971520)alert("\u26a0\ufe0f El tama\xf1o total de las im\xe1genes no debe exceder 20MB");else{l(!0),y({current:0,total:0});try{let e=[];if(r.length>0)try{e=await(async e=>{if(0===e.length)return[];const t=[];for(let i=0;i<e.length;i+=2)t.push(e.slice(i,i+2));const n=[];y({current:0,total:t.length});for(let i=0;i<t.length;i++)try{const e=await k(t[i],i);n.push(...e),y({current:i+1,total:t.length}),i<t.length-1&&await new Promise((e=>setTimeout(e,800)))}catch(r){throw new Error(`Fallo en lote ${i+1}/${t.length}: ${r.message}`)}return n})(r),console.log(`${e.length} im\xe1genes subidas exitosamente`)}catch(s){return alert("\u274c Error subiendo im\xe1genes: "+s.message),l(!1),void y({current:0,total:0})}const o={prenda:t.prenda,detalles:t.detalles,costo:Number(t.costo),precio:Number(t.precio),talla:t.talla,categoria:t.categoria?t.categoria.value:"",proveedor:t.proveedor?t.proveedor.label:"",fotos:e,fecha:m||(new Date).toISOString().split("T")[0],fechaCreacion:new Date};await ym(gp(_m,"disponible"),o),n({prenda:"",detalles:"",costo:"",precio:"",talla:[],categoria:null,proveedor:null}),i([]),a([]),g(""),y({current:0,total:0}),alert(`\ud83c\udf89 \xa1Prenda agregada con ${e.length} im\xe1genes!`)}catch(o){console.error("Error cr\xedtico:",o),alert("\ud83d\udca5 Error al guardar: "+o.message)}finally{l(!1)}}},className:"lg:border-2 lg:shadow-xl px-5 lg:py-2 pb-20 rounded-lg border-pink-200 mt-10 max-w-lg w-full",children:[(0,Mm.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,Mm.jsx)("input",{type:"file",id:"file",multiple:!0,onChange:e=>{const t=[...e.target.files];if(!t.length)return;i((e=>[...e,...t]));const n=t.map((e=>URL.createObjectURL(e)));a((e=>[...e,...n]))},className:"absolute opacity-0 w-0 h-0",accept:"image/*"}),(0,Mm.jsx)("label",{htmlFor:"file",className:"mt-2 inline-block py-2 px-4 bg-pink-400 text-center text-white rounded-md cursor-pointer hover:bg-pink-200",children:"\ud83d\udcf8 Elegir im\xe1genes"}),r.length>0&&(0,Mm.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[r.length," imagen(es) seleccionada(s)"]})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",htmlFor:"datePicker",children:"Fecha"}),(0,Mm.jsx)("input",{className:"w-full px-2 h-8 bg-white rounded-md shadow-sm",type:"date",id:"datePicker",value:m,onChange:e=>{const t=e.target.value;g(t)},required:!0})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-4",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Prenda:"}),(0,Mm.jsx)("input",{type:"text",name:"prenda",placeholder:"Escribe qu\xe9 prenda es",value:t.prenda,onChange:_,required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Costo:"}),(0,Mm.jsx)("input",{type:"number",name:"costo",placeholder:"Costo del proveedor",value:t.costo,onChange:_,required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Precio:"}),(0,Mm.jsx)("input",{type:"number",name:"precio",placeholder:"Precio p\xfablico",value:t.precio,onChange:_,required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Talla:"}),(0,Mm.jsx)(Tw,{options:w,value:t.talla.map((e=>({value:e,label:e}))),onChange:e=>{const r=e?e.map((e=>e.value)):[];n({...t,talla:r})},isMulti:!0,placeholder:"Seleccionar tallas"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Categor\xeda:"}),(0,Mm.jsx)(Tw,{options:b,value:t.categoria,onChange:e=>{n({...t,categoria:e})},isClearable:!0,placeholder:"Seleccionar categor\xeda"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Proveedor:"}),(0,Mm.jsx)(Tw,{options:x,value:t.proveedor,onChange:e=>{n({...t,proveedor:e})},isClearable:!0,placeholder:"Seleccionar proveedor"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Detalles:"}),(0,Mm.jsx)("input",{type:"text",name:"detalles",placeholder:"Detalles de la prenda",value:t.detalles,onChange:_,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsx)("div",{className:"flex justify-center pt-2",children:(0,Mm.jsx)("button",{type:"submit",className:"mt-2 py-2 px-4 bg-pink-400 text-white rounded-md cursor-pointer hover:bg-pink-200 disabled:opacity-50",disabled:o,children:o?`\u23f3 Subiendo... (${v.current}/${v.total})`:"\u2705 Agregar Prenda"})})]})}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{h(!d)}})]})};var Ow=n(382);const Aw=function(){const{id:t}=ee(),n=Z(),[r,i]=(0,e.useState)({prenda:"",detalles:"",costo:"",precio:"",talla:[],categoria:null,proveedor:null,fotos:[]}),[s,a]=(0,e.useState)(!1),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(!1),[f,p]=(0,e.useState)({current:0,total:0}),m="https://malim-backend.vercel.app",g=o.map((e=>({value:e.id,label:e.proveedor})));(0,e.useEffect)((()=>{(async()=>{try{const e=vp(_m,"disponible",t),n=await fm(e);if(n.exists()){const e=n.data();i({prenda:e.prenda,detalles:e.detalles,costo:e.costo,precio:e.precio,talla:e.talla,categoria:{value:e.categoria,label:e.categoria},proveedor:{value:e.proveedor,label:e.proveedor},fotos:e.fotos||[]})}}catch(e){console.error("Error al obtener la prenda:",e)}})(),(async()=>{try{const e=(await mm(gp(_m,"proveedores"))).docs.map((e=>({id:e.id,...e.data()})));l(e)}catch(e){console.error("Error al cargar los proveedores",e)}})()}),[t]);const v=async(e,t)=>{try{const n=new FormData;e.forEach(((e,r)=>{const i=`malim-${Date.now()}-${t}-${r}-${e.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`;n.append("files",e,i)}));const r=new AbortController,i=setTimeout((()=>r.abort()),3e4),s=await fetch(m+"/api/upload",{method:"POST",body:n,mode:"cors",signal:r.signal});if(clearTimeout(i),!s.ok){const e=await s.text();throw new Error(`Error en lote ${t+1}: ${s.status} - ${e}`)}const a=await s.json();if(a&&a.urls&&Array.isArray(a.urls))return a.urls;throw new Error(`Formato de respuesta inv\xe1lido en lote ${t+1}`)}catch(n){throw console.error(`Error en lote ${t+1}:`,n),n}},y=async e=>{try{if(e.includes("res.cloudinary.com")){console.log("Eliminando de Cloudinary:",e);const t=e.split("/"),n=t.indexOf("upload");let r="";if(-1!==n&&t.length>n+2){r=t[n+1].startsWith("v")?t.slice(n+2).join("/"):t.slice(n+1).join("/"),r=r.replace(/\.[^/.]+$/,"")}if(!r)return console.warn("No se pudo extraer public_id de:",e),!1;const i=await fetch("https://api.cloudinary.com/v1_1/ds4kmouua/image/destroy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_id:r,upload_preset:"malimapp"})});if(!i.ok)throw new Error(`Cloudinary error: ${i.status}`);return console.log("Imagen de Cloudinary eliminada:",r),!0}if(e.includes("r2.dev")||e.includes("pub-")){console.log("Eliminando de R2:",e);const t=`${m}/api/deleteImage`;console.log("Llamando a:",t);const n=await fetch(t,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:e})}),r=await n.json();if(!n.ok){if(404===n.status)return console.warn("Imagen no encontrada en R2, continuando:",e),!0;throw new Error(r.error||`Error R2: ${n.status}`)}if(!r.success&&!r.message.includes("no se requiere eliminaci\xf3n"))throw new Error(r.error||"Error al eliminar imagen de R2");return console.log("Imagen de R2 eliminada o no requer\xeda eliminaci\xf3n:",e,r.message),!0}return console.warn("URL de imagen no reconocida, no se elimina:",e),!0}catch(t){if(t.message.includes("no fue encontrada")||t.message.includes("not found"))return console.warn("Imagen no encontrada, continuando:",e),!0;throw console.error(`Error eliminando imagen ${e}:`,t),t}},b=e=>{const{name:t,value:n}=e.target;i({...r,[t]:n})},w=["Abrigos","Accesorios","Patria","Blusas","Playeras","Playeras deportivas","Conjuntos","Conjuntos deportivos","Chamarras","Sudaderas","Maxi sudaderas","Maxi vestidos","Maxi cobijas","Ensambles","Pantalones","Pants","Shorts","Infantil ni\xf1o","Infantil ni\xf1a","Medias","Leggins","Mallones","Ropa interior","Sacos","Blazers","Capas","Palazzos","Camisas","Gorros","Calzado","Chalecos","Blusones","Pijamas","Guantes","Faldas","Su\xe9teres","Overoles","Otros","Sin Categoria","Ni\xf1os uisex","Gabardinas","Vestidos"].map((e=>({value:e,label:e}))),x=["(Inf 2-4)","(Inf 6-8)","(Inf 10-12)","(juv 14-16)","(XS 3-5)","(28-30)","(30-32)","(30-34)","(32-36)","(32-34)","(34-36)","(36-38)","(38-40)","(40-42)","Unitalla","(5)","(7)","(9)","(11)","(13)","(15)","(17)","(4)","(6)","(8)","(10)","(12)","(14)","(16)","(28)","(30)","(32)","(34)","(36)","(38)","(40)","(42)"].map((e=>({value:e,label:e})));return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:c,manejadorMenu:()=>{u(!c)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"Detalles prenda disponible"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:c})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":d})}),f.total>0&&(0,Mm.jsxs)("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-white p-4 rounded-lg shadow-lg z-50",children:[(0,Mm.jsxs)("p",{className:"text-sm font-medium mb-2",children:["Subiendo im\xe1genes... ",f.current,"/",f.total," lotes"]}),(0,Mm.jsx)("div",{className:"w-64 bg-gray-200 rounded-full h-2",children:(0,Mm.jsx)("div",{className:"bg-pink-500 h-2 rounded-full transition-all",style:{width:f.current/f.total*100+"%"}})})]}),r.fotos.length>1?(0,Mm.jsx)(Ow.A,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,className:"w-64 pt-12 mb-5 mx-auto",children:r.fotos.map(((e,n)=>(0,Mm.jsxs)("div",{className:"relative",children:[(0,Mm.jsx)("img",{src:e,alt:`Prenda ${n}`,className:"w-auto h-64 rounded-lg"}),(0,Mm.jsx)("button",{type:"button",onClick:()=>(async e=>{if(window.confirm("\xbfSeguro que quieres eliminar esta imagen?"))try{a(!0),await y(e);const n=r.fotos.filter((t=>t!==e));i({...r,fotos:n});const s=vp(_m,"disponible",t);await gm(s,{fotos:n}),alert("Imagen eliminada con \xe9xito")}catch(n){console.error("Error al eliminar imagen individual:",n),alert("Error al eliminar la imagen: "+n.message)}finally{a(!1)}})(e),className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-md text-sm",children:"X"})]},n)))}):1===r.fotos.length?(0,Mm.jsx)("div",{className:"w-64 pt-12 mb-5 mx-auto",children:(0,Mm.jsx)("img",{src:r.fotos[0],alt:"Prenda",className:"w-auto h-64 rounded-lg"})}):null,(0,Mm.jsx)("main",{className:"pb-20 flex flex-center justify-center",children:(0,Mm.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),a(!0);const n=vp(_m,"disponible",t);try{await gm(n,{...r,categoria:r.categoria.value,proveedor:r.proveedor.value}),alert("Prenda actualizada con \xe9xito")}catch(i){console.error("Error al actualizar la prenda:",i),alert("Hubo un error al actualizar la prenda")}finally{a(!1)}},className:"lg:border-2 lg:shadow-xl px-5 lg:py-2 pb-20 mt-2 rounded-lg border-pink-200 max-w-lg w-full",children:[(0,Mm.jsxs)("div",{className:"flex flex-col justify-center my-3",children:[(0,Mm.jsx)("input",{type:"file",id:"newFiles",multiple:!0,onChange:async e=>{const n=[...e.target.files];if(!n.length)return;if(n.length>10)return void alert("\u26a0\ufe0f M\xe1ximo 10 im\xe1genes por vez");if(n.reduce(((e,t)=>e+t.size),0)>15728640)alert("\u26a0\ufe0f El tama\xf1o total de las im\xe1genes no debe exceder 15MB");else try{a(!0);const e=await(async e=>{if(0===e.length)return[];const t=[];for(let i=0;i<e.length;i+=2)t.push(e.slice(i,i+2));const n=[];p({current:0,total:t.length});for(let i=0;i<t.length;i++)try{const e=await v(t[i],i);n.push(...e),p({current:i+1,total:t.length}),i<t.length-1&&await new Promise((e=>setTimeout(e,800)))}catch(r){throw new Error(`Fallo en lote ${i+1}/${t.length}: ${r.message}`)}return n})(n),s=[...r.fotos,...e];i({...r,fotos:s});const o=vp(_m,"disponible",t);await gm(o,{fotos:s}),alert(`\u2705 ${e.length} im\xe1genes a\xf1adidas con \xe9xito`)}catch(s){alert("\u274c Error al subir im\xe1genes: "+s.message),console.error(s)}finally{a(!1),p({current:0,total:0})}},className:"absolute opacity-0 w-0 h-0"}),(0,Mm.jsx)("label",{htmlFor:"newFiles",className:"mt-2 py-2 px-4 bg-pink-700 text-center text-white rounded-md cursor-pointer hover:bg-pink-200",children:s?"Subiendo...":"A\xf1adir im\xe1genes"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Prenda:"}),(0,Mm.jsx)("input",{type:"text",name:"prenda",value:r.prenda,onChange:b,required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Costo:"}),(0,Mm.jsx)("input",{type:"number",name:"costo",value:r.costo,onChange:b,required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Precio:"}),(0,Mm.jsx)("input",{type:"number",name:"precio",placeholder:"Precio p\xfablico",value:r.precio,onChange:b,required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Talla:"}),(0,Mm.jsx)(Tw,{options:x,value:r.talla.map((e=>({value:e,label:e}))),onChange:e=>{const t=e?e.map((e=>e.value)):[];i({...r,talla:t})},isMulti:!0,placeholder:"Seleccionar tallas"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Categor\xeda:"}),(0,Mm.jsx)(Tw,{options:w,value:r.categoria,onChange:e=>{i({...r,categoria:e})},isClearable:!0,placeholder:"Seleccionar categor\xeda"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Proveedor:"}),(0,Mm.jsx)(Tw,{options:g,value:r.proveedor,onChange:e=>{i({...r,proveedor:e})},isClearable:!0,placeholder:"Seleccionar proveedor"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Detalles:"}),(0,Mm.jsx)("input",{type:"text",name:"detalles",placeholder:"Detalles de la prenda",value:r.detalles,onChange:b,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col justify-around",children:[(0,Mm.jsx)("button",{type:"submit",className:"mt-2 py-2 px-4 bg-pink-400 text-white rounded-md cursor-pointer hover:bg-pink-200",disabled:s,children:s?"Actualizando...":"Actualizar Prenda"}),(0,Mm.jsx)("button",{onClick:()=>(e=>{n(`/FormVender/${e}`)})(t),className:"mt-2 py-2 px-4 bg-pink-700 text-white rounded-md cursor-pointer hover:bg-pink-200",type:"button",children:"Vender"}),(0,Mm.jsx)("button",{className:"mt-2 py-2 px-4 bg-red-600 text-white rounded-md cursor-pointer hover:bg-pink-200",type:"button",onClick:async()=>{if(window.confirm("\xbfEst\xe1s seguro de que deseas eliminar esta prenda?"))try{a(!0),console.log("Iniciando eliminaci\xf3n de prenda:",t);const e=r.fotos.map((e=>y(e).catch((t=>(console.warn(`Error eliminando imagen ${e}:`,t.message),!0)))));await Promise.all(e),await vm(vp(_m,"disponible",t)),alert("Prenda eliminada con \xe9xito"),n("/Disponible")}catch(e){console.error("Error general al eliminar la prenda:",e),alert("Error al eliminar la prenda: "+e.message)}finally{a(!1)}},children:"Eliminar prenda"}),(0,Mm.jsx)("button",{className:"mt-2 py-2 px-4 bg-green-600 text-white rounded-md cursor-pointer hover:bg-pink-200",type:"button",onClick:()=>(e=>{const t=`https://wa.me/?text=${encodeURIComponent("Conoce nuestras prendas aqui: ")}${encodeURIComponent(`https://malim-shop.vercel.app/DetallePrenda/${e}`)}`;window.open(t,"_blank")})(t),children:"Compartir"})]})]})}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{h(!d)}})]})};const Pw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)({});return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"A\xf1adir proveedor"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsx)("main",{className:"flex flex-center justify-center pt-10",children:(0,Mm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await ym(gp(_m,"proveedores"),s),alert("Proveedor agregado con exito"),a("")}catch(t){alert("Error al agregar al proveedor")}},className:"lg:border-2 lg:shadow-xl px-5 lg:py-2 pb-20 rounded-lg border-pink-200 mt-10 max-w-lg w-full",children:[(0,Mm.jsxs)("div",{className:"flex flex-col",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Proveedor:"}),(0,Mm.jsx)("input",{className:"px-2 rounded-md h-8 shadow-sm",type:"text",name:"proveedor",onChange:e=>{const{name:t,value:n}=e.target;a({[t]:n})},placeholder:"Agrega un proveedor"})]}),(0,Mm.jsx)("button",{type:"submit",className:"mt-2 py-2 px-4 bg-pink-400 text-white rounded-md cursor-pointer hover:bg-pink-200",children:"Guardar proveedor"})]})}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})]})};var Rw=n(159),Dw=n.n(Rw);const Lw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(null),[c,u]=(0,e.useState)({x:50,y:50}),[d,h]=(0,e.useState)(.2),f=(0,e.useRef)(null),p=e=>new Promise(((t,n)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>t(r),r.onerror=e=>n(e),r.src=e})),m=(0,e.useCallback)((async()=>{if(!s.length||!o)return;const e=f.current;if(!e)return;const t=e.getContext("2d"),n=await p(s[0]),r=await p(o);e.width=n.width,e.height=n.height,t.clearRect(0,0,e.width,e.height),t.drawImage(n,0,0,e.width,e.height);const i=r.width*d,a=r.height*d;t.drawImage(r,c.x,c.y,i,a)}),[s,o,d,c]);return(0,e.useEffect)((()=>{m()}),[m]),(0,Mm.jsxs)("div",{className:"app bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"Marca de agua"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsxs)("main",{className:"flex flex-center flex-col justify-center pt-10 pb-16",children:[(0,Mm.jsxs)("div",{className:"mb-4 flex flex-col justify-center",children:[(0,Mm.jsxs)("div",{className:"flex justify-center",children:[(0,Mm.jsx)("input",{type:"file",multiple:!0,id:"file",accept:"image/*",onChange:e=>{const t=Array.from(e.target.files).map((e=>URL.createObjectURL(e)));a(t)},className:"block mb-2 absolute opacity-0 w-0 h-0"}),(0,Mm.jsx)("label",{htmlFor:"file",className:"mt-2 lg:w-1/4 w-3/4 inline-block py-2 px-4 bg-pink-400 text-center text-white rounded-md cursor-pointer hover:bg-pink-200",children:"Elegir im\xe1genes"})]}),(0,Mm.jsxs)("div",{className:"flex justify-center",children:[(0,Mm.jsx)("input",{type:"file",id:"marca",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&l(URL.createObjectURL(t))},className:"block absolute opacity-0 w-0 h-0"}),(0,Mm.jsx)("label",{htmlFor:"marca",className:"mt-2 lg:w-1/4 w-3/4 inline-block py-2 px-4 bg-pink-400 text-center text-white rounded-md cursor-pointer hover:bg-pink-200",children:"Elegir marca de agua"})]})]}),(0,Mm.jsxs)("div",{className:"mb-4 flex flex-col text-center justify-center h-full",children:[(0,Mm.jsx)("label",{className:"block mb-2",children:"Tama\xf1o de Marca de Agua:"}),(0,Mm.jsx)("div",{className:"w-full",children:(0,Mm.jsx)("input",{type:"range",className:"lg:w-1/4 w-3/4",min:"0.1",max:"1",step:"0.1",value:d,onChange:e=>h(parseFloat(e.target.value))})})]}),(0,Mm.jsx)("div",{className:"flex justify-center",children:(0,Mm.jsx)("canvas",{ref:f,className:"border border-pink-500",style:{width:"100%",maxWidth:"300px",height:"auto"}})}),(0,Mm.jsx)("div",{className:"flex justify-center",children:(0,Mm.jsx)("button",{onClick:async()=>{if(!f.current||!s.length||!o)return;const e=f.current,t=e.getContext("2d"),n=new(Dw());await Promise.all(s.map((async(r,i)=>{const s=await p(r),a=await p(o);e.width=s.width,e.height=s.height,t.clearRect(0,0,e.width,e.height),t.drawImage(s,0,0,e.width,e.height);const l=a.width*d,u=a.height*d;t.drawImage(a,c.x,c.y,l,u);const h=e.toDataURL("image/png").split(",")[1];n.file(`image_${i+1}_watermarked.png`,h,{base64:!0})})));const r=await n.generateAsync({type:"blob"}),i=document.createElement("a");i.href=URL.createObjectURL(r),i.download="watermarked_images.zip",i.click()},className:"mt-4 py-2 px-4 bg-pink-600 text-white rounded-md hover:bg-pink-400",children:"Descargar con Marca de Agua"})})]}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})]})};const Mw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(0),[f,p]=(0,e.useState)(0),{id:m}=ee(),g=s.map((e=>({value:e.id,label:e.cliente}))),[v,y]=(0,e.useState)({prenda:"",detalles:"",costo:"",precio:"",tallas:"",talla:"",categoria:"",proveedor:"",fotos:[],cliente:"",fecha:"",color:"",pago:"",lugar:"",entrega:"",comprado:!1,entregado:!1}),b=["(Inf 2-4)","(Inf 6-8)","(Inf 10-12)","(juv 14-16)","(XS 3-5)","(28-30)","(30-32)","(30-34)","(32-36)","(32-34)","(34-36)","(36-38)","(38-40)","(40-42)","Unitalla","(5)","(7)","(9)","(11)","(13)","(15)","(17)","(4)","(6)","(8)","(10)","(12)","(14)","(16)","(28)","(30)","(32)","(34)","(36)","(38)","(40)","(42)"].map((e=>({value:e,label:e}))),w=["Punto de venta","A domicilio"].map((e=>({value:e,label:e}))),x=["Tlalmanalco","San Rafael","Ameca","CDMX","Chalco","Ixtapaluca","Miraflores"].map((e=>({value:e,label:e}))),_=[{value:0,label:"Sin descuento"},...Array.from({length:20},((e,t)=>{const n=5*(t+1);return{value:n,label:`${n}%`}}))];function k(e){return 5*Math.ceil(e/5)}(0,e.useEffect)((()=>{(async()=>{try{const e=vp(_m,"disponible",m),t=await fm(e);if(t.exists()){const e=t.data();y({prenda:e.prenda,detalles:e.detalles,costo:e.costo,precio:e.precio,precioOriginal:e.precio,tallas:e.talla,categoria:e.categoria,proveedor:e.proveedor,fotos:e.fotos||[]}),p(parseFloat(e.precio)),e.fotos&&e.fotos.length>0&&u(e.fotos[0])}}catch(e){console.error("Error al obtener la prenda:",e)}})()}),[m]),(0,e.useEffect)((()=>{const e=parseFloat(d)||0,t=k(f*(e/100)),n=Math.max(f-t,0);y((e=>({...e,precio:k(n)})))}),[d,f]),(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"clientes"))).docs.map((e=>({id:e.id,...e.data()})));a(e)}catch(e){console.error("Error al cargar los proveedores",e)}})()}),[]);const S={infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,beforeChange:(e,t)=>{u(v.fotos[t])}};return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"Vender prenda"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsxs)("main",{className:"pb-16 pt-10 flex lg:flex-row flex-col justify-between",children:[(0,Mm.jsxs)("div",{className:"h-auto border-2 p-5 rounded-lg shadow-xl border-pink-200 m-10 flex justify-center flex-col lg:flex-row",children:[v.fotos.length>1?(0,Mm.jsx)(Ow.A,{...S,className:"w-64 pt-12 mb-5 mx-auto",children:v.fotos.map(((e,t)=>(0,Mm.jsx)("div",{children:(0,Mm.jsx)("img",{src:e,alt:`Prenda ${t}`,className:"w-auto h-64 rounded-lg"})},t)))}):(0,Mm.jsx)("div",{className:"w-64 pt-12 mb-5 mx-auto",children:(0,Mm.jsx)("img",{src:v.fotos[0],alt:"Prenda",className:"w-auto h-64 rounded-lg"})}),(0,Mm.jsxs)("div",{className:"lg:ml-5 lg:mt-10 mt-1",children:[(0,Mm.jsx)("p",{className:"mb-5 font-bold text-lg text-pink-700 m-2",children:v.prenda}),(0,Mm.jsx)("p",{className:"text-pink-600 m-2",children:v.proveedor}),(0,Mm.jsx)("p",{className:"text-pink-600 m-2",children:v.categoria}),(0,Mm.jsxs)("div",{className:"flex felx-row justify-between m-2",children:[(0,Mm.jsxs)("p",{className:"text-pink-600",children:["$",v.costo]}),(0,Mm.jsxs)("p",{className:"text-pink-700 font-bold",children:["$",v.precio]})]}),(0,Mm.jsx)("p",{className:"mb-5 text-pink-600 m-2",children:v.tallas}),(0,Mm.jsx)("p",{className:"text-pink-600 text-sm m-2",children:v.detalles})]})]}),(0,Mm.jsxs)("form",{onSubmit:async e=>{var t,n,r,i,s;e.preventDefault();const a={...v,cliente:(null===(t=v.cliente)||void 0===t?void 0:t.label)||"",lugar:(null===(n=v.lugar)||void 0===n?void 0:n.label)||"",entrega:(null===(r=v.entrega)||void 0===r?void 0:r.label)||"",talla:(null===(i=v.talla)||void 0===i?void 0:i.label)||"",fotos:c,pago:(null===(s=v.pago)||void 0===s?void 0:s.label)||"",comprado:!!v.comprado,entregado:!!v.entregado};try{await ym(gp(_m,"pedidos"),a),alert("Pedido agregado con \xe9xito."),(async()=>{try{const e=vp(_m,"disponible",m),t=await fm(e);if(t.exists()){const e=t.data();y({prenda:e.prenda,detalles:e.detalles,costo:e.costo,precio:e.precio,precioOriginal:e.precio,tallas:e.talla,talla:"",categoria:e.categoria,proveedor:e.proveedor,fotos:e.fotos||[],cliente:"",fecha:"",color:"",pago:0,lugar:"",entrega:"",comprado:!1,entregado:!1}),p(parseFloat(e.precio))}}catch(e){console.error("Error al obtener la prenda:",e)}})(),l(""),u("")}catch(o){alert("Hubo un error al agregar el pedido."),console.error("Error al agregar el pedido:",o)}},className:"lg:border-2 lg:shadow-xl h-auto px-5 lg:py-2 pb-20 mt-10 mr-10 rounded-lg border-pink-200 max-w-lg w-full",children:[(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",htmlFor:"datePicker",children:"Fecha"}),(0,Mm.jsx)("input",{className:"w-full px-2 h-8 bg-white rounded-md shadow-sm",type:"date",id:"datePicker",value:o,onChange:e=>{const t=e.target.value;l(t),y({...v,fecha:t})},placeholder:"Fecha"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Cliente:"}),(0,Mm.jsx)(Tw,{options:g,value:v.cliente,onChange:e=>{y({...v,cliente:e})},isClearable:!0,placeholder:"Seleccionar cliente"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Talla:"}),(0,Mm.jsx)(Tw,{options:b,value:v.talla,onChange:e=>{y({...v,talla:e})},isClearable:!0,placeholder:"Seleccionar talla"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Color:"}),(0,Mm.jsx)("input",{type:"text",name:"color",value:v.color,onChange:e=>{const{name:t,value:n}=e.target;y({...v,[t]:n})},placeholder:"Seleccionar color",required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Descuento:"}),(0,Mm.jsx)(Tw,{options:_,value:_.find((e=>e.value===parseInt(d))),onChange:e=>h((null===e||void 0===e?void 0:e.value)||0),placeholder:"Selecciona descuento",isClearable:!0})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Precio con descuento:"}),(0,Mm.jsxs)("p",{className:"px-2 py-1 bg-white rounded-md shadow-sm text-lg font-semibold text-pink-700",children:["$",v.precio]})]}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsxs)("div",{className:"flex flex-col pt-2 w-1/2 pr-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Lugar de entrega:"}),(0,Mm.jsx)(Tw,{options:x,name:"lugar",value:v.lugar,onChange:e=>{y({...v,lugar:e})},isClearable:!0,required:!0,placeholder:"Seleccionar un lugar"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2 w-1/2 pl-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Forma de entrega:"}),(0,Mm.jsx)(Tw,{options:w,name:"entrega",value:v.entrega,onChange:e=>{y({...v,entrega:e})},isClearable:!0,required:!0,placeholder:"Seleccionar una forma"})]})]}),(0,Mm.jsxs)("div",{className:"flex flex-row mt-4 mx-10 justify-between",children:[(0,Mm.jsxs)("div",{className:"flex flex-col",children:[(0,Mm.jsx)("input",{type:"checkbox",checked:v.comprado,onChange:()=>{y({...v,comprado:!v.comprado})}}),(0,Mm.jsx)("label",{className:"text-pink-800",children:"\xbfComprado?"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col",children:[(0,Mm.jsx)("input",{type:"checkbox",checked:v.entregado,onChange:()=>{y({...v,entregado:!v.entregado})}}),(0,Mm.jsx)("label",{className:"text-pink-800",children:"\xbfEntregado?"})]})]}),(0,Mm.jsx)("div",{className:"flex justify-center pt-2",children:(0,Mm.jsx)("button",{type:"submit",className:"mt-2 py-2 px-4 bg-pink-400 w-1/2 mb-5 shadow-xl text-white rounded-md cursor-pointer hover:bg-pink-200",children:"Vender"})})]})]}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})]})};const zw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(""),[f,p]=(0,e.useState)(""),[m,g]=(0,e.useState)(""),v=Z();(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"pedidos"))).docs.map((e=>({id:e.id,...e.data()})));e.sort(((e,t)=>t.fecha.localeCompare(e.fecha))),a(e)}catch(e){console.error("Error al cargar los documentos",e)}})()}),[]),(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"clientes"))).docs.map((e=>({id:e.id,...e.data()})));l(e)}catch(e){console.log("Error al cargar proveedores",e)}})()}),[]);const y=o.map((e=>({value:e.cliente,label:e.cliente})));return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"Pedidos hechos"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsxs)("main",{className:"pb-16 pt-10",children:[(0,Mm.jsxs)("div",{className:"flex lg:flex-row flex-col justify-between",children:[(0,Mm.jsxs)("div",{className:"lg:p-5 px-5 pt-2 flex flex-row items-center",children:[(0,Mm.jsx)("h1",{className:"font-bold lg:text-sm text-xs text-pink-800 mr-2",children:"Filtrar por:"}),(0,Mm.jsx)(Tw,{options:y,onChange:e=>{u(e)},isClearable:!0,placeholder:"Cliente"})]}),(0,Mm.jsxs)("div",{className:"lg:p-5 px-5 pt-2 flex flex-row items-center",children:[(0,Mm.jsx)("label",{className:"text-xs text-pink-800",children:"Desde:"}),(0,Mm.jsx)("input",{type:"date",value:f,onChange:e=>p(e.target.value),className:"h-10 w-20 rounded-lg p-2 bg-white border-gray-200 border-2"}),(0,Mm.jsx)("label",{className:"text-xs text-pink-800 ml-2",children:"Hasta:"}),(0,Mm.jsx)("input",{type:"date",value:m,onChange:e=>g(e.target.value),className:"h-10 w-20 rounded-lg p-2 border-gray-200 border-2 bg-white"})]}),(0,Mm.jsxs)("div",{className:"lg:p-5 px-5 pt-1 pb-2 flex flex-row items-center",children:[(0,Mm.jsx)("h1",{className:"font-bold lg:text-sm text-xs text-pink-800 mr-2",children:"B\xfasqueda:"}),(0,Mm.jsx)("input",{type:"text",placeholder:"Buscar",className:"h-10 rounded-lg p-2 border-gray-200 border-2",value:d,onChange:e=>{h(e.target.value)}})]})]}),(0,Mm.jsx)("div",{className:"productos-container bg-pink-100 grid grid-cols-2 lg:grid-cols-5 lg:gap-3 gap-3 mx-5 mb-5",children:s.filter((e=>{const t=!c||e.cliente===c.value,n=!d||e.prenda.toLowerCase().includes(d.toLowerCase()),r=new Date(e.fecha),i=f?new Date(f):null,s=m?new Date(m):null;return t&&n&&(!i||r>=i)&&(!s||r<=s)})).map((e=>(0,Mm.jsxs)("div",{onClick:()=>{return t=e.id,void v(`/ModificarPedido/${t}`);var t},className:"h-auto border-2 rounded-lg shadow-xl border-pink-200",children:[(0,Mm.jsxs)("div",{className:"bg-pink-400 text-white text-center h-auto w-full",children:[(0,Mm.jsx)("p",{className:"font-bold",children:e.cliente}),(0,Mm.jsx)("p",{className:"text-xs",children:e.fecha})]}),(0,Mm.jsx)("div",{className:"lg:h-64 h-40 w-full",children:e.fotos?(0,Mm.jsx)("img",{src:e.fotos,alt:"Foto del producto",className:"lg:h-64 h-40 w-full"},e.fotos):(0,Mm.jsx)("div",{className:"flex items-center h-full justify-center",children:(0,Mm.jsx)("p",{className:"text-center text-gray-600 font-sm",children:"Sin fotos disponibles"})})}),(0,Mm.jsxs)("div",{className:"p-2 text-pink-600",children:[(0,Mm.jsx)("p",{className:"font-bold lg:text-sm text-pink-700",children:e.prenda}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsx)("p",{className:"lg:text-sm",children:e.talla}),(0,Mm.jsxs)("p",{className:"font-bold lg:text-sm text-pink-700",children:["$",e.precio]})]}),(0,Mm.jsx)("p",{className:"lg:text-sm",children:e.proveedor})]})]},e.id)))})]}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})]})};const Fw=function(){const t=Z(),[n,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)(!1),[a,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(""),{id:u}=ee(),d=a.map((e=>({value:e.id,label:e.cliente}))),[h,f]=(0,e.useState)({prenda:"",detalles:"",costo:"",precio:"",tallas:"",talla:"",categoria:"",proveedor:"",fotos:[],cliente:"",fecha:"",color:"",pago:"",lugar:"",entrega:"",comprado:!1,entregado:!1}),p=["(Inf 2-4)","(Inf 6-8)","(Inf 10-12)","(juv 14-16)","(XS 3-5)","(28-30)","(30-32)","(30-34)","(32-36)","(32-34)","(34-36)","(36-38)","(38-40)","(40-42)","Unitalla","(5)","(7)","(9)","(11)","(13)","(15)","(17)","(4)","(6)","(8)","(10)","(12)","(14)","(16)","(28)","(30)","(32)","(34)","(36)","(38)","(40)","(42)"].map((e=>({value:e,label:e}))),m=["Punto de venta","A domicilio"].map((e=>({value:e,label:e}))),g=["Tlalmanalco","San Rafael","Ameca","CDMX","Chalco","Ixtapaluca","Miraflores"].map((e=>({value:e,label:e})));return(0,e.useEffect)((()=>{(async()=>{try{const e=vp(_m,"pedidos",u),t=await fm(e);if(t.exists()){const e=t.data();f({prenda:e.prenda,detalles:e.detalles,costo:e.costo,precio:e.precio,tallas:e.tallas,talla:e.talla?{value:e.talla,label:e.talla}:null,categoria:e.categoria,proveedor:e.proveedor,fotos:e.fotos,cliente:e.cliente?{value:e.cliente,label:e.cliente}:null,fecha:e.fecha,color:e.color,pago:e.pago,lugar:e.lugar?{value:e.lugar,label:e.lugar}:null,entrega:e.entrega?{value:e.entrega,label:e.entrega}:null,comprado:e.comprado,entregado:e.entregado})}}catch(e){console.error("Error al obtener la prenda:",e)}})()}),[u]),(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"clientes"))).docs.map((e=>({id:e.id,...e.data()})));o(e)}catch(e){console.error("Error al cargar los proveedores",e)}})()}),[]),(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:n,manejadorMenu:()=>{r(!n)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"Modificar pedido"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:n})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":i})}),(0,Mm.jsxs)("main",{className:"pb-16 pt-10 flex lg:flex-row justify-between flex-col",children:[(0,Mm.jsxs)("div",{className:"h-96 border-2 p-5 rounded-lg shadow-xl border-pink-200 w-full lg:w-auto lg:m-10 flex justify-center",children:[(0,Mm.jsx)("div",{className:"w-2/3 h-auto mx-auto flex justify-center",children:(0,Mm.jsx)("img",{src:h.fotos,alt:"Prenda",className:"w-auto h-auto rounded-lg"})}),(0,Mm.jsxs)("div",{className:"ml-5 mt-10",children:[(0,Mm.jsx)("p",{className:"mb-5 font-bold text-lg text-pink-700 m-2",children:h.prenda}),(0,Mm.jsx)("p",{className:"text-pink-600 m-2",children:h.proveedor}),(0,Mm.jsx)("p",{className:"text-pink-600 m-2",children:h.categoria}),(0,Mm.jsxs)("div",{className:"flex felx-row justify-between m-2",children:[(0,Mm.jsxs)("p",{className:"text-pink-600",children:["$",h.costo]}),(0,Mm.jsxs)("p",{className:"text-pink-700 font-bold",children:["$",h.precio]})]}),(0,Mm.jsx)("p",{className:"mb-5 text-pink-600 m-2",children:h.tallas}),(0,Mm.jsx)("p",{className:"text-pink-600 text-sm m-2",children:h.detalles})]})]}),(0,Mm.jsxs)("form",{onSubmit:async e=>{var t,n,r,i;e.preventDefault();const s={...h,cliente:(null===(t=h.cliente)||void 0===t?void 0:t.label)||"",lugar:(null===(n=h.lugar)||void 0===n?void 0:n.label)||"",entrega:(null===(r=h.entrega)||void 0===r?void 0:r.label)||"",talla:(null===(i=h.talla)||void 0===i?void 0:i.label)||"",pago:Number(h.pago),comprado:!!h.comprado,entregado:!!h.entregado};try{await gm(vp(_m,"pedidos",u),s),alert("Pedido actualizado con \xe9xito."),(async()=>{try{const e=vp(_m,"pedidos",u),t=await fm(e);if(t.exists()){const e=t.data();f({prenda:e.prenda,detalles:e.detalles,costo:e.costo,precio:e.precio,tallas:e.talla,talla:"",categoria:e.categoria,proveedor:e.proveedor,fotos:e.fotos||[],cliente:"",fecha:"",color:"",pago:"",lugar:"",entrega:"",comprado:!1,entregado:!1})}}catch(e){console.error("Error al obtener la prenda:",e)}})(),c("")}catch(a){alert("Hubo un error al agregar el pedido."),console.error("Error al agregar el pedido:",a)}},className:"lg:border-2 lg:shadow-xl h-auto px-5 lg:py-2 pb-20 mt-10 mr-10 rounded-lg border-pink-200 max-w-lg w-full",children:[(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",htmlFor:"datePicker",children:"Fecha"}),(0,Mm.jsx)("input",{className:"w-full px-2 h-8 bg-white rounded-md shadow-sm",type:"date",id:"datePicker",value:h.fecha,onChange:e=>{const t=e.target.value;c(t),f({...h,fecha:t})},placeholder:"Fecha"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Cliente:"}),(0,Mm.jsx)(Tw,{options:d,value:h.cliente,onChange:e=>{f({...h,cliente:e})},isClearable:!0,placeholder:"Seleccionar cliente"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Talla:"}),(0,Mm.jsx)(Tw,{options:p,value:h.talla,onChange:e=>{f({...h,talla:e})},isClearable:!0,placeholder:"Seleccionar talla"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Color:"}),(0,Mm.jsx)("input",{type:"text",name:"color",value:h.color,onChange:e=>{const{name:t,value:n}=e.target;f({...h,[t]:n})},placeholder:"Seleccionar color",required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsxs)("div",{className:"flex flex-col pt-2 w-1/2 pr-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Lugar de entrega:"}),(0,Mm.jsx)(Tw,{options:g,name:"lugar",value:h.lugar,onChange:e=>{f({...h,lugar:e})},isClearable:!0,required:!0,placeholder:"Seleccionar un lugar"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2 w-1/2 pl-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Forma de entrega:"}),(0,Mm.jsx)(Tw,{options:m,name:"entrega",value:h.entrega,onChange:e=>{f({...h,entrega:e})},isClearable:!0,required:!0,placeholder:"Seleccionar una forma"})]})]}),(0,Mm.jsxs)("div",{className:"flex flex-row mt-4 mx-10 justify-between",children:[(0,Mm.jsxs)("div",{className:"flex flex-col",children:[(0,Mm.jsx)("input",{type:"checkbox",checked:h.comprado,onChange:()=>{f({...h,comprado:!h.comprado})}}),(0,Mm.jsx)("label",{className:"text-pink-800",children:"\xbfComprado?"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col",children:[(0,Mm.jsx)("input",{type:"checkbox",checked:h.entregado,onChange:()=>{f({...h,entregado:!h.entregado})}}),(0,Mm.jsx)("label",{className:"text-pink-800",children:"\xbfEntregado?"})]})]}),(0,Mm.jsxs)("div",{className:"flex w-full flex-col pt-2",children:[(0,Mm.jsx)("div",{className:"w-full flex justify-center",children:(0,Mm.jsx)("button",{type:"submit",className:"mt-2 py-2 px-4 h-10 bg-pink-400 w-1/2 mb-5 shadow-xl text-white rounded-md cursor-pointer hover:bg-pink-200",children:"Actualizar"})}),(0,Mm.jsx)("div",{className:"w-full flex justify-center",children:(0,Mm.jsx)("button",{className:"h-10 px-4 bg-red-600 w-1/2 mb-5 shadow-xl text-white rounded-md cursor-pointer hover:bg-pink-200",type:"button",onClick:async()=>{if(window.confirm("\xbfEst\xe1s seguro de que deseas eliminar este pedido?"))try{await vm(vp(_m,"pedidos",u)),alert("Pedido eliminado con exito"),t("/Pedidos")}catch(e){console.error("Error al eliminar el pedido:",e),alert("Hubo un error al eliminar el pedido")}},children:"Eliminar pedido"})})]})]})]}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{s(!i)}})]})};const Uw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)(""),[o,l]=(0,e.useState)({cliente:"","cumplea\xf1os":"",telefono:""}),c=e=>{const{name:t,value:n}=e.target;l({...o,[t]:n})};return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"A\xf1adir cliente"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsx)("main",{className:"flex flex-center justify-center pt-10",children:(0,Mm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t={...o,cliente:o.cliente,telefono:o.telefono};try{await ym(gp(_m,"clientes"),t),alert("Cliente agregado con exito"),l({cliente:"","cumplea\xf1os":"",telefono:""}),a("")}catch(n){alert("Error al agregar al cliente")}},className:"lg:border-2 lg:shadow-xl px-5 lg:py-2 pb-20 rounded-lg border-pink-200 mt-10 max-w-lg w-full",children:[(0,Mm.jsxs)("div",{className:"flex flex-col",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Cliente:"}),(0,Mm.jsx)("input",{className:"px-2 rounded-md h-8 shadow-sm",value:o.cliente,type:"text",name:"cliente",onChange:c,placeholder:"Agrega un cliente"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Telefono:"}),(0,Mm.jsx)("input",{className:"px-2 rounded-md h-8 shadow-sm",value:o.telefono,type:"number",name:"telefono",onChange:c,placeholder:"Agrega su numero"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",htmlFor:"datePicker",children:"Fecha"}),(0,Mm.jsx)("input",{className:"w-full px-2 h-8 bg-white rounded-md shadow-sm",type:"date",id:"datePicker",value:s,onChange:e=>{const t=e.target.value;a(t),l({...o,"cumplea\xf1os":t})},placeholder:"Fecha"})]}),(0,Mm.jsx)("button",{type:"submit",className:"mt-2 py-2 px-4 bg-pink-400 text-white rounded-md cursor-pointer hover:bg-pink-200",children:"Guardar cliente"})]})}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})]})};const Vw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(0);(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"pedidos"))).docs.map((e=>({id:e.id,...e.data()}))),t=e.filter((e=>!1===e.comprado));a(t)}catch(e){console.error("Error al cargar los documentos",e)}})()}),[]),(0,e.useEffect)((()=>{const e=s.filter((e=>!1===e.pagado||void 0===e.pagado)),t=e.reduce(((e,t)=>e+Number(t.costo)),0);l(t)}),[s]);const c=s.reduce(((e,t)=>(e[t.proveedor]||(e[t.proveedor]=[]),e[t.proveedor].push(t),e)),{});return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"Prendas por comprar"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsxs)("main",{className:"pb-16 pt-10",children:[(0,Mm.jsxs)("div",{className:"flex flex-row justify-center text-center",children:[(0,Mm.jsx)("p",{className:"font-bold text-2xl text-pink-600",children:"Total:"}),(0,Mm.jsxs)("p",{className:"ml-3 font-bold text-2xl text-pink-600",children:["$",o]})]}),(0,Mm.jsx)("div",{className:"productos-container bg-pink-100 mx-5 mb-5 space-y-5",children:Object.keys(c).map((e=>{const t=c[e].filter((e=>!1===e.pagado||void 0===e.pagado)),n=t.reduce(((e,t)=>e+Number(t.costo)),0);return(0,Mm.jsxs)("div",{className:"h-auto border-2 rounded-lg shadow-xl border-pink-200 p-3",children:[(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsx)("h1",{className:"font-bold text-lg text-pink-600",children:e}),(0,Mm.jsxs)("h1",{id:"costo-proveedor",className:"font-bold text-lg text-pink-600",children:["$",n]})]}),(0,Mm.jsx)("div",{className:"flex overflow-x-auto space-x-3",children:c[e].map((e=>(0,Mm.jsxs)("div",{className:"w-4/5 lg:w-1/4 h-auto bg-pink-200 flex-shrink-0 bg-white border rounded-lg shadow-sm mb-2",children:[e.pagado&&(0,Mm.jsx)("div",{className:"w-full h-6 bg-pink-600 text-center text-white",children:"Pagado"}),(0,Mm.jsx)("div",{className:"lg:h-64 h-64 w-full",children:e.fotos?(0,Mm.jsx)("img",{src:e.fotos,alt:"Foto del producto",className:"lg:h-64 h-64 w-full object-cover"}):(0,Mm.jsx)("div",{className:"flex items-center h-full justify-center",children:(0,Mm.jsx)("p",{className:"text-center text-gray-600 font-sm",children:"Sin fotos disponibles"})})}),(0,Mm.jsxs)("div",{className:"p-2 text-pink-600",children:[(0,Mm.jsx)("p",{className:"font-bold text-pink-700",children:e.prenda}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsx)("p",{className:"",children:e.talla}),(0,Mm.jsxs)("p",{className:"font-bold lg:text-sm text-pink-700",children:["$",e.costo]})]}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsx)("p",{className:"",children:e.color}),(0,Mm.jsx)("p",{className:"",children:e.cliente})]})]}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between text-xs text-white text-center pb-2",children:[(0,Mm.jsx)("button",{className:"px-2 bg-pink-400 text-white rounded-lg mx-1 shadow-xl",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de marcar este pedido como comprado?"))try{const t=vp(_m,"pedidos",e);await gm(t,{comprado:!0}),a((t=>t.filter((t=>t.id!==e)))),alert("El pedido fue marcado como comprado.")}catch(t){console.error("Error al actualizar el pedido:",t),alert("Ocurri\xf3 un error al intentar actualizar el pedido.")}})(e.id),children:"Comprado"}),(0,Mm.jsx)("button",{className:"px-2 bg-pink-400 text-white rounded-lg mx-1 shadow-xl",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que pagaste este pedido?"))try{const t=vp(_m,"pedidos",e);await gm(t,{pagado:!0}),a((t=>t.map((t=>t.id===e?{...t,pagado:!0}:t)))),alert("El pedido fue marcado como pagado.")}catch(t){console.error("Error al actualizar el pedido:",t),alert("Ocurri\xf3 un error al intentar actualizar el pedido.")}})(e.id),children:"Pagado"}),(0,Mm.jsx)("button",{className:"px-2 bg-pink-600 text-white rounded-lg mx-1 shadow-xl",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro que quieres eliminar este pedido?"))try{await vm(vp(_m,"pedidos",e)),a((t=>t.filter((t=>t.id!==e)))),alert("El pedido fue eliminado.")}catch(t){console.error("Error al actualizar el pedido:",t),alert("Ocurri\xf3 un error al intentar actualizar el pedido.")}})(e.id),children:"Cancelado"})]})]},e.id)))})]},e)}))})]}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})]})};const Bw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(0);(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"pedidos"))).docs.map((e=>({id:e.id,...e.data()}))),t=e.filter((e=>!1===e.entregado&&"INVENTARIO"!=e.cliente));a(t)}catch(e){console.error("Error al cargar los documentos",e)}})()}),[]),(0,e.useEffect)((()=>{const e=s.reduce(((e,t)=>e+(t.precio-t.pago)),0);l(e)}),[s]);const c=s.reduce(((e,t)=>(e[t.cliente]||(e[t.cliente]=[]),e[t.cliente].push(t),e)),{});return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"Prendas por entregar"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsxs)("main",{className:"pb-16 pt-10",children:[(0,Mm.jsxs)("div",{className:"flex flex-row justify-center text-center",children:[(0,Mm.jsx)("p",{className:"font-bold text-2xl text-pink-600",children:"Total por recuperar:"}),(0,Mm.jsxs)("p",{className:"ml-3 font-bold text-2xl text-pink-600",children:["$",o]})]}),(0,Mm.jsx)("div",{className:"productos-container bg-pink-100 mx-5 mb-5 space-y-5",children:Object.keys(c).map((e=>{const t=c[e].reduce(((e,t)=>e+(t.precio-t.pago)),0);return(0,Mm.jsxs)("div",{className:"h-auto border-2 rounded-lg shadow-xl border-pink-200 p-3",children:[(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsx)("h1",{className:"font-bold text-lg text-pink-600",children:e}),(0,Mm.jsxs)("h1",{id:"costo-proveedor",className:"font-bold text-lg text-pink-600",children:["$",t]})]}),(0,Mm.jsx)("div",{className:"flex overflow-x-auto space-x-3",children:c[e].map((e=>(0,Mm.jsxs)("div",{className:"w-4/5 lg:w-1/4 h-auto flex-shrink-0 bg-pink-200 border rounded-lg shadow-sm mb-2",children:[(0,Mm.jsx)("div",{className:"lg:h-64 h-64 w-full",children:e.fotos?(0,Mm.jsx)("img",{src:e.fotos,alt:"Foto del producto",className:"lg:h-64 h-64 w-full object-cover"}):(0,Mm.jsx)("div",{className:"flex items-center h-full justify-center",children:(0,Mm.jsx)("p",{className:"text-center text-gray-600 font-sm",children:"Sin fotos disponibles"})})}),(0,Mm.jsxs)("div",{className:"p-2 text-pink-600",children:[(0,Mm.jsx)("p",{className:"font-bold lg:text-sm text-pink-700",children:e.prenda}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsx)("p",{className:"",children:e.talla}),(0,Mm.jsx)("p",{className:"lg:text-sm text-pink-700",children:e.color})]}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between mt-2",children:[(0,Mm.jsx)("p",{className:"",children:e.entrega}),(0,Mm.jsx)("p",{className:"text-pink-700",children:e.lugar})]}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsxs)("div",{className:"flex flex-col justify-center mt-2",children:[(0,Mm.jsx)("p",{className:"",children:"Precio:"}),(0,Mm.jsxs)("p",{className:"",children:["$",e.precio]})]}),(0,Mm.jsxs)("div",{className:"flex flex-col justify-center mt-2",children:[(0,Mm.jsx)("p",{className:"",children:"Pag\xf3:"}),(0,Mm.jsxs)("p",{className:"",children:["$",e.pago]})]}),(0,Mm.jsxs)("div",{className:"flex flex-col justify-center mt-2",children:[(0,Mm.jsx)("p",{className:"",children:"Resta:"}),(0,Mm.jsxs)("p",{className:"font-bold",children:["$",e.precio-e.pago]})]})]})]}),(0,Mm.jsx)("div",{className:"flex flex-row justify-center text-white text-center px-2 pb-2",children:(0,Mm.jsx)("button",{className:"px-2 bg-pink-400 text-white rounded-lg mx-2 shadow-xl",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de marcar este pedido como entregado?"))try{const t=vp(_m,"pedidos",e);await gm(t,{entregado:!0}),a((t=>t.filter((t=>t.id!==e)))),alert("El pedido fue marcado como entregado.")}catch(t){console.error("Error al actualizar el pedido:",t),alert("Ocurri\xf3 un error al intentar actualizar el pedido.")}})(e.id),children:"Entregado"})})]},e.id)))})]},e)}))})]}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})]})};const $w=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(0);(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"pedidos"))).docs.map((e=>({id:e.id,...e.data()}))),t=e.filter((e=>e.precio-e.pago>0&&"INVENTARIO"!==e.cliente));a(t)}catch(e){console.error("Error al cargar los documentos",e)}})()}),[]),(0,e.useEffect)((()=>{const e=s.reduce(((e,t)=>e+(t.precio-t.pago)),0);l(e)}),[s]);const c=s.reduce(((e,t)=>(e[t.cliente]||(e[t.cliente]=[]),e[t.cliente].push(t),e)),{}),u=Z();return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"Por cobrar"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsxs)("main",{className:"pb-16 pt-10",children:[(0,Mm.jsxs)("div",{className:"flex flex-row justify-center text-center",children:[(0,Mm.jsx)("p",{className:"font-bold text-2xl text-pink-600",children:"Total por recuperar:"}),(0,Mm.jsxs)("p",{className:"ml-3 font-bold text-2xl text-pink-600",children:["$",o]})]}),(0,Mm.jsx)("div",{className:"productos-container bg-pink-100 mx-5 mb-5 space-y-5",children:Object.keys(c).map((e=>{const t=c[e].reduce(((e,t)=>e+(t.precio-t.pago)),0);return(0,Mm.jsxs)("div",{className:"h-auto border-2 rounded-lg shadow-xl border-pink-200 p-3",children:[(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsx)("h1",{className:"font-bold text-lg text-pink-600",children:e}),(0,Mm.jsxs)("h1",{id:"costo-proveedor",className:"font-bold text-lg text-pink-600",children:["$",t]})]}),(0,Mm.jsx)("div",{className:"flex overflow-x-auto space-x-3",children:c[e].map((e=>(0,Mm.jsxs)("div",{className:"w-4/5 lg:w-1/4 h-auto flex-shrink-0 bg-pink-200 border rounded-lg shadow-sm mb-2",children:[(0,Mm.jsx)("div",{className:"lg:h-64 h-64 w-full",children:e.fotos?(0,Mm.jsx)("img",{src:e.fotos,alt:"Foto del producto",className:"lg:h-64 h-64 w-full object-cover"}):(0,Mm.jsx)("div",{className:"flex items-center h-full justify-center",children:(0,Mm.jsx)("p",{className:"text-center text-gray-600 font-sm",children:"Sin fotos disponibles"})})}),(0,Mm.jsxs)("div",{className:"p-2 text-pink-600",children:[(0,Mm.jsx)("p",{className:"font-bold text-sm text-pink-700",children:e.prenda}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsx)("p",{className:"",children:e.talla}),(0,Mm.jsx)("p",{className:"text-pink-700",children:e.color})]}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between mt-2",children:[(0,Mm.jsx)("p",{className:"",children:e.entrega}),(0,Mm.jsx)("p",{className:"text-pink-700",children:e.lugar})]}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsxs)("div",{className:"flex flex-col justify-center mt-2",children:[(0,Mm.jsx)("p",{className:"",children:"Precio:"}),(0,Mm.jsxs)("p",{className:"",children:["$",e.precio]})]}),(0,Mm.jsxs)("div",{className:"flex flex-col justify-center mt-2",children:[(0,Mm.jsx)("p",{className:"",children:"Pag\xf3:"}),(0,Mm.jsxs)("p",{className:"",children:["$",e.pago]})]}),(0,Mm.jsxs)("div",{className:"flex flex-col justify-center mt-2",children:[(0,Mm.jsx)("p",{className:"",children:"Resta:"}),(0,Mm.jsxs)("p",{className:"font-bold",children:["$",e.precio-e.pago]})]})]})]}),(0,Mm.jsx)("div",{className:"flex flex-row justify-center text-white text-center px-2 pb-2",children:(0,Mm.jsx)("button",{onClick:()=>{return t=e.id,void u(`/AgregarPago/${t}`);var t},className:"px-2 bg-pink-400 text-white rounded-lg mx-2 shadow-xl",children:"Agregar pago"})})]},e.id)))})]},e)}))})]}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})]})};const Hw=function(){var t,n;const[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)(!1),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(),[d,h]=(0,e.useState)(""),[f,p]=(0,e.useState)(0),[m,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)(null),[b,w]=(0,e.useState)(!1),[x,_]=(0,e.useState)(!1),{id:k}=ee(),[S,E]=(0,e.useState)({prenda:"",detalles:"",costo:"",precio:"",tallas:"",talla:"",categoria:"",proveedor:"",fotos:[],cliente:"",fecha:"",color:"",pago:0,lugar:"",entrega:"",comprado:!1,entregado:!1,pagos:[]}),C=e=>e?(Array.isArray(e)&&(e=e.length>0?e[0]:""),"string"!==typeof e?"":(e.startsWith("//")&&(e="https:"+e),e)):"";(0,e.useEffect)((()=>{(async()=>{try{const e=vp(_m,"pedidos",k),t=await fm(e);if(t.exists()){const e=t.data();p(e.precio),E({prenda:e.prenda||"",detalles:e.detalles||"",costo:e.costo||"",precio:e.precio||"",precioOriginal:e.precioOriginal,tallas:e.tallas||"",talla:e.talla||"",categoria:e.categoria||"",proveedor:e.proveedor||"",fotos:e.fotos||[],cliente:e.cliente||"",fecha:e.fecha||"",color:e.color||"",pago:e.pago||0,lugar:e.lugar||"",entrega:e.entrega||"",comprado:e.comprado||!1,entregado:e.entregado||!1,pagos:e.pagos||[]}),e.entregado?h("Pedido entregado"):h("Entrega pendiente")}}catch(e){console.error("Error al obtener la prenda:",e)}})()}),[k]);const N=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_(!0);try{var t;const n=document.createElement("canvas"),r=n.getContext("2d");n.width=400,n.height=650,r.fillStyle="#f5ebdd",r.fillRect(0,0,n.width,n.height);let i=30;if(S.fotos&&!m){const e=C(S.fotos);if(e){const t=new Image;if(t.crossOrigin="anonymous",t.src=e,await new Promise((e=>{t.onload=e,t.onerror=e,setTimeout(e,3e3)})),t.complete&&0!==t.naturalWidth){const e=150,s=150,a=Math.min(e/t.width,s/t.height),o=t.width*a,l=t.height*a;r.drawImage(t,(n.width-o)/2,i,o,l),i+=l+20}}}const s=new Image;s.src=ig,await new Promise((e=>{s.onload=e,s.onerror=e})),r.drawImage(s,n.width-40,10,30,30),r.font="bold 18px Arial",r.fillStyle="#9d174d",r.textAlign="center";const a={cliente:S.cliente||"Cliente",prenda:S.prenda||"",talla:S.talla||"",color:S.color||"",precioOriginal:null!==(t=S.precioOriginal)&&void 0!==t?t:S.precio,precioFinal:S.precio,saldoPendiente:Number(S.precio)-Number(S.pago),pagos:S.pagos||[],estatus:d};r.fillText(a.cliente,n.width/2,i),i+=30,r.font="16px Arial",r.fillText(a.prenda,n.width/2,i),i+=25,r.font="14px Arial",r.fillText(`Talla: ${a.talla} | Color: ${a.color}`,n.width/2,i),i+=30,r.fillText(`Precio original: $${a.precioOriginal}`,n.width/2,i),i+=25,r.font="bold 16px Arial",r.fillText(`Precio final: $${a.precioFinal}`,n.width/2,i),i+=30,r.fillStyle="#ec4899",r.fillText(`Saldo pendiente: $${a.saldoPendiente}`,n.width/2,i),i+=35,r.fillStyle="#9d174d",r.fillText(`Estado: ${a.estatus}`,n.width/2,i),i+=40,r.font="bold 16px Arial",r.fillText("PAGOS REALIZADOS",n.width/2,i),i+=30,r.font="14px Arial",r.fillStyle="#000000",a.pagos.forEach(((e,t)=>{i<n.height-20&&(r.fillText(`${e.fecha}: $${e.monto}`,n.width/2,i),i+=22)})),i+=10,r.strokeStyle="#9d174d",r.beginPath(),r.moveTo(50,i),r.lineTo(n.width-50,i),r.stroke();const o=n.toDataURL("image/jpeg",.95);if(e){const e=document.createElement("a");e.href=o,e.download=`nota-${a.cliente}-${Date.now()}.jpg`,document.body.appendChild(e),e.click(),document.body.removeChild(e)}return o}catch(n){return console.error("Error al generar imagen:",n),alert("Error al generar la nota: "+n.message),null}finally{_(!1)}},T=()=>b?(0,Mm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Mm.jsxs)("div",{className:"bg-white p-4 rounded-lg max-w-md w-full mx-auto",children:[(0,Mm.jsx)("h2",{className:"text-lg font-bold mb-4 text-pink-800",children:"Previsualizaci\xf3n de Nota"}),v?(0,Mm.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Mm.jsx)("img",{src:v,alt:"Nota de pago",className:"w-full h-auto mb-4 rounded border max-h-96 object-contain"}),(0,Mm.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[(0,Mm.jsx)("button",{onClick:()=>w(!1),className:"bg-gray-300 px-4 py-2 rounded flex-1",children:"Cerrar"}),(0,Mm.jsx)("button",{onClick:()=>window.open(v,"_blank"),className:"bg-pink-300 px-4 py-2 rounded flex-1",children:"Abrir"}),(0,Mm.jsx)("button",{onClick:()=>{const e=document.createElement("a");e.href=v,e.download=`nota-${S.cliente||"pedido"}.jpg`,e.click()},className:"bg-pink-500 text-white px-4 py-2 rounded flex-1",children:"Descargar"})]})]}):(0,Mm.jsx)("div",{className:"w-full h-40 bg-gray-100 flex items-center justify-center rounded",children:(0,Mm.jsx)("span",{className:"text-gray-500",children:"Generando nota..."})})]})}):null;return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:r,manejadorMenu:()=>{i(!r)}}),(0,Mm.jsxs)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:["Agregar pago a ",S.cliente]})]}),(0,Mm.jsx)(Xm,{menuAbierto:r}),(0,Mm.jsx)(rg,{"menuA\xf1adir":s}),(0,Mm.jsxs)("main",{className:"pb-16 pt-10 w-full flex flex-col items-center",children:[(0,Mm.jsx)("div",{id:"Nota",className:"border-2 p-3 rounded-lg shadow-xl w-full max-w-sm mx-auto border-pink-200 bg-pink-100",children:(0,Mm.jsxs)("div",{className:"flex flex-row",children:[(0,Mm.jsxs)("div",{className:"w-1/3 flex flex-col items-center",children:[!m&&S.fotos?(0,Mm.jsx)("img",{src:C(S.fotos),alt:"Prenda",crossOrigin:"anonymous",className:"rounded-lg w-full max-h-28 object-contain",onError:()=>{g(!0)}}):(0,Mm.jsx)("div",{className:"w-full h-28 bg-pink-200 flex items-center justify-center rounded-lg",children:(0,Mm.jsx)("span",{className:"text-pink-600 text-xs",children:"Sin imagen"})}),(0,Mm.jsx)("img",{src:ig,alt:"Logo",className:"w-6 h-6 mt-1",crossOrigin:"anonymous"})]}),(0,Mm.jsxs)("div",{className:"w-2/3 pl-2",children:[(0,Mm.jsx)("p",{className:"font-bold text-center text-pink-700 text-sm mb-1",children:S.cliente}),(0,Mm.jsx)("p",{className:"text-center text-pink-700 text-xs mb-1",children:S.prenda}),(0,Mm.jsxs)("p",{className:"text-pink-600 font-bold text-xs mb-1",children:["Estado: ",d]}),(0,Mm.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Mm.jsx)("span",{className:"text-pink-600 text-xs",children:S.talla}),(0,Mm.jsx)("span",{className:"text-pink-600 text-xs",children:S.color})]}),(0,Mm.jsxs)("div",{className:"grid grid-cols-3 gap-1 mb-2",children:[(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-pink-600 text-xs",children:"Precio:"}),(0,Mm.jsxs)("p",{className:"text-pink-600 text-xs",children:["$",null!==(t=S.precioOriginal)&&void 0!==t?t:S.precio]})]}),(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-pink-600 text-xs",children:"Final:"}),(0,Mm.jsxs)("p",{className:"text-pink-600 font-bold text-xs",children:["$",S.precio]})]}),(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-pink-600 text-xs",children:"Restante:"}),(0,Mm.jsxs)("p",{className:"text-pink-400 font-bold text-xs",children:["$",Number(S.precio)-Number(S.pago)]})]})]}),(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"font-bold text-center text-pink-600 text-xs mb-1",children:"Pagos"}),null===(n=S.pagos)||void 0===n?void 0:n.map(((e,t)=>(0,Mm.jsxs)("div",{className:"flex justify-between",children:[(0,Mm.jsx)("span",{className:"text-pink-600 text-xs",children:e.fecha}),(0,Mm.jsxs)("span",{className:"text-pink-600 text-xs",children:["$",e.monto]})]},t)))]})]})]})}),(0,Mm.jsx)("div",{className:"w-full flex justify-center mt-4",children:(0,Mm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t={...S,pagos:[...S.pagos,{fecha:o,monto:c}],pago:Number(S.pago)+Number(c)};t.precioOriginal||delete t.precioOriginal;try{await gm(vp(_m,"pedidos",k),t),alert("Pago agregado con \xe9xito."),l(""),u(""),E((e=>({...e,pagos:[...e.pagos,{fecha:o,monto:c}],pago:Number(e.pago)+Number(c)})))}catch(n){alert("Hubo un error al agregar el pedido."),console.error("Error al agregar el pedido:",n)}},className:"border-2 p-4 rounded-lg border-pink-200 w-full max-w-sm bg-white",children:[(0,Mm.jsxs)("div",{className:"mb-3",children:[(0,Mm.jsx)("label",{className:"block text-pink-800 font-bold mb-1",children:"Fecha de pago"}),(0,Mm.jsx)("input",{type:"date",value:o,onChange:e=>{l(e.target.value)},className:"w-full p-2 border rounded",required:!0})]}),(0,Mm.jsxs)("div",{className:"mb-4",children:[(0,Mm.jsx)("label",{className:"block text-pink-800 font-bold mb-1",children:"Monto:"}),(0,Mm.jsx)("input",{type:"number",value:c,onChange:e=>{u(Number(e.target.value))},className:"w-full p-2 border rounded",placeholder:"Monto",required:!0})]}),(0,Mm.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Mm.jsx)("button",{type:"submit",className:"bg-pink-400 text-white p-2 rounded hover:bg-pink-500 disabled:opacity-50",disabled:x,children:"Agregar pago"}),(0,Mm.jsx)("button",{type:"button",onClick:async()=>{const e=await N(!1);e&&(y(e),w(!0))},className:"bg-pink-300 text-pink-800 p-2 rounded hover:bg-pink-400 disabled:opacity-50",disabled:x,children:x?"Generando...":"Previsualizar"}),(0,Mm.jsx)("button",{type:"button",onClick:async()=>{await N(!0)},className:"bg-pink-500 text-white p-2 rounded hover:bg-pink-600 disabled:opacity-50",disabled:x,children:x?"Generando...":"Descargar nota"})]})]})})]}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{a(!s)}}),(0,Mm.jsx)(T,{})]})};const qw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(0),c=Z(),[u,d]=(0,e.useState)("");return(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"pedidos"))).docs.map((e=>({id:e.id,...e.data()}))),t=e.filter((e=>"INVENTARIO"===e.cliente));a(t)}catch(e){console.error("Error al cargar los documentos",e)}})()}),[]),(0,e.useEffect)((()=>{const e=s.filter((e=>"INVENTARIO"===e.cliente)),t=e.reduce(((e,t)=>e+t.precio),0);l(t)}),[s]),(0,Mm.jsxs)("div",{className:"min-h-screen bg-pink-100",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none font-bold text-xl text-white z-50",children:"Inventario"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsxs)("main",{className:"pb-16 pt-10",children:[(0,Mm.jsxs)("div",{className:"flex flex-row justify-center text-center",children:[(0,Mm.jsx)("p",{className:"font-bold text-2xl text-pink-600",children:"Total:"}),(0,Mm.jsxs)("p",{className:"ml-3 font-bold text-2xl text-pink-600",children:["$",o]})]}),(0,Mm.jsx)("div",{className:"flex lg:flex-row flex-col justify-end",children:(0,Mm.jsxs)("div",{className:"lg:p-5 px-5 pt-1 pb-2 flex flex-row items-center",children:[(0,Mm.jsx)("h1",{className:"font-bold lg:text-sm text-xs text-pink-800 mr-2",children:"B\xfasqueda:"}),(0,Mm.jsx)("input",{type:"text",placeholder:"Buscar",className:"h-10 rounded-lg p-2 border-gray-200 border-2",value:u,onChange:e=>{d(e.target.value)}})]})}),(0,Mm.jsx)("div",{className:"productos-container bg-pink-100 grid grid-cols-2 lg:grid-cols-5 lg:gap-3 gap-3 mx-5 mb-5",children:s.filter((e=>!u||e.prenda.toLowerCase().includes(u.toLowerCase()))).map((e=>(0,Mm.jsxs)("div",{onClick:()=>{return t=e.id,void c(`/FormVenderInventario/${t}`);var t},className:"producto h-auto border-2 rounded-lg shadow-xl border-pink-200",children:[(0,Mm.jsx)("div",{className:"lg:h-64 h-40 w-full rounded-lg",children:e.fotos&&e.fotos.length>0?(0,Mm.jsx)("img",{src:e.fotos,alt:"Foto del producto",className:"lg:h-64 h-40 w-full"},e.fotos):(0,Mm.jsx)("div",{className:"flex items-center h-full justify-center",children:(0,Mm.jsx)("p",{className:"text-center text-gray-600 font-sm",children:"Sin fotos disponibles"})})}),(0,Mm.jsxs)("div",{className:"p-2 text-pink-600",children:[(0,Mm.jsx)("p",{className:"font-bold lg:text-sm text-pink-700",children:e.prenda}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-start",children:[(0,Mm.jsxs)("p",{className:"lg:text-sm",children:["$",e.costo]}),(0,Mm.jsxs)("p",{className:"font-bold lg:text-sm ml-5 text-pink-700",children:["$",e.precio]})]}),(0,Mm.jsx)("p",{className:"lg:text-sm",children:e.talla}),(0,Mm.jsx)("p",{className:"lg:text-sm",children:e.proveedor}),(0,Mm.jsx)("p",{className:"lg:text-xs",children:e.detalles})]})]},e.id)))})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})})]})};const Ww=function(){const t=Z(),[n,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)(!1),[a,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(""),{id:u}=ee(),d=a.map((e=>({value:e.id,label:e.cliente}))),[h,f]=(0,e.useState)({prenda:"",detalles:"",costo:"",precio:"",tallas:"",talla:"",categoria:"",proveedor:"",fotos:[],cliente:"",fecha:"",color:"",pago:"",lugar:"",entrega:"",comprado:!1,entregado:!1}),p=["(Inf 2-4)","(Inf 6-8)","(Inf 10-12)","(juv 14-16)","(XS 3-5)","(28-30)","(30-32)","(30-34)","(32-36)","(32-34)","(34-36)","(36-38)","(38-40)","(40-42)","Unitalla","(5)","(7)","(9)","(11)","(13)","(15)","(17)","(4)","(6)","(8)","(10)","(12)","(14)","(16)","(28)","(30)","(32)","(34)","(36)","(38)","(40)","(42)"].map((e=>({value:e,label:e}))),m=["Punto de venta","A domicilio"].map((e=>({value:e,label:e}))),g=["Tlalmanalco","San Rafael","Ameca","CDMX","Chalco","Ixtapaluca","Miraflores"].map((e=>({value:e,label:e})));(0,e.useEffect)((()=>{(async()=>{try{const e=vp(_m,"pedidos",u),t=await fm(e);if(t.exists()){const e=t.data();f({prenda:e.prenda,detalles:e.detalles,costo:e.costo,precio:e.precio,tallas:e.tallas,talla:e.talla?{value:e.talla,label:e.talla}:null,categoria:e.categoria,proveedor:e.proveedor,fotos:e.fotos,cliente:e.cliente?{value:e.cliente,label:e.cliente}:null,fecha:e.fecha,color:e.color,pago:e.pago,lugar:e.lugar?{value:e.lugar,label:e.lugar}:null,entrega:e.entrega?{value:e.entrega,label:e.entrega}:null,comprado:e.comprado,entregado:e.entregado})}}catch(e){console.error("Error al obtener la prenda:",e)}})()}),[u]),(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"clientes"))).docs.map((e=>({id:e.id,...e.data()})));o(e)}catch(e){console.error("Error al cargar los proveedores",e)}})()}),[]);const v=e=>{const{name:t,value:n}=e.target;f({...h,[t]:n})};return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:n,manejadorMenu:()=>{r(!n)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"Vender desde inventario"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:n})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":i})}),(0,Mm.jsxs)("main",{className:"pb-16 pt-10 flex lg:flex-row flex-col justify-between",children:[(0,Mm.jsxs)("div",{className:"h-96 border-2 p-5 rounded-lg shadow-xl border-pink-200 lg:m-10 flex w-full lg:w-auto justify-center",children:[(0,Mm.jsx)("div",{className:"lg:w-2/3 h-auto mx-auto flex justify-center",children:(0,Mm.jsx)("img",{src:h.fotos,alt:"Prenda",className:"w-auto h-auto rounded-lg"})}),(0,Mm.jsxs)("div",{className:"ml-5 mt-10",children:[(0,Mm.jsx)("p",{className:"mb-5 font-bold text-lg text-pink-700 m-2",children:h.prenda}),(0,Mm.jsx)("p",{className:"text-pink-600 m-2",children:h.proveedor}),(0,Mm.jsx)("p",{className:"text-pink-600 m-2",children:h.categoria}),(0,Mm.jsxs)("div",{className:"flex felx-row justify-between m-2",children:[(0,Mm.jsxs)("p",{className:"text-pink-600",children:["$",h.costo]}),(0,Mm.jsxs)("p",{className:"text-pink-700 font-bold",children:["$",h.precio]})]}),(0,Mm.jsx)("p",{className:"mb-5 text-pink-600 m-2",children:h.tallas}),(0,Mm.jsx)("p",{className:"text-pink-600 text-sm m-2",children:h.detalles})]})]}),(0,Mm.jsxs)("form",{onSubmit:async e=>{var n,r,i,s;e.preventDefault();const a={...h,cliente:(null===(n=h.cliente)||void 0===n?void 0:n.label)||"",lugar:(null===(r=h.lugar)||void 0===r?void 0:r.label)||"",entrega:(null===(i=h.entrega)||void 0===i?void 0:i.label)||"",talla:(null===(s=h.talla)||void 0===s?void 0:s.label)||"",pago:Number(h.pago),comprado:!!h.comprado,entregado:!!h.entregado};try{await gm(vp(_m,"pedidos",u),a),alert("Prenda vendida con \xe9xito."),t("/Inventario")}catch(o){alert("Hubo un error al agregar el pedido."),console.error("Error al agregar el pedido:",o)}},className:"lg:border-2 lg:shadow-xl h-auto px-5 lg:py-2 pb-20 mt-10 mr-10 rounded-lg border-pink-200 max-w-lg w-full",children:[(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",htmlFor:"datePicker",children:"Fecha"}),(0,Mm.jsx)("input",{className:"w-full px-2 h-8 bg-white rounded-md shadow-sm",type:"date",id:"datePicker",value:h.fecha,onChange:e=>{const t=e.target.value;c(t),f({...h,fecha:t})},placeholder:"Fecha"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Cliente:"}),(0,Mm.jsx)(Tw,{options:d,value:h.cliente,onChange:e=>{f({...h,cliente:e})},isClearable:!0,placeholder:"Seleccionar cliente"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Talla:"}),(0,Mm.jsx)(Tw,{options:p,value:h.talla,onChange:e=>{f({...h,talla:e})},isClearable:!0,placeholder:"Seleccionar talla"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Color:"}),(0,Mm.jsx)("input",{type:"text",name:"color",value:h.color,onChange:v,placeholder:"Seleccionar color",required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Pago:"}),(0,Mm.jsx)("input",{name:"pago",type:"number",value:h.pago,onChange:v,placeholder:"\xbfCuanto ha pagado?",required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsxs)("div",{className:"flex flex-col pt-2 w-1/2 pr-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Lugar de entrega:"}),(0,Mm.jsx)(Tw,{options:g,name:"lugar",value:h.lugar,onChange:e=>{f({...h,lugar:e})},isClearable:!0,required:!0,placeholder:"Seleccionar un lugar"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2 w-1/2 pl-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Forma de entrega:"}),(0,Mm.jsx)(Tw,{options:m,name:"entrega",value:h.entrega,onChange:e=>{f({...h,entrega:e})},isClearable:!0,required:!0,placeholder:"Seleccionar una forma"})]})]}),(0,Mm.jsxs)("div",{className:"flex flex-row mt-4 mx-10 justify-between",children:[(0,Mm.jsxs)("div",{className:"flex flex-col",children:[(0,Mm.jsx)("input",{type:"checkbox",checked:h.comprado,onChange:()=>{f({...h,comprado:!h.comprado})}}),(0,Mm.jsx)("label",{className:"text-pink-800",children:"\xbfComprado?"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col",children:[(0,Mm.jsx)("input",{type:"checkbox",checked:h.entregado,onChange:()=>{f({...h,entregado:!h.entregado})}}),(0,Mm.jsx)("label",{className:"text-pink-800",children:"\xbfEntregado?"})]})]}),(0,Mm.jsxs)("div",{className:"flex w-full flex-col pt-2",children:[(0,Mm.jsx)("div",{className:"w-full flex justify-center",children:(0,Mm.jsx)("button",{type:"submit",className:"mt-2 py-2 px-4 h-10 bg-pink-400 w-1/2 mb-5 shadow-xl text-white rounded-md cursor-pointer hover:bg-pink-200",children:"Vender"})}),(0,Mm.jsx)("div",{className:"w-full flex justify-center",children:(0,Mm.jsx)("button",{className:"h-10 px-4 bg-red-600 w-1/2 mb-5 shadow-xl text-white rounded-md cursor-pointer hover:bg-pink-200",type:"button",onClick:async()=>{if(window.confirm("\xbfEst\xe1s seguro de que deseas eliminar este pedido?"))try{await vm(vp(_m,"pedidos",u)),alert("Prenda eliminada con exito"),t("/Pedidos")}catch(e){console.error("Error al eliminar el pedido:",e),alert("Hubo un error al eliminar el pedido")}},children:"Eliminar pedido"})})]})]})]}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{s(!i)}})]})};const Gw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)("");console.log("Hola"),(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"pedidos"))).docs.map((e=>({id:e.id,...e.data()})));e.sort(((e,t)=>t.fecha.localeCompare(e.fecha))),a(e)}catch(e){console.error("Error al cargar los documentos",e)}})()}),[]);const d=()=>s.filter((e=>{const t=new Date(e.fecha),n=o?new Date(o):null,r=c?new Date(c):null;return(!n||t>=n)&&(!r||t<=r)})),h=()=>Object.values(s).filter((e=>Array.isArray(e.pagos))).flatMap((e=>e.pagos)).filter((e=>{const t=new Date(e.fecha),n=o?new Date(o):null,r=c?new Date(c):null;return(!n||t>=n)&&(!r||t<=r)})).reduce(((e,t)=>e+t.monto),0),f=()=>d().filter((e=>e.pagado||e.comprado)).reduce(((e,t)=>e+t.costo),0),p=()=>{const e=d().filter((e=>"INVENTARIO"!==e.cliente)),t=e.reduce(((e,t)=>(e[t.cliente]=(e[t.cliente]||0)+1,e)),{});let n="",r=0;for(const l in t)t[l]>r&&(r=t[l],n=l);const i=e.filter((e=>e.cliente===n)),s=i.reduce(((e,t)=>e+t.precio),0),a=i.reduce(((e,t)=>e+(t.precio-t.costo)),0),o=Object.keys(t);return{cliente:n,prendas:r,ingresosTotales:s,utilidad:a,cantidadClientes:o.length}},m=()=>{const e=s.filter((e=>"INVENTARIO"===e.cliente)),t=e.reduce(((e,t)=>e+t.precio),0),n=e.reduce(((e,t)=>e+t.costo),0);return{suma:t,cantidad:e.length,inversion:n}};return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"Estad\xedsticas"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsxs)("main",{className:"pb-16 pt-10",children:[(0,Mm.jsx)("div",{className:"flex justify-center w-full",children:(0,Mm.jsxs)("div",{className:"lg:p-5 px-5 pt-2 flex flex-row items-center",children:[(0,Mm.jsx)("label",{className:"text-xs text-pink-800",children:"Desde:"}),(0,Mm.jsx)("input",{type:"date",value:o,onChange:e=>l(e.target.value),className:"h-10 w-20 rounded-lg p-2 bg-white border-gray-200 border-2"}),(0,Mm.jsx)("label",{className:"text-xs text-pink-800 ml-2",children:"Hasta:"}),(0,Mm.jsx)("input",{type:"date",value:c,onChange:e=>u(e.target.value),className:"h-10 w-20 rounded-lg p-2 border-gray-200 border-2 bg-white"})]})}),(0,Mm.jsxs)("div",{className:"grid lg:grid-cols-2 grid-cols-1",children:[(0,Mm.jsxs)("div",{className:"bg-pink-400 z-0 mx-5 mt-2 p-2 h-64 shadow-xl text-center rounded-lg ",children:[(0,Mm.jsx)("h1",{className:"text-pink-800 text-lg font-bold mt-3 mb-2",children:"Generales"}),(0,Mm.jsxs)("div",{className:"grid grid-cols-2 gap-4 m-5",children:[(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-center leading-none text-white",children:"Ventas del periodo:"}),(0,Mm.jsx)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:d().length})]}),(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-center leading-none text-white",children:"Inversi\xf3n necesaria:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",(()=>{const e=s.filter((e=>!1===e.pagado||void 0===e.pagado)),t=e.filter((e=>!1===e.comprado));return t.reduce(((e,t)=>e+t.costo),0)})()]})]}),(0,Mm.jsxs)("div",{className:"mt-5",children:[(0,Mm.jsx)("p",{className:"text-center leading-none text-white",children:"Por cobrar:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",(()=>{const e=s.filter((e=>"INVENTARIO"!==e.cliente));return e.reduce(((e,t)=>e+(t.precio-t.pago)),0)})()]})]}),(0,Mm.jsxs)("div",{className:"mt-5",children:[(0,Mm.jsx)("p",{className:"text-center leading-none text-white",children:"Utilidad del periodo:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",d().reduce(((e,t)=>e+(t.precio-t.costo)),0)]})]})]})]}),(0,Mm.jsxs)("div",{className:"bg-pink-100 z-0 mx-5 mt-2 p-2 h-64 shadow-xl text-center rounded-lg border-pink-400 border-2",children:[(0,Mm.jsx)("h1",{className:"text-pink-800 text-lg font-bold mt-3 mb-2",children:"Finanzas"}),(0,Mm.jsxs)("div",{className:"grid grid-cols-2 gap-4 m-5",children:[(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-center text-pink-600 leading-none text-white",children:"Ingresos del periodo:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",h()]})]}),(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-center text-pink-600 leading-none text-white",children:"Inversi\xf3n del periodo:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",f()]})]}),(0,Mm.jsxs)("div",{className:"mt-5",children:[(0,Mm.jsx)("p",{className:"text-center text-pink-600 leading-none text-white",children:"Utilidad bruta:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",h()-f()]})]}),(0,Mm.jsxs)("div",{className:"mt-5",children:[(0,Mm.jsx)("p",{className:"text-center text-pink-600 leading-none text-white",children:"Margen de utilidad:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["%",Math.floor((h()-f())/h()*100)]})]})]})]}),(0,Mm.jsxs)("div",{className:"lg:bg-pink-100 bg-pink-400 z-0 mx-5 mt-2 p-2 h-64 shadow-xl text-center rounded-lg lg:border-pink-400 border-2",children:[(0,Mm.jsx)("h1",{className:"text-pink-800 text-lg font-bold mt-3 mb-2",children:"Mejor cliente"}),(0,Mm.jsxs)("div",{className:"grid grid-cols-2 gap-4 m-5",children:[(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-center lg:text-pink-600 leading-none text-white",children:"Nombre:"}),(0,Mm.jsx)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:p().cliente})]}),(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-center lg:text-pink-600 leading-none text-white",children:"Prendas compradas:"}),(0,Mm.jsx)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:p().prendas})]}),(0,Mm.jsxs)("div",{className:"mt-5",children:[(0,Mm.jsx)("p",{className:"text-center lg:text-pink-600 leading-none text-white",children:"Ingresos generados:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",p().ingresosTotales]})]}),(0,Mm.jsxs)("div",{className:"mt-5",children:[(0,Mm.jsx)("p",{className:"text-center lg:text-pink-600 leading-none text-white",children:"Utilidad generada:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",p().utilidad]})]})]})]}),(0,Mm.jsxs)("div",{className:"bg-pink-100 lg:bg-pink-400 z-0 mx-5 mt-2 p-2 h-64 shadow-xl text-center rounded-lg border-pink-400 border-2",children:[(0,Mm.jsx)("h1",{className:"text-pink-800 text-lg font-bold mt-3 mb-2",children:"Inventario"}),(0,Mm.jsxs)("div",{className:"grid grid-cols-2 gap-4 m-5",children:[(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-center text-pink-600 leading-none lg:text-white",children:"Cantidad de prendas:"}),(0,Mm.jsx)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:m().cantidad})]}),(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-center text-pink-600 leading-none lg:text-white",children:"Valor de inventario:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",m().suma]})]}),(0,Mm.jsxs)("div",{className:"mt-5",children:[(0,Mm.jsx)("p",{className:"text-center text-pink-600 leading-none lg:text-white",children:"Inversion en inventario:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",m().inversion]})]}),(0,Mm.jsxs)("div",{className:"mt-5",children:[(0,Mm.jsx)("p",{className:"text-center text-pink-600 leading-none lg:text-white",children:"Utilidad en inventario:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",m().suma-m().inversion]})]})]})]}),(0,Mm.jsxs)("div",{className:"bg-pink-100 bg-pink-400 z-0 mx-5 mt-2 p-2 h-64 shadow-xl text-center rounded-lg border-pink-400 border-2",children:[(0,Mm.jsx)("h1",{className:"text-pink-800 text-lg font-bold mt-3 mb-2",children:"Ventas"}),(0,Mm.jsxs)("div",{className:"grid grid-cols-2 gap-4 m-5",children:[(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-center  leading-none text-white",children:"Categoria m\xe1s vendida:"}),(0,Mm.jsx)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:(()=>{const e=d().filter((e=>"INVENTARIO"!==e.cliente)).reduce(((e,t)=>(e[t.categoria]=(e[t.categoria]||0)+1,e)),{});let t="",n=0;for(const r in e)e[r]>n&&(n=e[r],t=r);return{mejorCat:t}})().mejorCat})]}),(0,Mm.jsxs)("div",{children:[(0,Mm.jsx)("p",{className:"text-center  leading-none text-white",children:"Talla m\xe1s vendida:"}),(0,Mm.jsx)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:(()=>{const e=d().filter((e=>"INVENTARIO"!==e.cliente)).reduce(((e,t)=>(e[t.talla]=(e[t.talla]||0)+1,e)),{});let t="",n=0;for(const r in e)e[r]>n&&(n=e[r],t=r);return{mejorTalla:t}})().mejorTalla})]}),(0,Mm.jsxs)("div",{className:"mt-5",children:[(0,Mm.jsx)("p",{className:"text-center  leading-none text-white",children:"Cantidad de clientes:"}),(0,Mm.jsx)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:p().cantidadClientes})]}),(0,Mm.jsxs)("div",{className:"mt-5",children:[(0,Mm.jsx)("p",{className:"text-center  leading-none text-white",children:"Precio promedio:"}),(0,Mm.jsxs)("p",{className:"text-pink-800 text-lg mt-1 font-bold",children:["$",(()=>{const e=d().reduce(((e,t)=>e+t.precio),0);return Math.round(e/d().length)})()]})]})]})]})]})]}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})]})};const Kw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)([]),{id:f}=ee(),p=s.map((e=>({value:e.id,label:e.cliente}))),[m,g]=(0,e.useState)({prenda:"",detalles:"",costo:"",precio:"",tallas:"",talla:"",categoria:"",proveedor:"",fotos:[],cliente:"",fecha:"",color:"",pago:"",lugar:"",entrega:"",comprado:!1,entregado:!1}),v=["(Inf 2-4)","(Inf 6-8)","(Inf 10-12)","(juv 14-16)","(XS 3-5)","(28-30)","(30-32)","(30-34)","(32-36)","(32-34)","(34-36)","(36-38)","(38-40)","(40-42)","Unitalla","(5)","(7)","(9)","(11)","(13)","(15)","(17)","(4)","(6)","(8)","(10)","(12)","(14)","(16)","(28)","(30)","(32)","(34)","(36)","(38)","(40)","(42)"].map((e=>({value:e,label:e}))),y=["Punto de venta","A domicilio"].map((e=>({value:e,label:e}))),b=["Tlalmanalco","San Rafael","Ameca","CDMX","Chalco","Ixtapaluca","Miraflores"].map((e=>({value:e,label:e}))),w=d.map((e=>({value:e.id,label:e.proveedor}))),x=["Abrigos","Accesorios","Patria","Blusas","Playeras","Playeras deportivas","Conjuntos","Conjuntos deportivos","Chamarras","Sudaderas","Maxi sudaderas","Maxi vestidos","Maxi cobijas","Ensambles","Pantalones","Pants","Shorts","Infantil ni\xf1o","Infantil ni\xf1a","Medias","Leggins","Mallones","Ropa interior","Sacos","Blazers","Capas","Palazzos","Camisas","Gorros","Calzado","Chalecos","Blusones","Pijamas","Guantes","Faldas","Su\xe9teres","Overoles","Otros","Sin Categoria","Ni\xf1os uisex","Gabardinas","Vestidos"].map((e=>({value:e,label:e})));(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"clientes"))).docs.map((e=>({id:e.id,...e.data()})));a(e)}catch(e){console.error("Error al cargar los proveedores",e)}})()}),[]),(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"proveedores"))).docs.map((e=>({id:e.id,...e.data()})));h(e)}catch(e){console.error("Error al cargar los proveedores",e)}})()}),[]);const _=e=>{const{name:t,value:n}=e.target;g({...m,[t]:n})};return(0,Mm.jsxs)("div",{className:"bg-pink-100 min-h-screen",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none text-xl font-bold text-white z-50",children:"A\xf1adir pedido (sin imagen)"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsx)("main",{className:"pb-16 pt-10 flex lg:flex-row flex-col justify-center",children:(0,Mm.jsxs)("form",{onSubmit:async e=>{var t,n,r,i,s,a;e.preventDefault();const o={...m,cliente:(null===(t=m.cliente)||void 0===t?void 0:t.label)||"",proveedor:(null===(n=m.proveedor)||void 0===n?void 0:n.label)||"",lugar:(null===(r=m.lugar)||void 0===r?void 0:r.label)||"",categoria:(null===(i=m.categoria)||void 0===i?void 0:i.label)||"",entrega:(null===(s=m.entrega)||void 0===s?void 0:s.label)||"",talla:(null===(a=m.talla)||void 0===a?void 0:a.label)||"",fotos:c,pago:Number(m.pago),costo:Number(m.costo),precio:Number(m.precio),comprado:!!m.comprado,entregado:!!m.entregado};try{await ym(gp(_m,"pedidos"),o),alert("Pedido agregado con \xe9xito."),(async()=>{try{const e=vp(_m,"disponible",f),t=await fm(e);if(t.exists()){const e=t.data();g({prenda:e.prenda,detalles:e.detalles,costo:e.costo,precio:e.precio,tallas:e.talla,talla:"",categoria:e.categoria,proveedor:e.proveedor,fotos:e.fotos||[],cliente:"",fecha:"",color:"",pago:"",lugar:"",entrega:"",comprado:!1,entregado:!1})}}catch(e){console.error("Error al obtener la prenda:",e)}})(),l(""),u("")}catch(d){alert("Hubo un error al agregar el pedido."),console.error("Error al agregar el pedido:",d)}},className:"lg:border-2 lg:shadow-xl h-auto px-5 lg:py-2 pb-20 mt-10 mr-10 rounded-lg border-pink-200 max-w-lg w-full",children:[(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",htmlFor:"datePicker",children:"Fecha"}),(0,Mm.jsx)("input",{className:"w-full px-2 h-8 bg-white rounded-md shadow-sm",type:"date",id:"datePicker",value:o,onChange:e=>{const t=e.target.value;l(t),g({...m,fecha:t})},placeholder:"Fecha"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Cliente:"}),(0,Mm.jsx)(Tw,{options:p,value:m.cliente,onChange:e=>{g({...m,cliente:e})},isClearable:!0,placeholder:"Seleccionar cliente"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Prenda:"}),(0,Mm.jsx)("input",{type:"text",name:"prenda",value:m.prenda,onChange:_,placeholder:"\xbfQue prenda es?",required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Categor\xeda:"}),(0,Mm.jsx)(Tw,{options:x,value:m.categoria,onChange:e=>{g({...m,categoria:e})},isClearable:!0,placeholder:"Seleccionar categor\xeda"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Talla:"}),(0,Mm.jsx)(Tw,{options:v,value:m.talla,onChange:e=>{g({...m,talla:e})},isClearable:!0,placeholder:"Seleccionar talla"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Color:"}),(0,Mm.jsx)("input",{type:"text",name:"color",value:m.color,onChange:_,placeholder:"Seleccionar color",required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Proveedor:"}),(0,Mm.jsx)(Tw,{options:w,value:m.proveedor,onChange:e=>{g({...m,proveedor:e})},isClearable:!0,placeholder:"Seleccionar proveedor"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Costo:"}),(0,Mm.jsx)("input",{name:"costo",type:"number",value:m.costo,onChange:_,placeholder:"Costo proveedor",required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Precio:"}),(0,Mm.jsx)("input",{name:"precio",type:"number",value:m.precio,onChange:_,placeholder:"Precio publico",required:!0,className:"px-2 rounded-md h-8 shadow-sm"})]}),(0,Mm.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,Mm.jsxs)("div",{className:"flex flex-col pt-2 w-1/2 pr-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Lugar de entrega:"}),(0,Mm.jsx)(Tw,{options:b,name:"lugar",value:m.lugar,onChange:e=>{g({...m,lugar:e})},isClearable:!0,required:!0,placeholder:"Seleccionar un lugar"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col pt-2 w-1/2 pl-2",children:[(0,Mm.jsx)("label",{className:"px-2 text-pink-800 font-bold",children:"Forma de entrega:"}),(0,Mm.jsx)(Tw,{options:y,name:"entrega",value:m.entrega,onChange:e=>{g({...m,entrega:e})},isClearable:!0,required:!0,placeholder:"Seleccionar una forma"})]})]}),(0,Mm.jsxs)("div",{className:"flex flex-row mt-4 mx-10 justify-between",children:[(0,Mm.jsxs)("div",{className:"flex flex-col",children:[(0,Mm.jsx)("input",{type:"checkbox",checked:m.comprado,onChange:()=>{g({...m,comprado:!m.comprado})}}),(0,Mm.jsx)("label",{className:"text-pink-800",children:"\xbfComprado?"})]}),(0,Mm.jsxs)("div",{className:"flex flex-col",children:[(0,Mm.jsx)("input",{type:"checkbox",checked:m.entregado,onChange:()=>{g({...m,entregado:!m.entregado})}}),(0,Mm.jsx)("label",{className:"text-pink-800",children:"\xbfEntregado?"})]})]}),(0,Mm.jsx)("div",{className:"flex justify-center pt-2",children:(0,Mm.jsx)("button",{type:"submit",className:"mt-2 py-2 px-4 bg-pink-400 w-1/2 mb-5 shadow-xl text-white rounded-md cursor-pointer hover:bg-pink-200",children:"Vender"})})]})}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})]})};var Qw=n(766),Yw=n.n(Qw);const Xw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)("");(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"pedidos"))).docs.map((e=>({id:e.id,...e.data()})));e.sort(((e,t)=>{const n=e.fecha||"1970-01-01";return(t.fecha||"1970-01-01").localeCompare(n)})),a(e)}catch(e){console.error("Error al cargar los documentos",e)}})()}),[]);const d=()=>s.filter((e=>{const t=new Date(e.fecha),n=o?new Date(o):null,r=c?new Date(c):null;return(!n||t>=n)&&(!r||t<=r)}));return(0,Mm.jsxs)("div",{className:"min-h-screen bg-pink-100",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 transform pt-2 text-center pointer-events-none font-bold text-xl text-white z-50",children:"Base de datos"})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(Xm,{menuAbierto:t})}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(rg,{"menuA\xf1adir":r})}),(0,Mm.jsxs)("main",{className:"pb-16 pt-10",children:[(0,Mm.jsxs)("div",{className:"flex lg:flex-row flex-col justify-between",children:[(0,Mm.jsxs)("div",{className:"lg:p-5 px-5 pt-2 flex flex-row items-center",children:[(0,Mm.jsx)("label",{className:"text-xs text-pink-800",children:"Desde:"}),(0,Mm.jsx)("input",{type:"date",value:o,onChange:e=>l(e.target.value),className:"h-10 w-20 rounded-lg p-2 bg-white border-gray-200 border-2"}),(0,Mm.jsx)("label",{className:"text-xs text-pink-800 ml-2",children:"Hasta:"}),(0,Mm.jsx)("input",{type:"date",value:c,onChange:e=>u(e.target.value),className:"h-10 w-20 rounded-lg p-2 border-gray-200 border-2 bg-white"})]}),(0,Mm.jsx)("button",{className:"bg-pink-400 h-10 w-20 mt-5 mr-10 rounded-lg shadow-lg text-white",onClick:()=>{const e=d();if(0===e.length)return void alert("No hay datos para exportar.");const t=Yw().unparse(e.map((e=>{let{fecha:t,cliente:n,prenda:r,categoria:i,talla:s,costo:a,precio:o,color:l,lugar:c}=e;return{Fecha:t,Cliente:n,Prenda:r,Categoria:i,Talla:s,Costo:a,Precio:o,Color:l,Lugar:c}}))),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.setAttribute("download","pedidos_filtrados.csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},children:"Exportar"})]}),(0,Mm.jsx)("div",{className:"productos-container bg-pink-100 flex flex-col mx-5 mb-5",children:d().map((e=>(0,Mm.jsxs)("div",{className:"flex justify-between",children:[(0,Mm.jsx)("div",{className:"w-1/5 border-b-2 border-r-2 border-black",children:(0,Mm.jsx)("p",{children:e.fecha})}),(0,Mm.jsx)("div",{className:"w-1/5 border-b-2 border-r-2 border-black",children:(0,Mm.jsx)("p",{children:e.cliente})}),(0,Mm.jsx)("div",{className:"w-1/5 border-b-2 border-r-2 border-black",children:(0,Mm.jsx)("p",{children:e.prenda})}),(0,Mm.jsx)("div",{className:"w-1/5 border-b-2 border-r-2 border-black",children:(0,Mm.jsx)("p",{className:"text-center",children:e.categoria})}),(0,Mm.jsx)("div",{className:"w-1/5 border-b-2 border-r-2 border-black",children:(0,Mm.jsx)("p",{children:e.talla})}),(0,Mm.jsx)("div",{className:"w-1/5 border-b-2 border-r-2 border-black",children:(0,Mm.jsx)("p",{children:e.costo})}),(0,Mm.jsx)("div",{className:"w-1/5 border-b-2 border-r-2 border-black",children:(0,Mm.jsx)("p",{className:"text-center",children:e.precio})}),(0,Mm.jsx)("div",{className:"w-1/5 border-b-2 border-r-2 border-black",children:(0,Mm.jsx)("p",{children:e.color})}),(0,Mm.jsx)("div",{className:"w-1/5 border-b-2 border-r-2 border-black",children:(0,Mm.jsx)("p",{children:e.lugar})})]})))})]}),(0,Mm.jsx)("div",{children:(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})})]})};const Jw=function(){const[t,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(""),c=Z();(0,e.useEffect)((()=>{(async()=>{try{const e=(await mm(gp(_m,"clientes"))).docs.map((e=>({id:e.id,...e.data()})));a(e)}catch(e){console.error("Error al cargar los documentos",e)}})()}),[]);const u=s.filter((e=>`${e.cliente} ${e.telefono} ${e.cumplea\u00f1os}`.toLowerCase().includes(o.toLowerCase())));return(0,Mm.jsxs)("div",{className:"min-h-screen bg-pink-100",children:[(0,Mm.jsxs)("header",{className:"relative",children:[(0,Mm.jsx)(zm,{menuAbierto:t,manejadorMenu:()=>{n(!t)}}),(0,Mm.jsx)("h1",{className:"fixed inset-x-0 pt-2 text-center pointer-events-none font-bold text-xl text-white z-50",children:"Clientes"})]}),(0,Mm.jsx)(Xm,{menuAbierto:t}),(0,Mm.jsx)(rg,{"menuA\xf1adir":r}),(0,Mm.jsxs)("main",{className:"pb-16 pt-24 px-4",children:[(0,Mm.jsx)("div",{className:"mb-4",children:(0,Mm.jsx)("input",{type:"text",placeholder:"Buscar cliente, tel\xe9fono o cumplea\xf1os...",className:"w-full px-4 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-300",value:o,onChange:e=>l(e.target.value)})}),(0,Mm.jsxs)("div",{className:"shadow-md rounded-lg overflow-hidden",children:[(0,Mm.jsxs)("div",{className:"grid grid-cols-3 bg-pink-300 text-white font-semibold text-center py-2",children:[(0,Mm.jsx)("div",{children:"Cliente"}),(0,Mm.jsx)("div",{children:"Tel\xe9fono"}),(0,Mm.jsx)("div",{children:"Cumplea\xf1os"})]}),u.map(((e,t)=>(0,Mm.jsxs)("div",{onClick:()=>{var t;c(`/EditarCliente/${(t=e).id}`,{state:{cliente:t}})},className:"grid grid-cols-3 text-center py-2 cursor-pointer transition hover:bg-pink-200 "+(t%2===0?"bg-pink-50":"bg-pink-100"),children:[(0,Mm.jsx)("div",{children:e.cliente}),(0,Mm.jsx)("div",{children:e.telefono}),(0,Mm.jsx)("div",{children:e.cumplea\u00f1os})]},e.id))),0===u.length&&(0,Mm.jsx)("div",{className:"text-center py-4 text-pink-500",children:"No se encontraron resultados."})]})]}),(0,Mm.jsx)(tg,{"manejadorMenuA\xf1adir":()=>{i(!r)}})]})};const Zw=function(){const{id:t}=ee(),n=Y(),r=Z(),[i,s]=(0,e.useState)({cliente:"",telefono:"","cumplea\xf1os":""});(0,e.useEffect)((()=>{(async()=>{var e;if(null!==(e=n.state)&&void 0!==e&&e.cliente)s(n.state.cliente);else{const e=vp(_m,"clientes",t),n=await fm(e);n.exists()?s({id:n.id,...n.data()}):console.error("No se encontr\xf3 el cliente")}})()}),[t,n.state]);const a=e=>{s({...i,[e.target.name]:e.target.value})};return(0,Mm.jsxs)("div",{className:"min-h-screen bg-pink-100",children:[(0,Mm.jsx)(zm,{}),(0,Mm.jsxs)("main",{className:"pt-24 px-4 pb-16",children:[(0,Mm.jsx)("h2",{className:"text-xl font-bold mb-4 text-center text-pink-600",children:"Editar Cliente"}),(0,Mm.jsxs)("div",{className:"space-y-4 max-w-md mx-auto",children:[(0,Mm.jsx)("input",{type:"text",name:"cliente",value:i.cliente,onChange:a,placeholder:"Nombre del cliente",className:"w-full px-4 py-2 border rounded-md shadow-sm"}),(0,Mm.jsx)("input",{type:"text",name:"telefono",value:i.telefono,onChange:a,placeholder:"Tel\xe9fono",className:"w-full px-4 py-2 border rounded-md shadow-sm"}),(0,Mm.jsx)("input",{type:"date",name:"cumplea\xf1os",value:i.cumplea\u00f1os,onChange:a,className:"w-full px-4 py-2 border rounded-md shadow-sm"}),(0,Mm.jsx)("button",{onClick:async()=>{try{const e=vp(_m,"clientes",t);await gm(e,{cliente:i.cliente,telefono:i.telefono,"cumplea\xf1os":i.cumplea\u00f1os}),alert("Cliente actualizado con \xe9xito"),r("/clientes")}catch(e){console.error("Error al actualizar cliente",e)}},className:"w-full bg-pink-500 text-white py-2 rounded-lg hover:bg-pink-600",children:"Guardar Cambios"})]})]}),(0,Mm.jsx)(tg,{})]})},ex={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#F5EBDD",padding:"1rem"},form:{backgroundColor:"#fff",padding:"2rem",borderRadius:"1rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",width:"100%",maxWidth:"400px",display:"flex",flexDirection:"column",gap:"1rem"},title:{textAlign:"center",color:"#3C3C3C",marginBottom:"1rem"},input:{padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #C2C2C2",fontSize:"1rem",outline:"none",color:"#3C3C3C"},button:{backgroundColor:"#D88C6D",color:"#fff",padding:"0.75rem",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"background 0.3s"},error:{color:"red",fontSize:"0.9rem",textAlign:"center"}};ex.button[":hover"]={backgroundColor:"#c0765b"};const tx=t=>{let{onLogin:n}=t;const[r,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[o,l]=(0,e.useState)("");return(0,Mm.jsx)("div",{style:ex.container,children:(0,Mm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await function(e,t,n){return Hn(e.app)?Promise.reject(gr(e)):as(jt(e),Wi.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&os(e),t}))}(km,r,s),n()}catch(t){l("Correo o contrase\xf1a incorrectos")}},style:ex.form,children:[(0,Mm.jsx)("h2",{style:ex.title,children:"Inicia Sesi\xf3n"}),o&&(0,Mm.jsx)("p",{style:ex.error,children:o}),(0,Mm.jsx)("input",{type:"email",placeholder:"Correo electr\xf3nico",value:r,onChange:e=>i(e.target.value),style:ex.input,required:!0}),(0,Mm.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:s,onChange:e=>a(e.target.value),style:ex.input,required:!0}),(0,Mm.jsx)("button",{type:"submit",style:ex.button,children:"Entrar"})]})})};function nx(){const[t,n]=(0,e.useState)(null);return(0,e.useEffect)((()=>{const e=function(e,t,n,r){return jt(e).onAuthStateChanged(t,n,r)}(km,(e=>{n(e)}));return()=>e()}),[]),null===t?(0,Mm.jsx)(tx,{onLogin:()=>{}}):(0,Mm.jsx)(Xe,{basename:"malim-app",children:(0,Mm.jsxs)(ve,{children:[(0,Mm.jsx)(me,{path:"/",element:(0,Mm.jsx)(ag,{})}),(0,Mm.jsx)(me,{path:"Disponible",element:(0,Mm.jsx)(Iw,{})}),(0,Mm.jsx)(me,{path:"FormA\xf1adirDisponible",element:(0,Mm.jsx)(jw,{})}),(0,Mm.jsx)(me,{path:"DetallePrenda/:id",element:(0,Mm.jsx)(Aw,{})}),(0,Mm.jsx)(me,{path:"FormA\xf1adirProveedor",element:(0,Mm.jsx)(Pw,{})}),(0,Mm.jsx)(me,{path:"MarcaAgua",element:(0,Mm.jsx)(Lw,{})}),(0,Mm.jsx)(me,{path:"FormVender/:id",element:(0,Mm.jsx)(Mw,{})}),(0,Mm.jsx)(me,{path:"Pedidos",element:(0,Mm.jsx)(zw,{})}),(0,Mm.jsx)(me,{path:"ModificarPedido/:id",element:(0,Mm.jsx)(Fw,{})}),(0,Mm.jsx)(me,{path:"FormA\xf1adirCliente",element:(0,Mm.jsx)(Uw,{})}),(0,Mm.jsx)(me,{path:"Compras",element:(0,Mm.jsx)(Vw,{})}),(0,Mm.jsx)(me,{path:"Entregas",element:(0,Mm.jsx)(Bw,{})}),(0,Mm.jsx)(me,{path:"PorCobrar",element:(0,Mm.jsx)($w,{})}),(0,Mm.jsx)(me,{path:"AgregarPago/:id",element:(0,Mm.jsx)(Hw,{})}),(0,Mm.jsx)(me,{path:"Inventario",element:(0,Mm.jsx)(qw,{})}),(0,Mm.jsx)(me,{path:"FormVenderInventario/:id",element:(0,Mm.jsx)(Ww,{})}),(0,Mm.jsx)(me,{path:"Estadisticas",element:(0,Mm.jsx)(Gw,{})}),(0,Mm.jsx)(me,{path:"A\xf1adirPedidoDirecto",element:(0,Mm.jsx)(Kw,{})}),(0,Mm.jsx)(me,{path:"Descripciones",element:(0,Mm.jsx)(Xw,{})}),(0,Mm.jsx)(me,{path:"Clientes",element:(0,Mm.jsx)(Jw,{})}),(0,Mm.jsx)(me,{path:"EditarCliente/:id",element:(0,Mm.jsx)(Zw,{})})]})})}r.createRoot(document.getElementById("root")).render((0,Mm.jsx)(nx,{}))})()})();
//# sourceMappingURL=main.a2950dd2.js.map